/*! For license information please see main.17755e69.js.LICENSE.txt */
(()=>{"use strict";var e={730:(e,t,n)=>{var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),x=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function j(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case _:return"Portal";case T:return"Profiler";case k:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case x:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function Y(e,t){J(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Se=null,ke=null;function Te(e){if(e=wi(e)){if("function"!==typeof _e)throw Error(s(280));var t=e.stateNode;t&&(t=Ei(t),_e(e.stateNode,e.type,t))}}function Ce(e){Se?ke?ke.push(e):ke=[e]:Se=e}function xe(){if(Se){var e=Se,t=ke;if(ke=Se=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ie(e,t){return e(t)}function Ne(){}var Ae=!1;function De(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ie(e,t,n)}finally{Ae=!1,(null!==Se||null!==ke)&&(Ne(),xe())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=Ei(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Re=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){Re=!1}function je(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Me=null,Fe=!1,Ue=null,Ve={onError:function(e){Le=!0,Me=e}};function ze(e,t,n,r,i,s,a,o,l){Le=!1,Me=null,je.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(s(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Je=i.unstable_now,Ye=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=dt(o):0!==(s&=a)&&(r=dt(s))}else 0!==(a=n&~i)?r=dt(a):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Et,_t,St,kt,Tt,Ct=!1,xt=[],It=null,Nt=null,At=null,Dt=new Map,Pt=new Map,Rt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Lt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Tt(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Ct=!1,null!==It&&Ft(It)&&(It=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==At&&Ft(At)&&(At=null),Dt.forEach(Ut),Pt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<xt.length){zt(xt[0],e);for(var n=1;n<xt.length;n++){var r=xt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&zt(It,e),null!==Nt&&zt(Nt,e),null!==At&&zt(At,e),Dt.forEach(t),Pt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Rt.shift()}var qt=b.ReactCurrentBatchConfig,Ht=!0;function Kt(e,t,n,r){var i=wt,s=qt.transition;qt.transition=null;try{wt=1,Gt(e,t,n,r)}finally{wt=i,qt.transition=s}}function Wt(e,t,n,r){var i=wt,s=qt.transition;qt.transition=null;try{wt=4,Gt(e,t,n,r)}finally{wt=i,qt.transition=s}}function Gt(e,t,n,r){if(Ht){var i=$t(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),jt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Lt(It,e,t,n,r,i),!0;case"dragenter":return Nt=Lt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Lt(At,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Dt.set(s,Lt(Dt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Pt.set(s,Lt(Pt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(jt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var s=wi(i);if(null!==s&&Et(s),null===(s=$t(e,t,n,r))&&Hr(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=yi(e=Ee(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ye()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Yt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Yt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),dn=M({},cn,{view:0,detail:0}),hn=sn(dn),fn=M({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(fn),mn=sn(M({},fn,{dataTransfer:0})),gn=sn(M({},dn,{relatedTarget:0})),vn=sn(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=sn(yn),bn=sn(M({},cn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Tn(){return kn}var Cn=M({},dn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),xn=sn(Cn),In=sn(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(M({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),An=sn(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=sn(Dn),Rn=[9,13,27,32],On=u&&"CompositionEvent"in window,jn=null;u&&"documentMode"in document&&(jn=document.documentMode);var Ln=u&&"TextEvent"in window&&!jn,Mn=u&&(!On||jn&&8<jn&&11>=jn),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ce(r),0<(t=Wr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Gn=null;function Qn(e){Fr(e,0)}function $n(e){if(G(bi(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(u){var Yn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Yn=Zn}else Yn=!1;Jn=Yn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Gn=Wn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];Kn(t,Gn,e,Ee(e)),De(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function sr(e,t){if("click"===e)return $n(t)}function ar(e,t){if("input"===e||"change"===e)return $n(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!or(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function Er(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionend:Er("Transition","TransitionEnd")},Sr={},kr={};function Tr(e){if(Sr[e])return Sr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Sr[e]=n[t];return e}u&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Cr=Tr("animationend"),xr=Tr("animationiteration"),Ir=Tr("animationstart"),Nr=Tr("transitionend"),Ar=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Ar.set(e,t),l(t,[e])}for(var Rr=0;Rr<Dr.length;Rr++){var Or=Dr[Rr];Pr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Pr(Cr,"onAnimationEnd"),Pr(xr,"onAnimationIteration"),Pr(Ir,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(jr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(ze.apply(this,arguments),Le){if(!Le)throw Error(s(198));var u=Me;Le=!1,Me=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,o,c),s=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Kt;break;case 4:i=Wt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=yi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}De((function(){var r=s,i=Ee(n),a=[];e:{var o=Ar.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=xn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case Cr:case xr:case Ir:l=vn;break;case Nr:l=An;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Pe(p,h))&&u.push(Kr(p,m,f)))),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=In,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:bi(l),f=null==c?o:bi(c),(o=new u(m,p+"leave",l,n,i)).target=d,o.relatedTarget=f,m=null,yi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=h;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)h=Gr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==l&&Qr(a,o,l,u,!1),null!==c&&null!==d&&Qr(a,d,c,u,!0)}if("select"===(l=(o=r?bi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Xn;else if(Hn(o))if(Jn)g=ar;else{g=ir;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Kn(a,g,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?bi(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(a,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Bn?Vn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Mn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Bn&&(y=en()):(Yt="value"in(Jt=i)?Jt.value:Jt.textContent,Bn=!0)),0<(v=Wr(r,w)).length&&(w=new bn(w,e,null,n,i),a.push({event:w,listeners:v}),y?w.data=y:null!==(y=zn(n))&&(w.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!On&&Vn(e,t)?(e=en(),Zt=Yt=Jt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Fr(a,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Pe(e,n))&&r.unshift(Kr(e,s,i)),null!=(s=Pe(e,t))&&r.push(Kr(e,s,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Pe(n,s))&&a.unshift(Kr(n,l,o)):i||null!=(l=Pe(n,s))&&a.push(Kr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var $r=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Xr,"")}function Yr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Ei(e){return e[fi]||null}var _i=[],Si=-1;function ki(e){return{current:e}}function Ti(e){0>Si||(e.current=_i[Si],_i[Si]=null,Si--)}function Ci(e,t){Si++,_i[Si]=e.current,e.current=t}var xi={},Ii=ki(xi),Ni=ki(!1),Ai=xi;function Di(e,t){var n=e.type.contextTypes;if(!n)return xi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ti(Ni),Ti(Ii)}function Oi(e,t,n){if(Ii.current!==xi)throw Error(s(168));Ci(Ii,t),Ci(Ni,n)}function ji(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return M({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xi,Ai=Ii.current,Ci(Ii,e),Ci(Ni,Ni.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=ji(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ti(Ni),Ti(Ii),Ci(Ii,e)):Ti(Ni),Ci(Ni,n)}var Fi=null,Ui=!1,Vi=!1;function zi(e){null===Fi?Fi=[e]:Fi.push(e)}function Bi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=wt;try{var n=Fi;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,Bi),i}finally{wt=t,Vi=!1}}return null}var qi=[],Hi=0,Ki=null,Wi=0,Gi=[],Qi=0,$i=null,Xi=1,Ji="";function Yi(e,t){qi[Hi++]=Wi,qi[Hi++]=Ki,Ki=e,Wi=t}function Zi(e,t,n){Gi[Qi++]=Xi,Gi[Qi++]=Ji,Gi[Qi++]=$i,$i=e;var r=Xi;e=Ji;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Xi=1<<32-at(t)+i|n<<i|r,Ji=s+e}else Xi=1<<s|n<<i|r,Ji=e}function es(e){null!==e.return&&(Yi(e,1),Zi(e,1,0))}function ts(e){for(;e===Ki;)Ki=qi[--Hi],qi[Hi]=null,Wi=qi[--Hi],qi[Hi]=null;for(;e===$i;)$i=Gi[--Qi],Gi[Qi]=null,Ji=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function as(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Xi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&os(e,t)?as(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)as(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=b.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function ws(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===P&&ys(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=jc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case _:return(t=Fc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||j(t))return(t=jc(t,e.mode,n,null)).return=e,t;vs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?u(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||j(n))return null!==i?null:d(e,t,n,r,null);vs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||j(r))return d(t,e=e.get(n)||null,r,i,null);vs(t,r)}return null}function m(i,s,o,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,o[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),s=a(v,s,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===o.length)return n(i,d),is&&Yi(i,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(i,o[m],l))&&(s=a(d,s,m),null===u?c=d:u.sibling=d,u=d);return is&&Yi(i,m),c}for(d=r(i,d);m<o.length;m++)null!==(g=p(d,i,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=a(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),is&&Yi(i,m),c}function g(i,o,l,c){var u=j(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var w=f(i,m,y.value,c);if(null===w){null===m&&(m=v);break}e&&m&&null===w.alternate&&t(i,m),o=a(w,o,g),null===d?u=w:d.sibling=w,d=w,m=v}if(y.done)return n(i,m),is&&Yi(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return is&&Yi(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),is&&Yi(i,g),u}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case E:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===S){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&ys(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=gs(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===S?((s=jc(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Oc(a.type,a.key,a.props,null,r.mode,l)).ref=gs(r,s,a),l.return=r,r=l)}return o(r);case _:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Fc(a,r.mode,l)).return=r,r=s}return o(r);case P:return e(r,s,(u=a._init)(a._payload),l)}if(te(a))return m(r,s,a,l);if(j(a))return g(r,s,a,l);vs(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Mc(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var bs=ws(!0),Es=ws(!1),_s=ki(null),Ss=null,ks=null,Ts=null;function Cs(){Ts=ks=Ss=null}function xs(e){var t=_s.current;Ti(_s),e._currentValue=t}function Is(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ns(e,t){Ss=e,Ts=ks=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wo=!0),e.firstContext=null)}function As(e){var t=e._currentValue;if(Ts!==e)if(e={context:e,memoizedValue:t,next:null},null===ks){if(null===Ss)throw Error(s(308));ks=e,Ss.dependencies={lanes:0,firstContext:e}}else ks=ks.next=e;return t}var Ds=null;function Ps(e){null===Ds?Ds=[e]:Ds.push(e)}function Rs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ps(t)):(n.next=i.next,i.next=n),t.interleaved=n,Os(e,r)}function Os(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var js=!1;function Ls(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ms(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Us(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Il)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Os(e,n)}return null===(i=r.interleaved)?(t.next=t,Ps(r)):(t.next=i.next,i.next=t),r.interleaved=t,Os(e,n)}function Vs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function zs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bs(e,t,n,r){var i=e.updateQueue;js=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(a=0,u=c=l=null,o=s;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=M({},d,h);break e;case 2:js=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ll|=a,e.lanes=a,e.memoizedState=d}}function qs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Hs={},Ks=ki(Hs),Ws=ki(Hs),Gs=ki(Hs);function Qs(e){if(e===Hs)throw Error(s(174));return e}function $s(e,t){switch(Ci(Gs,t),Ci(Ws,e),Ci(Ks,Hs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Ks),Ci(Ks,t)}function Xs(){Ti(Ks),Ti(Ws),Ti(Gs)}function Js(e){Qs(Gs.current);var t=Qs(Ks.current),n=le(t,e.type);t!==n&&(Ci(Ws,e),Ci(Ks,n))}function Ys(e){Ws.current===e&&(Ti(Ks),Ti(Ws))}var Zs=ki(0);function ea(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ta=[];function na(){for(var e=0;e<ta.length;e++)ta[e]._workInProgressVersionPrimary=null;ta.length=0}var ra=b.ReactCurrentDispatcher,ia=b.ReactCurrentBatchConfig,sa=0,aa=null,oa=null,la=null,ca=!1,ua=!1,da=0,ha=0;function fa(){throw Error(s(321))}function pa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ma(e,t,n,r,i,a){if(sa=a,aa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ra.current=null===e||null===e.memoizedState?Ya:Za,e=n(r,i),ua){a=0;do{if(ua=!1,da=0,25<=a)throw Error(s(301));a+=1,la=oa=null,t.updateQueue=null,ra.current=eo,e=n(r,i)}while(ua)}if(ra.current=Ja,t=null!==oa&&null!==oa.next,sa=0,la=oa=aa=null,ca=!1,t)throw Error(s(300));return e}function ga(){var e=0!==da;return da=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?aa.memoizedState=la=e:la=la.next=e,la}function ya(){if(null===oa){var e=aa.alternate;e=null!==e?e.memoizedState:null}else e=oa.next;var t=null===la?aa.memoizedState:la.next;if(null!==t)la=t,oa=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oa=e).memoizedState,baseState:oa.baseState,baseQueue:oa.baseQueue,queue:oa.queue,next:null},null===la?aa.memoizedState=la=e:la=la.next=e}return la}function wa(e,t){return"function"===typeof t?t(e):t}function ba(e){var t=ya(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=oa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((sa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,aa.lanes|=d,Ll|=d}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,or(r,t.memoizedState)||(wo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,aa.lanes|=a,Ll|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ea(e){var t=ya(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(wo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function _a(){}function Sa(e,t){var n=aa,r=ya(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,wo=!0),r=r.queue,ja(Ca.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==la&&1&la.memoizedState.tag){if(n.flags|=2048,Aa(9,Ta.bind(null,n,r,i,t),void 0,null),null===Nl)throw Error(s(349));0!==(30&sa)||ka(n,t,i)}return i}function ka(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ta(e,t,n,r){t.value=n,t.getSnapshot=r,xa(t)&&Ia(e)}function Ca(e,t,n){return n((function(){xa(t)&&Ia(e)}))}function xa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ia(e){var t=Os(e,1);null!==t&&nc(t,e,1,-1)}function Na(e){var t=va();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:e},t.queue=e,e=e.dispatch=Ga.bind(null,aa,e),[t.memoizedState,e]}function Aa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Da(){return ya().memoizedState}function Pa(e,t,n,r){var i=va();aa.flags|=e,i.memoizedState=Aa(1|t,n,void 0,void 0===r?null:r)}function Ra(e,t,n,r){var i=ya();r=void 0===r?null:r;var s=void 0;if(null!==oa){var a=oa.memoizedState;if(s=a.destroy,null!==r&&pa(r,a.deps))return void(i.memoizedState=Aa(t,n,s,r))}aa.flags|=e,i.memoizedState=Aa(1|t,n,s,r)}function Oa(e,t){return Pa(8390656,8,e,t)}function ja(e,t){return Ra(2048,8,e,t)}function La(e,t){return Ra(4,2,e,t)}function Ma(e,t){return Ra(4,4,e,t)}function Fa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ua(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ra(4,4,Fa.bind(null,t,e),n)}function Va(){}function za(e,t){var n=ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ba(e,t){var n=ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qa(e,t,n){return 0===(21&sa)?(e.baseState&&(e.baseState=!1,wo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),aa.lanes|=n,Ll|=n,e.baseState=!0),t)}function Ha(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=ia.transition;ia.transition={};try{e(!1),t()}finally{wt=n,ia.transition=r}}function Ka(){return ya().memoizedState}function Wa(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qa(e))$a(t,n);else if(null!==(n=Rs(e,t,n,r))){nc(n,e,r,ec()),Xa(n,t,r)}}function Ga(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qa(e))$a(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(i.next=i,Ps(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Rs(e,t,i,r))&&(nc(n,e,r,i=ec()),Xa(n,t,r))}}function Qa(e){var t=e.alternate;return e===aa||null!==t&&t===aa}function $a(e,t){ua=ca=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Ja={readContext:As,useCallback:fa,useContext:fa,useEffect:fa,useImperativeHandle:fa,useInsertionEffect:fa,useLayoutEffect:fa,useMemo:fa,useReducer:fa,useRef:fa,useState:fa,useDebugValue:fa,useDeferredValue:fa,useTransition:fa,useMutableSource:fa,useSyncExternalStore:fa,useId:fa,unstable_isNewReconciler:!1},Ya={readContext:As,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:As,useEffect:Oa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Pa(4194308,4,Fa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Pa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pa(4,2,e,t)},useMemo:function(e,t){var n=va();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=va();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Wa.bind(null,aa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:Na,useDebugValue:Va,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=Na(!1),t=e[0];return e=Ha.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=aa,i=va();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Nl)throw Error(s(349));0!==(30&sa)||ka(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Oa(Ca.bind(null,r,a,e),[e]),r.flags|=2048,Aa(9,Ta.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=va(),t=Nl.identifierPrefix;if(is){var n=Ji;t=":"+t+"R"+(n=(Xi&~(1<<32-at(Xi)-1)).toString(32)+n),0<(n=da++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ha++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Za={readContext:As,useCallback:za,useContext:As,useEffect:ja,useImperativeHandle:Ua,useInsertionEffect:La,useLayoutEffect:Ma,useMemo:Ba,useReducer:ba,useRef:Da,useState:function(){return ba(wa)},useDebugValue:Va,useDeferredValue:function(e){return qa(ya(),oa.memoizedState,e)},useTransition:function(){return[ba(wa)[0],ya().memoizedState]},useMutableSource:_a,useSyncExternalStore:Sa,useId:Ka,unstable_isNewReconciler:!1},eo={readContext:As,useCallback:za,useContext:As,useEffect:ja,useImperativeHandle:Ua,useInsertionEffect:La,useLayoutEffect:Ma,useMemo:Ba,useReducer:Ea,useRef:Da,useState:function(){return Ea(wa)},useDebugValue:Va,useDeferredValue:function(e){var t=ya();return null===oa?t.memoizedState=e:qa(t,oa.memoizedState,e)},useTransition:function(){return[Ea(wa)[0],ya().memoizedState]},useMutableSource:_a,useSyncExternalStore:Sa,useId:Ka,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Fs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Us(e,s,i))&&(nc(t,e,i,r),Vs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Fs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Us(e,s,i))&&(nc(t,e,i,r),Vs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Fs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Us(e,i,r))&&(nc(t,e,r,n),Vs(t,e,r))}};function io(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function so(e,t,n){var r=!1,i=xi,s=t.contextType;return"object"===typeof s&&null!==s?s=As(s):(i=Pi(t)?Ai:Ii.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Di(e,i):xi),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ao(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ls(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=As(s):(s=Pi(t)?Ai:Ii.current,i.context=Di(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(no(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ro.enqueueReplaceState(i,i.state,null),Bs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ho="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=Fs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Kl=r),uo(0,t)},n}function po(e,t,n){(n=Fs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){uo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fs(-1,1)).tag=2,Us(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var yo=b.ReactCurrentOwner,wo=!1;function bo(e,t,n,r){t.child=null===e?Es(t,null,n,r):bs(t,e.child,n,r)}function Eo(e,t,n,r,i){n=n.render;var s=t.ref;return Ns(t,i),r=ma(e,t,n,r,s,i),n=ga(),null===e||wo?(is&&n&&es(t),t.flags|=1,bo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ho(e,t,i))}function _o(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Pc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,So(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Ho(e,t,i)}return t.flags|=1,(e=Rc(s,r)).ref=t.ref,e.return=t,t.child=e}function So(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(wo=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ho(e,t,i);0!==(131072&e.flags)&&(wo=!0)}}return Co(e,t,n,r,i)}function ko(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Rl,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Rl,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ci(Rl,Pl),Pl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ci(Rl,Pl),Pl|=r;return bo(e,t,i,n),t.child}function To(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Co(e,t,n,r,i){var s=Pi(n)?Ai:Ii.current;return s=Di(t,s),Ns(t,i),n=ma(e,t,n,r,s,i),r=ga(),null===e||wo?(is&&r&&es(t),t.flags|=1,bo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ho(e,t,i))}function xo(e,t,n,r,i){if(Pi(n)){var s=!0;Li(t)}else s=!1;if(Ns(t,i),null===t.stateNode)qo(e,t),so(t,n,r),oo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=As(c):c=Di(t,c=Pi(n)?Ai:Ii.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&ao(t,a,r,c),js=!1;var h=t.memoizedState;a.state=h,Bs(t,r,a,i),l=t.memoizedState,o!==r||h!==l||Ni.current||js?("function"===typeof u&&(no(t,n,u,r),l=t.memoizedState),(o=js||io(t,n,o,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ms(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=As(l):l=Di(t,l=Pi(n)?Ai:Ii.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&ao(t,a,r,l),js=!1,h=t.memoizedState,a.state=h,Bs(t,r,a,i);var p=t.memoizedState;o!==d||h!==p||Ni.current||js?("function"===typeof f&&(no(t,n,f,r),p=t.memoizedState),(c=js||io(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Io(e,t,n,r,s,i)}function Io(e,t,n,r,i,s){To(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Mi(t,n,!1),Ho(e,t,s);r=t.stateNode,yo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=bs(t,e.child,null,s),t.child=bs(t,null,o,s)):bo(e,t,o,s),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function No(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),$s(e,t.containerInfo)}function Ao(e,t,n,r,i){return fs(),ps(i),t.flags|=256,bo(e,t,n,r),t.child}var Do,Po,Ro,Oo,jo={dehydrated:null,treeContext:null,retryLane:0};function Lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mo(e,t,n){var r,i=t.pendingProps,a=Zs.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ci(Zs,1&a),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Lc(l,i,0,null),e=jc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Lo(n),t.memoizedState=jo,e):Fo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,Uo(e,t,o,r=co(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(a=jc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&bs(t,e.child,null,o),t.child.memoizedState=Lo(o),t.memoizedState=jo,a);if(0===(1&t.mode))return Uo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Uo(e,t,o,r=co(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),wo||l){if(null!==(r=Nl)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Os(e,i),nc(r,e,i,-1))}return mc(),Uo(e,t,o,r=co(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=xc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Gi[Qi++]=Xi,Gi[Qi++]=Ji,Gi[Qi++]=$i,Xi=e.id,Ji=e.overflow,$i=t),t=Fo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Rc(r,o):(o=jc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Lo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=jo,i}return e=(o=e.child).sibling,i=Rc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fo(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uo(e,t,n,r){return null!==r&&ps(r),bs(t,e.child,null,n),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Is(e.return,t,n)}function zo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Bo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(bo(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vo(e,n,t);else if(19===e.tag)Vo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ea(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ea(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zo(t,!0,n,null,s);break;case"together":zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ho(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ko(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Go(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wo(t),null;case 1:case 17:return Pi(t.type)&&Ri(),Wo(t),null;case 3:return r=t.stateNode,Xs(),Ti(Ni),Ti(Ii),na(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ac(ss),ss=null))),Po(e,t),Wo(t),null;case 5:Ys(t);var i=Qs(Gs.current);if(n=t.type,null!==e&&null!=t.stateNode)Ro(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Wo(t),null}if(e=Qs(Ks.current),ds(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<jr.length;i++)Ur(jr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":X(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Yr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Yr(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":W(r),Z(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Do(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<jr.length;i++)Ur(jr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":X(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Ur("scroll",e):null!=u&&w(e,a,u,l))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wo(t),null;case 6:if(e&&null!=t.stateNode)Oo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Qs(Gs.current),Qs(Ks.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Yr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Yr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Wo(t),null;case 13:if(Ti(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,a=!1;else if(a=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[hi]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wo(t),a=!1}else null!==ss&&(ac(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Ol&&(Ol=3):mc())),null!==t.updateQueue&&(t.flags|=4),Wo(t),null);case 4:return Xs(),Po(e,t),null===e&&Br(t.stateNode.containerInfo),Wo(t),null;case 10:return xs(t.type._context),Wo(t),null;case 19:if(Ti(Zs),null===(a=t.memoizedState))return Wo(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Ko(a,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ea(e))){for(t.flags|=128,Ko(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==a.tail&&Je()>Bl&&(t.flags|=128,r=!0,Ko(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ea(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ko(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!is)return Wo(t),null}else 2*Je()-a.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,Ko(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Je(),t.sibling=null,n=Zs.current,Ci(Zs,r?1&n|2:1&n),t):(Wo(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Wo(t),6&t.subtreeFlags&&(t.flags|=8192)):Wo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Qo(e,t){switch(ts(t),t.tag){case 1:return Pi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xs(),Ti(Ni),Ti(Ii),na(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ys(t),null;case 13:if(Ti(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(Zs),null;case 4:return Xs(),null;case 10:return xs(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Do=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Po=function(){},Ro=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qs(Ks.current);var s,a=null;switch(n){case"input":i=$(e,i),r=$(e,r),a=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Oo=function(e,t,n,r){n!==r&&(t.flags|=4)};var $o=!1,Xo=!1,Jo="function"===typeof WeakSet?WeakSet:Set,Yo=null;function Zo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){kc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&el(t,n,s)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Xo||Zo(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Xo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&el(n,t,a),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Xo&&(Zo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){kc(n,t,o)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Xo=(r=Xo)||null!==n.memoizedState,hl(e,t,n),Xo=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Jo),t.forEach((function(t){var r=Ic.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(s(160));fl(a,o,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){kc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){kc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Zo(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Zo(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){kc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&J(i,a),we(l,o);var u=we(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):w(i,d,h,u)}switch(l){case"input":Y(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){kc(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){kc(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=Je())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xo=(u=Xo)||d,ml(t,e),Xo=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Yo=e,d=e.child;null!==d;){for(h=Yo=d;null!==Yo;){switch(p=(f=Yo).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zo(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){kc(r,n,g)}}break;case 5:Zo(f,f.return);break;case 22:if(null!==f.memoizedState){El(h);continue}}null!==p?(p.return=f,Yo=p):El(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){kc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),vl(e),4&r&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,ol(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,ol(e),a);break;default:throw Error(s(161))}}catch(o){kc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Yo=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==Yo;){var i=Yo,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||$o;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Xo;o=$o;var c=Xo;if($o=a,(Xo=l)&&!c)for(Yo=i;null!==Yo;)l=(a=Yo).child,22===a.tag&&null!==a.memoizedState?_l(i):null!==l?(l.return=a,Yo=l):_l(i);for(;null!==s;)Yo=s,wl(s,t,n),s=s.sibling;Yo=i,$o=o,Xo=c}bl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Yo=s):bl(e)}}function bl(e){for(;null!==Yo;){var t=Yo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xo||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&qs(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}qs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(s(163))}Xo||512&t.flags&&il(t)}catch(f){kc(t,t.return,f)}}if(t===e){Yo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Yo=n;break}Yo=t.return}}function El(e){for(;null!==Yo;){var t=Yo;if(t===e){Yo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Yo=n;break}Yo=t.return}}function _l(e){for(;null!==Yo;){var t=Yo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){kc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){kc(t,i,l)}}var s=t.return;try{il(t)}catch(l){kc(t,s,l)}break;case 5:var a=t.return;try{il(t)}catch(l){kc(t,a,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Yo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Yo=o;break}Yo=t.return}}var Sl,kl=Math.ceil,Tl=b.ReactCurrentDispatcher,Cl=b.ReactCurrentOwner,xl=b.ReactCurrentBatchConfig,Il=0,Nl=null,Al=null,Dl=0,Pl=0,Rl=ki(0),Ol=0,jl=null,Ll=0,Ml=0,Fl=0,Ul=null,Vl=null,zl=0,Bl=1/0,ql=null,Hl=!1,Kl=null,Wl=null,Gl=!1,Ql=null,$l=0,Xl=0,Jl=null,Yl=-1,Zl=0;function ec(){return 0!==(6&Il)?Je():-1!==Yl?Yl:Yl=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Il)&&0!==Dl?Dl&-Dl:null!==ms.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xl)throw Xl=0,Jl=null,Error(s(185));vt(e,n,r),0!==(2&Il)&&e===Nl||(e===Nl&&(0===(2&Il)&&(Ml|=n),4===Ol&&oc(e,Dl)),rc(e,r),1===n&&0===Il&&0===(1&t.mode)&&(Bl=Je()+500,Ui&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=ft(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=ht(e,e===Nl?Dl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(lc.bind(null,e)):zi(lc.bind(null,e)),ai((function(){0===(6&Il)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Yl=-1,Zl=0,0!==(6&Il))throw Error(s(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===Nl?Dl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Il;Il|=2;var a=pc();for(Nl===e&&Dl===t||(ql=null,Bl=Je()+500,hc(e,t));;)try{yc();break}catch(l){fc(e,l)}Cs(),Tl.current=a,Il=i,null!==Al?t=0:(Nl=null,Dl=0,t=Ol)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=sc(e,i))),1===t)throw n=jl,hc(e,0),oc(e,r),rc(e,Je()),n;if(6===t)oc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(a=pt(e))&&(r=a,t=sc(e,a))),1===t))throw n=jl,hc(e,0),oc(e,r),rc(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Ec(e,Vl,ql);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=zl+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Ec.bind(null,e,Vl,ql),t);break}Ec(e,Vl,ql);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ri(Ec.bind(null,e,Vl,ql),r);break}Ec(e,Vl,ql);break;default:throw Error(s(329))}}}return rc(e,Je()),e.callbackNode===n?ic.bind(null,e):null}function sc(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Vl,Vl=n,null!==t&&ac(t)),e}function ac(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function oc(e,t){for(t&=~Fl,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Il))throw Error(s(327));_c();var t=ht(e,0);if(0===(1&t))return rc(e,Je()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=jl,hc(e,0),oc(e,t),rc(e,Je()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ec(e,Vl,ql),rc(e,Je()),null}function cc(e,t){var n=Il;Il|=1;try{return e(t)}finally{0===(Il=n)&&(Bl=Je()+500,Ui&&Bi())}}function uc(e){null!==Ql&&0===Ql.tag&&0===(6&Il)&&_c();var t=Il;Il|=1;var n=xl.transition,r=wt;try{if(xl.transition=null,wt=1,e)return e()}finally{wt=r,xl.transition=n,0===(6&(Il=t))&&Bi()}}function dc(){Pl=Rl.current,Ti(Rl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:Xs(),Ti(Ni),Ti(Ii),na();break;case 5:Ys(r);break;case 4:Xs();break;case 13:case 19:Ti(Zs);break;case 10:xs(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Nl=e,Al=e=Rc(e.current,null),Dl=Pl=t,Ol=0,jl=null,Fl=Ml=Ll=0,Vl=Ul=null,null!==Ds){for(t=0;t<Ds.length;t++)if(null!==(r=(n=Ds[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}Ds=null}return e}function fc(e,t){for(;;){var n=Al;try{if(Cs(),ra.current=Ja,ca){for(var r=aa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ca=!1}if(sa=0,la=oa=aa=null,ua=!1,da=0,Cl.current=null,null===n||null===n.return){Ol=1,jl=t,Al=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Dl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,vo(p,o,l,0,t),1&p.mode&&mo(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){mo(a,u,t),mc();break e}c=Error(s(426))}else if(is&&1&l.mode){var v=go(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vo(v,o,l,0,t),ps(lo(c,l));break e}}a=c=lo(c,l),4!==Ol&&(Ol=2),null===Ul?Ul=[a]:Ul.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,zs(a,fo(0,c,t));break e;case 1:l=c;var y=a.type,w=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Wl||!Wl.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t,zs(a,po(a,l,t));break e}}a=a.return}while(null!==a)}bc(n)}catch(b){t=b,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function pc(){var e=Tl.current;return Tl.current=Ja,null===e?Ja:e}function mc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===Nl||0===(268435455&Ll)&&0===(268435455&Ml)||oc(Nl,Dl)}function gc(e,t){var n=Il;Il|=2;var r=pc();for(Nl===e&&Dl===t||(ql=null,hc(e,t));;)try{vc();break}catch(i){fc(e,i)}if(Cs(),Il=n,Tl.current=r,null!==Al)throw Error(s(261));return Nl=null,Dl=0,Ol}function vc(){for(;null!==Al;)wc(Al)}function yc(){for(;null!==Al&&!$e();)wc(Al)}function wc(e){var t=Sl(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?bc(e):Al=t,Cl.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Go(n,t,Pl)))return void(Al=n)}else{if(null!==(n=Qo(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return Ol=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Ol&&(Ol=5)}function Ec(e,t,n){var r=wt,i=xl.transition;try{xl.transition=null,wt=1,function(e,t,n,r){do{_c()}while(null!==Ql);if(0!==(6&Il))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Nl&&(Al=Nl=null,Dl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Nc(tt,(function(){return _c(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=xl.transition,xl.transition=null;var o=wt;wt=1;var l=Il;Il|=4,Cl.current=null,function(e,t){if(ei=Ht,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(E){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Yo=t;null!==Yo;)if(e=(t=Yo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Yo=e;else for(;null!==Yo;){t=Yo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(E){kc(t,t.return,E)}if(null!==(e=t.sibling)){e.return=t.return,Yo=e;break}Yo=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Xe(),Il=l,wt=o,xl.transition=a}else e.current=n;if(Gl&&(Gl=!1,Ql=e,$l=i),a=e.pendingLanes,0===a&&(Wl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=Kl,Kl=null,e;0!==(1&$l)&&0!==e.tag&&_c(),a=e.pendingLanes,0!==(1&a)?e===Jl?Xl++:(Xl=0,Jl=e):Xl=0,Bi()}(e,t,n,r)}finally{xl.transition=i,wt=r}return null}function _c(){if(null!==Ql){var e=bt($l),t=xl.transition,n=wt;try{if(xl.transition=null,wt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,$l=0,0!==(6&Il))throw Error(s(331));var i=Il;for(Il|=4,Yo=e.current;null!==Yo;){var a=Yo,o=a.child;if(0!==(16&Yo.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Yo=u;null!==Yo;){var d=Yo;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Yo=h;else for(;null!==Yo;){var f=(d=Yo).sibling,p=d.return;if(sl(d),d===u){Yo=null;break}if(null!==f){f.return=p,Yo=f;break}Yo=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Yo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Yo=o;else e:for(;null!==Yo;){if(0!==(2048&(a=Yo).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Yo=y;break e}Yo=a.return}}var w=e.current;for(Yo=w;null!==Yo;){var b=(o=Yo).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,Yo=b;else e:for(o=w;null!==Yo;){if(0!==(2048&(l=Yo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(_){kc(l,l.return,_)}if(l===o){Yo=null;break e}var E=l.sibling;if(null!==E){E.return=l.return,Yo=E;break e}Yo=l.return}}if(Il=i,Bi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{wt=n,xl.transition=t}}return!1}function Sc(e,t,n){e=Us(e,t=fo(0,t=lo(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function kc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=Us(t,e=po(t,e=lo(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Nl===e&&(Dl&n)===n&&(4===Ol||3===Ol&&(130023424&Dl)===Dl&&500>Je()-zl?hc(e,0):Fl|=n),rc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Os(e,t))&&(vt(e,t,n),rc(e,n))}function xc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Ic(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Cc(e,n)}function Nc(e,t){return Ge(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,r){return new Ac(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Pc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case S:return jc(n.children,i,a,t);case k:o=8,i|=8;break;case T:return(e=Dc(12,n,t,2|i)).elementType=T,e.lanes=a,e;case N:return(e=Dc(13,n,t,i)).elementType=N,e.lanes=a,e;case A:return(e=Dc(19,n,t,i)).elementType=A,e.lanes=a,e;case R:return Lc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:o=10;break e;case x:o=9;break e;case I:o=11;break e;case D:o=14;break e;case P:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Dc(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function jc(e,t,n,r){return(e=Dc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Dc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,s,a,o,l){return e=new Uc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Dc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ls(s),e}function zc(e){if(!e)return xi;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Pi(n))return ji(e,n,t)}return t}function Bc(e,t,n,r,i,s,a,o,l){return(e=Vc(n,r,!0,e,0,s,0,o,l)).context=zc(null),n=e.current,(s=Fs(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Us(n,s,i),e.current.lanes=i,vt(e,i,r),rc(e,r),e}function qc(e,t,n,r){var i=t.current,s=ec(),a=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fs(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Us(i,t,a))&&(nc(e,i,a,s),Vs(e,i,a)),a}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)wo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wo=!1,function(e,t,n){switch(t.tag){case 3:No(t),fs();break;case 5:Js(t);break;case 1:Pi(t.type)&&Li(t);break;case 4:$s(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(_s,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mo(e,t,n):(Ci(Zs,1&Zs.current),null!==(e=Ho(e,t,n))?e.sibling:null);Ci(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,ko(e,t,n)}return Ho(e,t,n)}(e,t,n);wo=0!==(131072&e.flags)}else wo=!1,is&&0!==(1048576&t.flags)&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qo(e,t),e=t.pendingProps;var i=Di(t,Ii.current);Ns(t,n),i=ma(null,t,r,e,i,n);var a=ga();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(a=!0,Li(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ls(t),i.updater=ro,t.stateNode=i,i._reactInternals=t,oo(t,r,e,n),t=Io(null,t,r,!0,a,n)):(t.tag=0,is&&a&&es(t),bo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===D)return 14}return 2}(r),e=to(r,e),i){case 0:t=Co(null,t,r,e,n);break e;case 1:t=xo(null,t,r,e,n);break e;case 11:t=Eo(null,t,r,e,n);break e;case 14:t=_o(null,t,r,to(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Co(e,t,r,i=t.elementType===r?i:to(r,i),n);case 1:return r=t.type,i=t.pendingProps,xo(e,t,r,i=t.elementType===r?i:to(r,i),n);case 3:e:{if(No(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ms(e,t),Bs(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ao(e,t,r,n,i=lo(Error(s(423)),t));break e}if(r!==i){t=Ao(e,t,r,n,i=lo(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=Es(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Ho(e,t,n);break e}bo(e,t,r,n)}t=t.child}return t;case 5:return Js(t),null===e&&cs(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),To(e,t),bo(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Mo(e,t,n);case 4:return $s(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=bs(t,null,r,n):bo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Eo(e,t,r,i=t.elementType===r?i:to(r,i),n);case 7:return bo(e,t,t.pendingProps,n),t.child;case 8:case 12:return bo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ci(_s,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!Ni.current){t=Ho(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Fs(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Is(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Is(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}bo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ns(t,n),r=r(i=As(i)),t.flags|=1,bo(e,t,r,n),t.child;case 14:return i=to(r=t.type,t.pendingProps),_o(e,t,r,i=to(r.type,i),n);case 15:return So(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:to(r,i),qo(e,t),t.tag=1,Pi(r)?(e=!0,Li(t)):e=!1,Ns(t,n),so(t,r,i),oo(t,r,i,n),Io(null,t,r,!0,e,n);case 19:return Bo(e,t,n);case 22:return ko(e,t,n)}throw Error(s(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Yc(){}function Zc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=Hc(a);o.call(e)}}qc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Hc(a);s.call(e)}}var a=Bc(t,r,e,0,null,!1,0,"",Yc);return e._reactRootContainer=a,e[pi]=a.current,Br(8===e.nodeType?e.parentNode:e),uc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Hc(l);o.call(e)}}var l=Vc(e,0,!1,null,0,!1,0,"",Yc);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),uc((function(){qc(t,l,n,r)})),l}(n,t,e,i,r);return Hc(a)}$c.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));qc(e,t,null,null)},$c.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){qc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Mt(e)}},Et=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Je()),0===(6&Il)&&(Bl=Je()+500,Bi()))}break;case 13:uc((function(){var t=Os(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Wc(e,1)}},_t=function(e){if(13===e.tag){var t=Os(e,134217728);if(null!==t)nc(t,e,134217728,ec());Wc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),n=Os(e,t);if(null!==n)nc(n,e,t,ec());Wc(e,t)}},kt=function(){return wt},Tt=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},_e=function(e,t,n){switch(t){case"input":if(Y(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ei(r);if(!i)throw Error(s(90));G(r),Y(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=cc,Ne=uc;var eu={usingClientEntryPoint:!1,Events:[wi,bi,Ei,Ce,xe,cc]},tu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),st=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(s(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(s(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,i,0,a,o),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(s(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(s(40));return!!e._reactRootContainer&&(uc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=w.prototype=new y;b.constructor=w,m(b,v.prototype),b.isPureReactComponent=!0;var E=Array.isArray,_=Object.prototype.hasOwnProperty,S={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,i)&&!k.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:S.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var x=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+I(l,0):s,E(a)?(i="",null!=e&&(i=e.replace(x,"$&/")+"/"),N(a,t,i,"",(function(e){return e}))):null!=a&&(C(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(x,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",E(e))for(var c=0;c<e.length;c++){var u=s+I(o=e[c],c);l+=N(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=N(o=o.value,t,i,u=s+I(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:S};function j(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=w,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=j,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=S.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=j,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},43:(e,t,n)=>{e.exports=n(202)},579:(e,t,n)=>{e.exports=n(153)},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function E(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,R(_);else{var t=r(u);null!==t&&O(E,t.startTime-e)}}function _(e,n){m=!1,g&&(g=!1,y(C),C=-1),p=!0;var s=f;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&O(E,d.startTime-n),l=!1}return l}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,k=!1,T=null,C=-1,x=5,I=-1;function N(){return!(t.unstable_now()-I<x)}function A(){if(null!==T){var e=t.unstable_now();I=e;var n=!0;try{n=T(!0,e)}finally{n?S():(k=!1,T=null)}}else k=!1}if("function"===typeof w)S=function(){w(A)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,P=D.port2;D.port1.onmessage=A,S=function(){P.postMessage(null)}}else S=function(){v(A,0)};function R(e){T=e,k||(k=!0,S())}function O(e,n){C=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(C),C=-1):g=!0,O(E,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,R(_))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{e.exports=n(234)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".d354954e.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="corals:";n.l=(r,i,s,a)=>{if(e[r])e[r].push(i);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+s){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+s),o.src=r),e[r]=[i];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var a=n.p+n.u(t),o=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",o.name="ChunkLoadError",o.type=s,o.request=a,i[1](o)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,a=r[0],o=r[1],l=r[2],c=0;if(a.some((t=>0!==e[t]))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)l(n)}for(t&&t(r);c<a.length;c++)s=a[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkcorals=self.webpackChunkcorals||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{var e,t=n(43),r=n.t(t,2),i=n(391);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const a="popstate";function o(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function l(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function u(e,t,n,r){return void 0===n&&(n=null),s({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?h(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function d(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function h(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function f(t,n,r,i){void 0===i&&(i={});let{window:l=document.defaultView,v5Compat:h=!1}=i,f=l.history,p=e.Pop,m=null,g=v();function v(){return(f.state||{idx:null}).idx}function y(){p=e.Pop;let t=v(),n=null==t?null:t-g;g=t,m&&m({action:p,location:b.location,delta:n})}function w(e){let t="null"!==l.location.origin?l.location.origin:l.location.href,n="string"===typeof e?e:d(e);return n=n.replace(/ $/,"%20"),o(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,f.replaceState(s({},f.state,{idx:g}),""));let b={get action(){return p},get location(){return t(l,f)},listen(e){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(a,y),m=e,()=>{l.removeEventListener(a,y),m=null}},createHref:e=>n(l,e),createURL:w,encodeLocation(e){let t=w(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){p=e.Push;let i=u(b.location,t,n);r&&r(i,t),g=v()+1;let s=c(i,g),a=b.createHref(i);try{f.pushState(s,"",a)}catch(o){if(o instanceof DOMException&&"DataCloneError"===o.name)throw o;l.location.assign(a)}h&&m&&m({action:p,location:b.location,delta:1})},replace:function(t,n){p=e.Replace;let i=u(b.location,t,n);r&&r(i,t),g=v();let s=c(i,g),a=b.createHref(i);f.replaceState(s,"",a),h&&m&&m({action:p,location:b.location,delta:0})},go:e=>f.go(e)};return b}var p;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(p||(p={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function m(e,t,n){void 0===n&&(n="/");let r=N(("string"===typeof t?h(t):t).pathname||"/",n);if(null==r)return null;let i=g(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let a=0;null==s&&a<i.length;++a){let e=I(r);s=C(i[a],e)}return s}function g(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(o(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let l=O([r,a.relativePath]),c=n.concat(a);e.children&&e.children.length>0&&(o(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),g(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:T(l,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of v(e.path))i(e,t,r);else i(e,t)})),t}function v(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=v(r.join("/")),o=[];return o.push(...a.map((e=>""===e?s:[s,e].join("/")))),i&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const y=/^:[\w-]+$/,w=3,b=2,E=1,_=10,S=-2,k=e=>"*"===e;function T(e,t){let n=e.split("/"),r=n.length;return n.some(k)&&(r+=S),t&&(r+=b),n.filter((e=>!k(e))).reduce(((e,t)=>e+(y.test(t)?w:""===t?E:_)),r)}function C(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let a=0;a<n.length;++a){let e=n[a],o=a===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=x({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;s.push({params:r,pathname:O([i,c.pathname]),pathnameBase:j(O([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=O([i,c.pathnameBase]))}return s}function x(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);l("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:a,pattern:e}}function I(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return l(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function N(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function A(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function P(e,t){let n=D(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function R(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=h(e):(i=s({},e),o(!i.pathname||!i.pathname.includes("?"),A("?","pathname","search",i)),o(!i.pathname||!i.pathname.includes("#"),A("#","pathname","hash",i)),o(!i.search||!i.search.includes("#"),A("#","search","hash",i)));let a,l=""===e||""===i.pathname,c=l?"/":i.pathname;if(null==c)a=n;else{let e=t.length-1;if(!r&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}a=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?h(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:L(r),hash:M(i)}}(i,a),d=c&&"/"!==c&&c.endsWith("/"),f=(l||"."===c)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!f||(u.pathname+="/"),u}const O=e=>e.join("/").replace(/\/\/+/g,"/"),j=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),L=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",M=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function F(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const U=["post","put","patch","delete"],V=(new Set(U),["get",...U]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z.apply(this,arguments)}const B=t.createContext(null);const q=t.createContext(null);const H=t.createContext(null);const K=t.createContext(null);const W=t.createContext({outlet:null,matches:[],isDataRoute:!1});const G=t.createContext(null);function Q(){return null!=t.useContext(K)}function $(){return Q()||o(!1),t.useContext(K).location}function X(e){t.useContext(H).static||t.useLayoutEffect(e)}function J(){let{isDataRoute:e}=t.useContext(W);return e?function(){let{router:e}=ae(ie.UseNavigateStable),n=le(se.UseNavigateStable),r=t.useRef(!1);X((()=>{r.current=!0}));let i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,z({fromRouteId:n},i)))}),[e,n]);return i}():function(){Q()||o(!1);let e=t.useContext(B),{basename:n,future:r,navigator:i}=t.useContext(H),{matches:s}=t.useContext(W),{pathname:a}=$(),l=JSON.stringify(P(s,r.v7_relativeSplatPath)),c=t.useRef(!1);return X((()=>{c.current=!0})),t.useCallback((function(t,r){if(void 0===r&&(r={}),!c.current)return;if("number"===typeof t)return void i.go(t);let s=R(t,JSON.parse(l),a,"path"===r.relative);null==e&&"/"!==n&&(s.pathname="/"===s.pathname?n:O([n,s.pathname])),(r.replace?i.replace:i.push)(s,r.state,r)}),[n,i,l,a,e])}()}function Y(n,r,i,s){Q()||o(!1);let{navigator:a}=t.useContext(H),{matches:l}=t.useContext(W),c=l[l.length-1],u=c?c.params:{},d=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let f,p=$();if(r){var g;let e="string"===typeof r?h(r):r;"/"===d||(null==(g=e.pathname)?void 0:g.startsWith(d))||o(!1),f=e}else f=p;let v=f.pathname||"/",y=v;if("/"!==d){let e=d.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=m(n,{pathname:y});let b=re(w&&w.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:O([d,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:O([d,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,i,s);return r&&b?t.createElement(K.Provider,{value:{location:z({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:e.Pop}},b):b}function Z(){let e=function(){var e;let n=t.useContext(G),r=oe(se.UseRouteError),i=le(se.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=F(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:s},r):null,null)}const ee=t.createElement(Z,null);class te extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(W.Provider,{value:this.props.routeContext},t.createElement(G.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ne(e){let{routeContext:n,match:r,children:i}=e,s=t.useContext(B);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(W.Provider,{value:n},i)}function re(e,n,r,i){var s;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==e){var a;if(null==(a=r)||!a.errors)return null;e=r.matches}let l=e,c=null==(s=r)?void 0:s.errors;if(null!=c){let e=l.findIndex((e=>e.route.id&&void 0!==(null==c?void 0:c[e.route.id])));e>=0||o(!1),l=l.slice(0,Math.min(l.length,e+1))}let u=!1,d=-1;if(r&&i&&i.v7_partialHydration)for(let t=0;t<l.length;t++){let e=l[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=t),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){u=!0,l=d>=0?l.slice(0,d+1):[l[0]];break}}}return l.reduceRight(((e,i,s)=>{let a,o=!1,h=null,f=null;var p;r&&(a=c&&i.route.id?c[i.route.id]:void 0,h=i.route.errorElement||ee,u&&(d<0&&0===s?(p="route-fallback",!1||ce[p]||(ce[p]=!0),o=!0,f=null):d===s&&(o=!0,f=i.route.hydrateFallbackElement||null)));let m=n.concat(l.slice(0,s+1)),g=()=>{let n;return n=a?h:o?f:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(ne,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?t.createElement(te,{location:r.location,revalidation:r.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var ie=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ie||{}),se=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(se||{});function ae(e){let n=t.useContext(B);return n||o(!1),n}function oe(e){let n=t.useContext(q);return n||o(!1),n}function le(e){let n=function(e){let n=t.useContext(W);return n||o(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||o(!1),r.route.id}const ce={};r.startTransition;function ue(e){let{to:n,replace:r,state:i,relative:s}=e;Q()||o(!1);let{future:a,static:l}=t.useContext(H),{matches:c}=t.useContext(W),{pathname:u}=$(),d=J(),h=R(n,P(c,a.v7_relativeSplatPath),u,"path"===s),f=JSON.stringify(h);return t.useEffect((()=>d(JSON.parse(f),{replace:r,state:i,relative:s})),[d,f,s,r,i]),null}function de(e){o(!1)}function he(n){let{basename:r="/",children:i=null,location:s,navigationType:a=e.Pop,navigator:l,static:c=!1,future:u}=n;Q()&&o(!1);let d=r.replace(/^\/*/,"/"),f=t.useMemo((()=>({basename:d,navigator:l,static:c,future:z({v7_relativeSplatPath:!1},u)})),[d,u,l,c]);"string"===typeof s&&(s=h(s));let{pathname:p="/",search:m="",hash:g="",state:v=null,key:y="default"}=s,w=t.useMemo((()=>{let e=N(p,d);return null==e?null:{location:{pathname:e,search:m,hash:g,state:v,key:y},navigationType:a}}),[d,p,m,g,v,y,a]);return null==w?null:t.createElement(H.Provider,{value:f},t.createElement(K.Provider,{children:i,value:w}))}function fe(e){let{children:t,location:n}=e;return Y(pe(t),n)}new Promise((()=>{}));t.Component;function pe(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,((e,i)=>{if(!t.isValidElement(e))return;let s=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,pe(e.props.children,s));e.type!==de&&o(!1),e.props.index&&e.props.children&&o(!1);let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=pe(e.props.children,s)),r.push(a)})),r}const me=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ge={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(me(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new ve;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class ve extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ye=function(e){return function(e){const t=me(e);return ge.encodeByteArray(t,!0)}(e).replace(/\./g,"")},we=function(e){try{return ge.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const be=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Ee=()=>{try{return be()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&we(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},_e=e=>{var t,n;return null===(n=null===(t=Ee())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Se=e=>{const t=_e(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},ke=()=>{var e;return null===(e=Ee())||void 0===e?void 0:e.config},Te=e=>{var t;return null===(t=Ee())||void 0===t?void 0:t["_".concat(e)]};class Ce{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function xe(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ye(JSON.stringify({alg:"none",type:"JWT"})),ye(JSON.stringify(s)),""].join(".")}function Ie(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ne(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ae(){return!function(){var e;const t=null===(e=Ee())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function De(){try{return"object"===typeof indexedDB}catch(e){return!1}}function Pe(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}class Re extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Re.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Oe.prototype.create)}}class Oe{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(je,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Re(n,s,t)}}const je=/\{\$([^}]+)}/g;function Le(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Me(n)&&Me(s)){if(!Le(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Me(e){return null!==e&&"object"===typeof e}function Fe(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Ue(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Ve(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class ze{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Be),void 0===r.error&&(r.error=Be),void 0===r.complete&&(r.complete=Be);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Be(){}const qe=1e3,He=2,Ke=144e5,We=.5;function Ge(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:He;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:qe)*Math.pow(t,e),r=Math.round(We*n*(Math.random()-.5)*2);return Math.min(Ke,n+r)}function Qe(e){return e&&e._delegate?e._delegate:e}class $e{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Xe="[DEFAULT]";class Je{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Ce;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Xe})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Xe?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe;return this.component?this.component.multipleInstances?e:Xe:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ye{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Je(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Ze=[];var et;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(et||(et={}));const tt={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},nt=et.INFO,rt={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},it=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=rt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class st{constructor(e){this.name=e,this._logLevel=nt,this._logHandler=it,this._userLogHandler=null,Ze.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?tt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...t),this._logHandler(this,et.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...t),this._logHandler(this,et.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,et.INFO,...t),this._logHandler(this,et.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,et.WARN,...t),this._logHandler(this,et.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,et.ERROR,...t),this._logHandler(this,et.ERROR,...t)}}const at=(e,t)=>t.some((t=>e instanceof t));let ot,lt;const ct=new WeakMap,ut=new WeakMap,dt=new WeakMap,ht=new WeakMap,ft=new WeakMap;let pt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ut.get(e);if("objectStoreNames"===t)return e.objectStoreNames||dt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function mt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(lt||(lt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(yt(this),n),vt(ct.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return vt(e.apply(yt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(yt(this),t,...r);return dt.set(s,t.sort?t.sort():[t]),vt(s)}}function gt(e){return"function"===typeof e?mt(e):(e instanceof IDBTransaction&&function(e){if(ut.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));ut.set(e,t)}(e),at(e,ot||(ot=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,pt):e)}function vt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(vt(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&ct.set(t,e)})).catch((()=>{})),ft.set(t,e),t}(e);if(ht.has(e))return ht.get(e);const t=gt(e);return t!==e&&(ht.set(e,t),ft.set(t,e)),t}const yt=e=>ft.get(e);function wt(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=vt(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(vt(a.result),e.oldVersion,e.newVersion,vt(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}const bt=["get","getKey","getAll","getAllKeys","count"],Et=["put","add","delete","clear"],_t=new Map;function St(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(_t.get(t))return _t.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Et.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!bt.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return _t.set(t,s),s}pt=(e=>({...e,get:(t,n,r)=>St(t,n)||e.get(t,n,r),has:(t,n)=>!!St(t,n)||e.has(t,n)}))(pt);class kt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Tt="@firebase/app",Ct="0.10.2",xt=new st("@firebase/app"),It="@firebase/app-compat",Nt="@firebase/analytics-compat",At="@firebase/analytics",Dt="@firebase/app-check-compat",Pt="@firebase/app-check",Rt="@firebase/auth",Ot="@firebase/auth-compat",jt="@firebase/database",Lt="@firebase/database-compat",Mt="@firebase/functions",Ft="@firebase/functions-compat",Ut="@firebase/installations",Vt="@firebase/installations-compat",zt="@firebase/messaging",Bt="@firebase/messaging-compat",qt="@firebase/performance",Ht="@firebase/performance-compat",Kt="@firebase/remote-config",Wt="@firebase/remote-config-compat",Gt="@firebase/storage",Qt="@firebase/storage-compat",$t="@firebase/firestore",Xt="@firebase/firestore-compat",Jt="firebase",Yt="[DEFAULT]",Zt={[Tt]:"fire-core",[It]:"fire-core-compat",[At]:"fire-analytics",[Nt]:"fire-analytics-compat",[Pt]:"fire-app-check",[Dt]:"fire-app-check-compat",[Rt]:"fire-auth",[Ot]:"fire-auth-compat",[jt]:"fire-rtdb",[Lt]:"fire-rtdb-compat",[Mt]:"fire-fn",[Ft]:"fire-fn-compat",[Ut]:"fire-iid",[Vt]:"fire-iid-compat",[zt]:"fire-fcm",[Bt]:"fire-fcm-compat",[qt]:"fire-perf",[Ht]:"fire-perf-compat",[Kt]:"fire-rc",[Wt]:"fire-rc-compat",[Gt]:"fire-gcs",[Qt]:"fire-gcs-compat",[$t]:"fire-fst",[Xt]:"fire-fst-compat","fire-js":"fire-js",[Jt]:"fire-js-all"},en=new Map,tn=new Map,nn=new Map;function rn(e,t){try{e.container.addComponent(t)}catch(n){xt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function sn(e){const t=e.name;if(nn.has(t))return xt.debug("There were multiple attempts to register component ".concat(t,".")),!1;nn.set(t,e);for(const n of en.values())rn(n,e);for(const n of tn.values())rn(n,e);return!0}function an(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function on(e){return void 0!==e.settings}const ln=new Oe("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class cn{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new $e("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ln.create("app-deleted",{appName:this._name})}}const un="10.11.1";function dn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Yt,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw ln.create("bad-app-name",{appName:String(i)});if(n||(n=ke()),!n)throw ln.create("no-options");const s=en.get(i);if(s){if(Le(n,s.options)&&Le(r,s.config))return s;throw ln.create("duplicate-app",{appName:i})}const a=new Ye(i);for(const l of nn.values())a.addComponent(l);const o=new cn(n,r,a);return en.set(i,o),o}function hn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt;const t=en.get(e);if(!t&&e===Yt&&ke())return dn();if(!t)throw ln.create("no-app",{appName:e});return t}function fn(e,t,n){var r;let i=null!==(r=Zt[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void xt.warn(e.join(" "))}sn(new $e("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}const pn="firebase-heartbeat-database",mn=1,gn="firebase-heartbeat-store";let vn=null;function yn(){return vn||(vn=wt(pn,mn,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(gn)}catch(n){console.warn(n)}}}).catch((e=>{throw ln.create("idb-open",{originalErrorMessage:e.message})}))),vn}async function wn(e,t){try{const n=(await yn()).transaction(gn,"readwrite"),r=n.objectStore(gn);await r.put(t,bn(e)),await n.done}catch(n){if(n instanceof Re)xt.warn(n.message);else{const e=ln.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});xt.warn(e.message)}}}function bn(e){return"".concat(e.name,"!").concat(e.options.appId)}class En{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Sn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=_n();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=_n(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),kn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),kn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=ye(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function _n(){return(new Date).toISOString().substring(0,10)}class Sn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!De()&&Pe().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await yn()).transaction(gn),n=await t.objectStore(gn).get(bn(e));return await t.done,n}catch(t){if(t instanceof Re)xt.warn(t.message);else{const e=ln.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});xt.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return wn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return wn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function kn(e){return ye(JSON.stringify({version:2,heartbeats:e})).length}var Tn;Tn="",sn(new $e("platform-logger",(e=>new kt(e)),"PRIVATE")),sn(new $e("heartbeat",(e=>new En(e)),"PRIVATE")),fn(Tt,Ct,Tn),fn(Tt,Ct,"esm2017"),fn("fire-js","");var Cn,xn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},In={},Nn=Nn||{},An=xn||self;function Dn(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Pn(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Rn="closure_uid_"+(1e9*Math.random()>>>0),On=0;function jn(e,t,n){return e.call.apply(e.bind,arguments)}function Ln(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Mn(e,t,n){return(Mn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?jn:Ln).apply(null,arguments)}function Fn(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Un(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Vn(){this.s=this.s,this.o=this.o}Vn.prototype.s=!1,Vn.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Rn)&&e[Rn]||(e[Rn]=++On))},Vn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const zn=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Bn(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function qn(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Dn(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function Hn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Hn.prototype.h=function(){this.defaultPrevented=!0};var Kn=function(){if(!An.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};An.addEventListener("test",e,t),An.removeEventListener("test",e,t)}catch(n){}return e}();function Wn(e){return/^[\s\xa0]*$/.test(e)}function Gn(){var e=An.navigator;return e&&(e=e.userAgent)?e:""}function Qn(e){return-1!=Gn().indexOf(e)}function $n(e){return $n[" "](e),e}$n[" "]=function(){};var Xn,Jn,Yn=Qn("Opera"),Zn=Qn("Trident")||Qn("MSIE"),er=Qn("Edge"),tr=er||Zn,nr=Qn("Gecko")&&!(-1!=Gn().toLowerCase().indexOf("webkit")&&!Qn("Edge"))&&!(Qn("Trident")||Qn("MSIE"))&&!Qn("Edge"),rr=-1!=Gn().toLowerCase().indexOf("webkit")&&!Qn("Edge");function ir(){var e=An.document;return e?e.documentMode:void 0}e:{var sr="",ar=function(){var e=Gn();return nr?/rv:([^\);]+)(\)|;)/.exec(e):er?/Edge\/([\d\.]+)/.exec(e):Zn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):rr?/WebKit\/(\S+)/.exec(e):Yn?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ar&&(sr=ar?ar[1]:""),Zn){var or=ir();if(null!=or&&or>parseFloat(sr)){Xn=String(or);break e}}Xn=sr}if(An.document&&Zn){var lr=ir();Jn=lr||(parseInt(Xn,10)||void 0)}else Jn=void 0;var cr=Jn;function ur(e,t){if(Hn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(nr){e:{try{$n(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:dr[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ur.$.h.call(this)}}Un(ur,Hn);var dr={2:"touch",3:"pen",4:"mouse"};ur.prototype.h=function(){ur.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var hr="closure_listenable_"+(1e6*Math.random()|0),fr=0;function pr(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++fr,this.fa=this.ia=!1}function mr(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function gr(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function vr(e){const t={};for(const n in e)t[n]=e[n];return t}const yr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wr(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<yr.length;t++)n=yr[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function br(e){this.src=e,this.g={},this.h=0}function Er(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=zn(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(mr(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function _r(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}br.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=_r(e,t,r,i);return-1<a?(t=e[a],n||(t.ia=!1)):((t=new pr(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var Sr="closure_lm_"+(1e6*Math.random()|0),kr={};function Tr(e,t,n,r,i){if(r&&r.once)return xr(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Tr(e,t[s],n,r,i);return null}return n=Or(n),e&&e[hr]?e.O(t,n,Pn(r)?!!r.capture:!!r,i):Cr(e,t,n,!1,r,i)}function Cr(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=Pn(i)?!!i.capture:!!i,o=Pr(e);if(o||(e[Sr]=o=new br(e)),(n=o.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Dr;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Kn||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ar(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function xr(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)xr(e,t[s],n,r,i);return null}return n=Or(n),e&&e[hr]?e.P(t,n,Pn(r)?!!r.capture:!!r,i):Cr(e,t,n,!0,r,i)}function Ir(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Ir(e,t[s],n,r,i);else r=Pn(r)?!!r.capture:!!r,n=Or(n),e&&e[hr]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=_r(s=e.g[t],n,r,i))&&(mr(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Pr(e))&&(t=e.g[t.toString()],e=-1,t&&(e=_r(t,n,r,i)),(n=-1<e?t[e]:null)&&Nr(n))}function Nr(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[hr])Er(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ar(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Pr(t))?(Er(n,e),0==n.h&&(n.src=null,t[Sr]=null)):mr(e)}}}function Ar(e){return e in kr?kr[e]:kr[e]="on"+e}function Dr(e,t){if(e.fa)e=!0;else{t=new ur(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Nr(e),e=n.call(r,t)}return e}function Pr(e){return(e=e[Sr])instanceof br?e:null}var Rr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Or(e){return"function"===typeof e?e:(e[Rr]||(e[Rr]=function(t){return e.handleEvent(t)}),e[Rr])}function jr(){Vn.call(this),this.i=new br(this),this.S=this,this.J=null}function Lr(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Hn(t,e);else if(t instanceof Hn)t.target=t.target||e;else{var i=t;wr(t=new Hn(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=Mr(a,r,!0,t)&&i}if(i=Mr(a=t.g=e,r,!0,t)&&i,i=Mr(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=Mr(a=t.g=n[s],r,!1,t)&&i}function Mr(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.fa&&a.capture==n){var o=a.listener,l=a.la||a.src;a.ia&&Er(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}Un(jr,Vn),jr.prototype[hr]=!0,jr.prototype.removeEventListener=function(e,t,n,r){Ir(this,e,t,n,r)},jr.prototype.N=function(){if(jr.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)mr(n[r]);delete t.g[e],t.h--}}this.J=null},jr.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},jr.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Fr=An.JSON.stringify;function Ur(){var e=Wr;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Vr=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new zr),(e=>e.reset()));class zr{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Br(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function qr(e){An.setTimeout((()=>{throw e}),0)}let Hr,Kr=!1,Wr=new class{constructor(){this.h=this.g=null}add(e,t){const n=Vr.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Gr=()=>{const e=An.Promise.resolve(void 0);Hr=()=>{e.then(Qr)}};var Qr=()=>{for(var e;e=Ur();){try{e.h.call(e.g)}catch(n){qr(n)}var t=Vr;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Kr=!1};function $r(e,t){jr.call(this),this.h=e||1,this.g=t||An,this.j=Mn(this.qb,this),this.l=Date.now()}function Xr(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Jr(e,t,n){if("function"===typeof e)n&&(e=Mn(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Mn(e.handleEvent,e)}return 2147483647<Number(t)?-1:An.setTimeout(e,t||0)}function Yr(e){e.g=Jr((()=>{e.g=null,e.i&&(e.i=!1,Yr(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Un($r,jr),(Cn=$r.prototype).ga=!1,Cn.T=null,Cn.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Lr(this,"tick"),this.ga&&(Xr(this),this.start()))}},Cn.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Cn.N=function(){$r.$.N.call(this),Xr(this),delete this.g};class Zr extends Vn{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Yr(this)}N(){super.N(),this.g&&(An.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ei(e){Vn.call(this),this.h=e,this.g={}}Un(ei,Vn);var ti=[];function ni(e,t,n,r){Array.isArray(n)||(n&&(ti[0]=n.toString()),n=ti);for(var i=0;i<n.length;i++){var s=Tr(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function ri(e){gr(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Nr(e)}),e),e.g={}}function ii(){this.g=!0}function si(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return Fr(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}ei.prototype.N=function(){ei.$.N.call(this),ri(this)},ei.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ii.prototype.Ea=function(){this.g=!1},ii.prototype.info=function(){};var ai={},oi=null;function li(){return oi=oi||new jr}function ci(e){Hn.call(this,ai.Ta,e)}function ui(e){const t=li();Lr(t,new ci(t))}function di(e,t){Hn.call(this,ai.STAT_EVENT,e),this.stat=t}function hi(e){const t=li();Lr(t,new di(t,e))}function fi(e,t){Hn.call(this,ai.Ua,e),this.size=t}function pi(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return An.setTimeout((function(){e()}),t)}ai.Ta="serverreachability",Un(ci,Hn),ai.STAT_EVENT="statevent",Un(di,Hn),ai.Ua="timingevent",Un(fi,Hn);var mi={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},gi={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function vi(){}function yi(e){return e.h||(e.h=e.i())}function wi(){}vi.prototype.h=null;var bi,Ei={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function _i(){Hn.call(this,"d")}function Si(){Hn.call(this,"c")}function ki(){}function Ti(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new ei(this),this.P=xi,e=tr?125:void 0,this.V=new $r(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ci}function Ci(){this.i=null,this.g="",this.h=!1}Un(_i,Hn),Un(Si,Hn),Un(ki,vi),ki.prototype.g=function(){return new XMLHttpRequest},ki.prototype.i=function(){return{}},bi=new ki;var xi=45e3,Ii={},Ni={};function Ai(e,t,n){e.L=1,e.A=$i(Hi(t)),e.u=n,e.S=!0,Di(e,null)}function Di(e,t){e.G=Date.now(),ji(e),e.B=Hi(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),ls(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Ci,e.g=ca(e.l,n?t:null,!e.u),0<e.O&&(e.M=new Zr(Mn(e.Pa,e,e.g),e.O)),ni(e.U,e.g,"readystatechange",e.nb),t=e.I?vr(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),ui(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function Pi(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function Ri(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=Oi(e,n),r==Ni){4==t&&(e.s=4,hi(14),i=!1),si(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ii){e.s=4,hi(15),si(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}si(e.j,e.m,r,null),Vi(e,r)}Pi(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,hi(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),ta(t),t.M=!0,hi(11))):(si(e.j,e.m,n,"[Invalid Chunked Response]"),Ui(e),Fi(e))}function Oi(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?Ni:(n=Number(t.substring(n,r)),isNaN(n)?Ii:(r+=1)+n>t.length?Ni:(t=t.slice(r,r+n),e.o=r+n,t))}function ji(e){e.Y=Date.now()+e.P,Li(e,e.P)}function Li(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=pi(Mn(e.lb,e),t)}function Mi(e){e.C&&(An.clearTimeout(e.C),e.C=null)}function Fi(e){0==e.l.H||e.J||ia(e.l,e)}function Ui(e){Mi(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Xr(e.V),ri(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Vi(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||ms(n.i,e)))if(!e.K&&ms(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;ra(n),Gs(n)}ea(n),hi(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=pi(Mn(n.ib,n),6e3));if(1>=ps(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else aa(n,11)}else if((e.K||n.g==e)&&ra(n),!Wn(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(gs(s,s.h),s.h=null))}if(r.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,Qi(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=e;if((r=n).wa=la(r,r.J?r.pa:null,r.Y),a.K){vs(r.i,a);var o=a,l=r.L;l&&o.setTimeout(l),o.C&&(Mi(o),ji(o)),r.g=a}else Zs(r);0<n.j.length&&$s(n)}else"stop"!=c[0]&&"close"!=c[0]||aa(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?aa(n,7):Ws(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}ui()}catch(c){}}function zi(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Dn(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Dn(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Dn(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(Cn=Ti.prototype).setTimeout=function(e){this.P=e},Cn.nb=function(e){e=e.target;const t=this.M;t&&3==Vs(e)?t.l():this.Pa(e)},Cn.Pa=function(e){try{if(e==this.g)e:{const u=Vs(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||tr||this.g&&(this.h.h||this.g.ja()||zs(this.g)))){this.J||4!=u||7==t||ui(),Mi(this);var n=this.g.da();this.ca=n;t:if(Pi(this)){var r=zs(this.g);e="";var i=r.length,s=4==Vs(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ui(this),Fi(this);var a="";break t}this.h.i=new An.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Wn(o)){var c=o;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,hi(12),Ui(this),Fi(this);break e}si(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vi(this,n)}this.S?(Ri(this,u,a),tr&&this.i&&3==u&&(ni(this.U,this.V,"tick",this.mb),this.V.start())):(si(this.j,this.m,a,null),Vi(this,a)),4==u&&Ui(this),this.i&&!this.J&&(4==u?ia(this.l,this):(this.i=!1,ji(this)))}else(function(e){const t={};e=(e.g&&2<=Vs(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Wn(e[r]))continue;var n=Br(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,hi(12)):(this.s=0,hi(13)),Ui(this),Fi(this)}}}catch(u){}},Cn.mb=function(){if(this.g){var e=Vs(this.g),t=this.g.ja();this.o<t.length&&(Mi(this),Ri(this,e,t),this.i&&4!=e&&ji(this))}},Cn.cancel=function(){this.J=!0,Ui(this)},Cn.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(ui(),hi(17)),Ui(this),this.s=2,Fi(this)):Li(this,this.Y-e)};var Bi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qi(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof qi){this.h=e.h,Ki(this,e.j),this.s=e.s,this.g=e.g,Wi(this,e.m),this.l=e.l;var t=e.i,n=new is;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Gi(this,n),this.o=e.o}else e&&(t=String(e).match(Bi))?(this.h=!1,Ki(this,t[1]||"",!0),this.s=Xi(t[2]||""),this.g=Xi(t[3]||"",!0),Wi(this,t[4]),this.l=Xi(t[5]||"",!0),Gi(this,t[6]||"",!0),this.o=Xi(t[7]||"")):(this.h=!1,this.i=new is(null,this.h))}function Hi(e){return new qi(e)}function Ki(e,t,n){e.j=n?Xi(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Wi(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Gi(e,t,n){t instanceof is?(e.i=t,function(e,t){t&&!e.j&&(ss(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(as(this,t),ls(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Ji(t,ns)),e.i=new is(t,e.h))}function Qi(e,t,n){e.i.set(t,n)}function $i(e){return Qi(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Xi(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ji(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Yi),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Yi(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}qi.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ji(t,Zi,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ji(t,Zi,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ji(n,"/"==n.charAt(0)?ts:es,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ji(n,rs)),e.join("")};var Zi=/[#\/\?@]/g,es=/[#\?:]/g,ts=/[#\?]/g,ns=/[#\?@]/g,rs=/#/g;function is(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ss(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function as(e,t){ss(e),t=cs(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function os(e,t){return ss(e),t=cs(e,t),e.g.has(t)}function ls(e,t,n){as(e,t),0<n.length&&(e.i=null,e.g.set(cs(e,t),Bn(n)),e.h+=n.length)}function cs(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Cn=is.prototype).add=function(e,t){ss(this),this.i=null,e=cs(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Cn.forEach=function(e,t){ss(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Cn.ta=function(){ss(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Cn.Z=function(e){ss(this);let t=[];if("string"===typeof e)os(this,e)&&(t=t.concat(this.g.get(cs(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Cn.set=function(e,t){return ss(this),this.i=null,os(this,e=cs(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Cn.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Cn.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")};var us=class{constructor(e,t){this.g=e,this.map=t}};function ds(e){this.l=e||hs,An.PerformanceNavigationTiming?e=0<(e=An.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(An.g&&An.g.Ka&&An.g.Ka()&&An.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var hs=10;function fs(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ps(e){return e.h?1:e.g?e.g.size:0}function ms(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function gs(e,t){e.g?e.g.add(t):e.h=t}function vs(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ys(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Bn(e.i)}ds.prototype.cancel=function(){if(this.i=ys(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var ws,bs=class{stringify(e){return An.JSON.stringify(e,void 0)}parse(e){return An.JSON.parse(e,void 0)}};function Es(){this.g=new bs}function _s(e,t,n){const r=n||"";try{zi(e,(function(e,n){let i=e;Pn(e)&&(i=Fr(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ss(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function ks(e){this.l=e.ec||null,this.j=e.ob||!1}function Ts(e,t){jr.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Cs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Un(ks,vi),ks.prototype.g=function(){return new Ts(this.l,this.j)},ks.prototype.i=(ws={},function(){return ws}),Un(Ts,jr);var Cs=0;function xs(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Is(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ns(e)}function Ns(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Cn=Ts.prototype).open=function(e,t){if(this.readyState!=Cs)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ns(this)},Cn.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||An).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Cn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Is(this)),this.readyState=Cs},Cn.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ns(this)),this.g&&(this.readyState=3,Ns(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof An.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xs(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Cn.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Is(this):Ns(this),3==this.readyState&&xs(this)}},Cn.Za=function(e){this.g&&(this.response=this.responseText=e,Is(this))},Cn.Ya=function(e){this.g&&(this.response=e,Is(this))},Cn.ka=function(){this.g&&Is(this)},Cn.setRequestHeader=function(e,t){this.v.append(e,t)},Cn.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Cn.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ts.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var As=An.JSON.parse;function Ds(e){jr.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Ps,this.L=this.M=!1}Un(Ds,jr);var Ps="",Rs=/^https?$/i,Os=["POST","PUT"];function js(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ls(e),Fs(e)}function Ls(e){e.F||(e.F=!0,Lr(e,"complete"),Lr(e,"error"))}function Ms(e){if(e.h&&"undefined"!=typeof Nn&&(!e.C[1]||4!=Vs(e)||2!=e.da()))if(e.v&&4==Vs(e))Jr(e.La,0,e);else if(Lr(e,"readystatechange"),4==Vs(e)){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===o){var i=String(e.I).match(Bi)[1]||null;!i&&An.self&&An.self.location&&(i=An.self.location.protocol.slice(0,-1)),r=!Rs.test(i?i.toLowerCase():"")}n=r}if(n)Lr(e,"complete"),Lr(e,"success");else{e.m=6;try{var s=2<Vs(e)?e.g.statusText:""}catch(a){s=""}e.j=s+" ["+e.da()+"]",Ls(e)}}finally{Fs(e)}}}function Fs(e,t){if(e.g){Us(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Lr(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Us(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(An.clearTimeout(e.A),e.A=null)}function Vs(e){return e.g?e.g.readyState:0}function zs(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Ps:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Qa){return null}}function Bs(e){let t="";return gr(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function qs(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Bs(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Qi(e,t,n))}function Hs(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ks(e){this.Ga=0,this.j=[],this.l=new ii,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Hs("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Hs("baseRetryDelayMs",5e3,e),this.hb=Hs("retryDelaySeedMs",1e4,e),this.eb=Hs("forwardChannelMaxRetries",2,e),this.xa=Hs("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new ds(e&&e.concurrentRequestLimit),this.Ja=new Es,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Ws(e){if(Qs(e),3==e.H){var t=e.W++,n=Hi(e.I);if(Qi(n,"SID",e.K),Qi(n,"RID",t),Qi(n,"TYPE","terminate"),Js(e,n),(t=new Ti(e,e.l,t)).L=2,t.A=$i(Hi(n)),n=!1,An.navigator&&An.navigator.sendBeacon)try{n=An.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&An.Image&&((new Image).src=t.A,n=!0),n||(t.g=ca(t.l,null),t.g.ha(t.A)),t.G=Date.now(),ji(t)}oa(e)}function Gs(e){e.g&&(ta(e),e.g.cancel(),e.g=null)}function Qs(e){Gs(e),e.u&&(An.clearTimeout(e.u),e.u=null),ra(e),e.i.cancel(),e.m&&("number"===typeof e.m&&An.clearTimeout(e.m),e.m=null)}function $s(e){if(!fs(e.i)&&!e.m){e.m=!0;var t=e.Na;Hr||Gr(),Kr||(Hr(),Kr=!0),Wr.add(t,e),e.C=0}}function Xs(e,t){var n;n=t?t.m:e.W++;const r=Hi(e.I);Qi(r,"SID",e.K),Qi(r,"RID",n),Qi(r,"AID",e.V),Js(e,r),e.o&&e.s&&qs(r,e.o,e.s),n=new Ti(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Ys(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),gs(e.i,n),Ai(n,r,t)}function Js(e,t){e.na&&gr(e.na,(function(e,n){Qi(t,n,e)})),e.h&&zi({},(function(e,n){Qi(t,n,e)}))}function Ys(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Mn(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let o=0;o<n;o++){let n=i[o].g;const l=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),a=!1;else try{_s(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Zs(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Hr||Gr(),Kr||(Hr(),Kr=!0),Wr.add(t,e),e.A=0}}function ea(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=pi(Mn(e.Ma,e),sa(e,e.A)),e.A++,!0)}function ta(e){null!=e.B&&(An.clearTimeout(e.B),e.B=null)}function na(e){e.g=new Ti(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Hi(e.wa);Qi(t,"RID","rpc"),Qi(t,"SID",e.K),Qi(t,"AID",e.V),Qi(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Qi(t,"TO",e.qa),Qi(t,"TYPE","xmlhttp"),Js(e,t),e.o&&e.s&&qs(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=$i(Hi(t)),n.u=null,n.S=!0,Di(n,e)}function ra(e){null!=e.v&&(An.clearTimeout(e.v),e.v=null)}function ia(e,t){var n=null;if(e.g==t){ra(e),ta(e),e.g=null;var r=2}else{if(!ms(e.i,t))return;n=t.F,vs(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;Lr(r=li(),new fi(r,n)),$s(e)}else Zs(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(ps(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=pi(Mn(e.Na,e,t),sa(e,e.C)),e.C++,!0))}(e,t)||2==r&&ea(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:aa(e,5);break;case 4:aa(e,10);break;case 3:aa(e,6);break;default:aa(e,2)}}function sa(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function aa(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Mn(e.pb,e);n||(n=new qi("//www.google.com/images/cleardot.gif"),An.location&&"http"==An.location.protocol||Ki(n,"https"),$i(n)),function(e,t){const n=new ii;if(An.Image){const r=new Image;r.onload=Fn(Ss,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Fn(Ss,n,r,"TestLoadImage: error",!1,t),r.onabort=Fn(Ss,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Fn(Ss,n,r,"TestLoadImage: timeout",!1,t),An.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else hi(2);e.H=0,e.h&&e.h.za(t),oa(e),Qs(e)}function oa(e){if(e.H=0,e.ma=[],e.h){const t=ys(e.i);0==t.length&&0==e.j.length||(qn(e.ma,t),qn(e.ma,e.j),e.i.i.length=0,Bn(e.j),e.j.length=0),e.h.ya()}}function la(e,t,n){var r=n instanceof qi?Hi(n):new qi(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Wi(r,r.m);else{var i=An.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new qi(null);r&&Ki(s,r),t&&(s.g=t),i&&Wi(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&Qi(r,n,t),Qi(r,"VER",e.ra),Js(e,r),r}function ca(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new Ds(new ks({ob:n})):new Ds(e.va)).Oa(e.J),t}function ua(){}function da(){if(Zn&&!(10<=Number(cr)))throw Error("Environmental error: no available transport.")}function ha(e,t){jr.call(this),this.g=new Ks(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Wn(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Wn(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new ma(this)}function fa(e){_i.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function pa(){Si.call(this),this.status=1}function ma(e){this.g=e}function ga(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function va(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function ya(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(Cn=Ds.prototype).Oa=function(e){this.M=e},Cn.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():bi.g(),this.C=this.u?yi(this.u):yi(bi),this.g.onreadystatechange=Mn(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void js(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=An.FormData&&e instanceof An.FormData,!(0<=zn(Os,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,o]of n)this.g.setRequestHeader(a,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Us(this),0<this.B&&((this.L=function(e){return Zn&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Mn(this.ua,this)):this.A=Jr(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){js(this,s)}},Cn.ua=function(){"undefined"!=typeof Nn&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Lr(this,"timeout"),this.abort(8))},Cn.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Lr(this,"complete"),Lr(this,"abort"),Fs(this))},Cn.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fs(this,!0)),Ds.$.N.call(this)},Cn.La=function(){this.s||(this.G||this.v||this.l?Ms(this):this.kb())},Cn.kb=function(){Ms(this)},Cn.isActive=function(){return!!this.g},Cn.da=function(){try{return 2<Vs(this)?this.g.status:-1}catch(ws){return-1}},Cn.ja=function(){try{return this.g?this.g.responseText:""}catch(ws){return""}},Cn.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),As(t)}},Cn.Ia=function(){return this.m},Cn.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Cn=Ks.prototype).ra=8,Cn.H=1,Cn.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Ti(this,this.l,e);let s=this.s;if(this.U&&(s?(s=vr(s),wr(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Ys(this,i,t),Qi(n=Hi(this.I),"RID",e),Qi(n,"CVER",22),this.F&&Qi(n,"X-HTTP-Session-Id",this.F),Js(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Bs(s)))+"&"+t:this.o&&qs(n,this.o,s)),gs(this.i,i),this.bb&&Qi(n,"TYPE","init"),this.P?(Qi(n,"$req",t),Qi(n,"SID","null"),i.aa=!0,Ai(i,n,null)):Ai(i,n,t),this.H=2}}else 3==this.H&&(e?Xs(this,e):0==this.j.length||fs(this.i)||Xs(this))},Cn.Ma=function(){if(this.u=null,na(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=pi(Mn(this.jb,this),e)}},Cn.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,hi(10),Gs(this),na(this))},Cn.ib=function(){null!=this.v&&(this.v=null,Gs(this),ea(this),hi(19))},Cn.pb=function(e){e?(this.l.info("Successfully pinged google.com"),hi(2)):(this.l.info("Failed to ping google.com"),hi(1))},Cn.isActive=function(){return!!this.h&&this.h.isActive(this)},(Cn=ua.prototype).Ba=function(){},Cn.Aa=function(){},Cn.za=function(){},Cn.ya=function(){},Cn.isActive=function(){return!0},Cn.Va=function(){},da.prototype.g=function(e,t){return new ha(e,t)},Un(ha,jr),ha.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;hi(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=la(e,null,e.Y),$s(e)},ha.prototype.close=function(){Ws(this.g)},ha.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Fr(e),e=n);t.j.push(new us(t.fb++,e)),3==t.H&&$s(t)},ha.prototype.N=function(){this.g.h=null,delete this.j,Ws(this.g),delete this.g,ha.$.N.call(this)},Un(fa,_i),Un(pa,Si),Un(ma,ua),ma.prototype.Ba=function(){Lr(this.g,"a")},ma.prototype.Aa=function(e){Lr(this.g,new fa(e))},ma.prototype.za=function(e){Lr(this.g,new pa)},ma.prototype.ya=function(){Lr(this.g,"b")},Un(ga,(function(){this.blockSize=-1})),ga.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ga.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)va(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){va(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){va(this,r),i=0;break}}this.h=i,this.i+=t},ga.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var wa={};function ba(e){return-128<=e&&128>e?function(e,t){var n=wa;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new ya([0|e],0>e?-1:0)})):new ya([0|e],0>e?-1:0)}function Ea(e){if(isNaN(e)||!isFinite(e))return Sa;if(0>e)return Ia(Ea(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=_a;return new ya(t,0)}var _a=4294967296,Sa=ba(0),ka=ba(1),Ta=ba(16777216);function Ca(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function xa(e){return-1==e.h}function Ia(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new ya(n,~e.h).add(ka)}function Na(e,t){return e.add(Ia(t))}function Aa(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Da(e,t){this.g=e,this.h=t}function Pa(e,t){if(Ca(t))throw Error("division by zero");if(Ca(e))return new Da(Sa,Sa);if(xa(e))return t=Pa(Ia(e),t),new Da(Ia(t.g),Ia(t.h));if(xa(t))return t=Pa(e,Ia(t)),new Da(Ia(t.g),t.h);if(30<e.g.length){if(xa(e)||xa(t))throw Error("slowDivide_ only works with positive integers.");for(var n=ka,r=t;0>=r.X(e);)n=Ra(n),r=Ra(r);var i=Oa(n,1),s=Oa(r,1);for(r=Oa(r,2),n=Oa(n,2);!Ca(r);){var a=s.add(r);0>=a.X(e)&&(i=i.add(n),s=a),r=Oa(r,1),n=Oa(n,1)}return t=Na(e,i.R(t)),new Da(i,t)}for(i=Sa;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(s=Ea(n)).R(t);xa(a)||0<a.X(e);)a=(s=Ea(n-=r)).R(t);Ca(s)&&(s=ka),i=i.add(s),e=Na(e,a)}return new Da(i,e)}function Ra(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new ya(n,e.h)}function Oa(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new ya(i,e.h)}(Cn=ya.prototype).ea=function(){if(xa(this))return-Ia(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:_a+r)*t,t*=_a}return e},Cn.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Ca(this))return"0";if(xa(this))return"-"+Ia(this).toString(e);for(var t=Ea(Math.pow(e,6)),n=this,r="";;){var i=Pa(n,t).g,s=((0<(n=Na(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Ca(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Cn.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Cn.X=function(e){return xa(e=Na(this,e))?-1:Ca(e)?0:1},Cn.abs=function(){return xa(this)?Ia(this):this},Cn.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),a=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=a>>>16,s&=65535,a&=65535,n[i]=a<<16|s}return new ya(n,-2147483648&n[n.length-1]?-1:0)},Cn.R=function(e){if(Ca(this)||Ca(e))return Sa;if(xa(this))return xa(e)?Ia(this).R(Ia(e)):Ia(Ia(this).R(e));if(xa(e))return Ia(this.R(Ia(e)));if(0>this.X(Ta)&&0>e.X(Ta))return Ea(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,a=65535&this.D(r),o=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=a*l,Aa(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Aa(n,2*r+2*i+1),n[2*r+2*i+1]+=a*o,Aa(n,2*r+2*i+1),n[2*r+2*i+2]+=s*o,Aa(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new ya(n,0)},Cn.gb=function(e){return Pa(this,e).h},Cn.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new ya(n,this.h&e.h)},Cn.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new ya(n,this.h|e.h)},Cn.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new ya(n,this.h^e.h)},da.prototype.createWebChannel=da.prototype.g,ha.prototype.send=ha.prototype.u,ha.prototype.open=ha.prototype.m,ha.prototype.close=ha.prototype.close,mi.NO_ERROR=0,mi.TIMEOUT=8,mi.HTTP_ERROR=6,gi.COMPLETE="complete",wi.EventType=Ei,Ei.OPEN="a",Ei.CLOSE="b",Ei.ERROR="c",Ei.MESSAGE="d",jr.prototype.listen=jr.prototype.O,Ds.prototype.listenOnce=Ds.prototype.P,Ds.prototype.getLastError=Ds.prototype.Sa,Ds.prototype.getLastErrorCode=Ds.prototype.Ia,Ds.prototype.getStatus=Ds.prototype.da,Ds.prototype.getResponseJson=Ds.prototype.Wa,Ds.prototype.getResponseText=Ds.prototype.ja,Ds.prototype.send=Ds.prototype.ha,Ds.prototype.setWithCredentials=Ds.prototype.Oa,ga.prototype.digest=ga.prototype.l,ga.prototype.reset=ga.prototype.reset,ga.prototype.update=ga.prototype.j,ya.prototype.add=ya.prototype.add,ya.prototype.multiply=ya.prototype.R,ya.prototype.modulo=ya.prototype.gb,ya.prototype.compare=ya.prototype.X,ya.prototype.toNumber=ya.prototype.ea,ya.prototype.toString=ya.prototype.toString,ya.prototype.getBits=ya.prototype.D,ya.fromNumber=Ea,ya.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Ia(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Ea(Math.pow(n,8)),i=Sa,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+a),n);8>a?(a=Ea(Math.pow(n,a)),i=i.R(a).add(Ea(o))):i=(i=i.R(r)).add(Ea(o))}return i};var ja=In.createWebChannelTransport=function(){return new da},La=In.getStatEventTarget=function(){return li()},Ma=In.ErrorCode=mi,Fa=In.EventType=gi,Ua=In.Event=ai,Va=In.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},za=In.FetchXmlHttpFactory=ks,Ba=In.WebChannel=wi,qa=In.XhrIo=Ds,Ha=In.Md5=ga,Ka=In.Integer=ya;const Wa="@firebase/firestore";class Ga{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ga.UNAUTHENTICATED=new Ga(null),Ga.GOOGLE_CREDENTIALS=new Ga("google-credentials-uid"),Ga.FIRST_PARTY=new Ga("first-party-uid"),Ga.MOCK_USER=new Ga("mock-user");let Qa="10.11.1";const $a=new st("@firebase/firestore");function Xa(){return $a.logLevel}function Ja(e){if($a.logLevel<=et.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(eo);$a.debug("Firestore (".concat(Qa,"): ").concat(e),...i)}}function Ya(e){if($a.logLevel<=et.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(eo);$a.error("Firestore (".concat(Qa,"): ").concat(e),...i)}}function Za(e){if($a.logLevel<=et.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(eo);$a.warn("Firestore (".concat(Qa,"): ").concat(e),...i)}}function eo(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function to(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Qa,") INTERNAL ASSERTION FAILED: ")+e;throw Ya(t),new Error(t)}function no(e,t){e||to()}function ro(e,t){return e}const io={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class so extends Re{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class ao{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class oo{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class lo{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ga.UNAUTHENTICATED)))}shutdown(){}}class co{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class uo{constructor(e){this.t=e,this.currentUser=Ga.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new ao;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ao,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{Ja("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Ja("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ao)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Ja("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(no("string"==typeof t.accessToken),new oo(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return no(null===e||"string"==typeof e),new Ga(e)}}class ho{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Ga.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class fo{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new ho(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Ga.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class po{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mo{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&Ja("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Ja("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Ja("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Ja("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(no("string"==typeof e.token),this.R=e.token,new po(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function go(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class vo{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=go(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function yo(e,t){return e<t?-1:e>t?1:0}function wo(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class bo{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new so(io.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new so(io.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new so(io.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new so(io.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return bo.fromMillis(Date.now())}static fromDate(e){return bo.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new bo(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?yo(this.nanoseconds,e.nanoseconds):yo(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Eo{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Eo(e)}static min(){return new Eo(new bo(0,0))}static max(){return new Eo(new bo(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class _o{constructor(e,t,n){void 0===t?t=0:t>e.length&&to(),void 0===n?n=e.length-t:n>e.length-t&&to(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===_o.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof _o?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class So extends _o{construct(e,t,n){return new So(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new so(io.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new So(e)}static emptyPath(){return new So([])}}const ko=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class To extends _o{construct(e,t,n){return new To(e,t,n)}static isValidIdentifier(e){return ko.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),To.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new To(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new so(io.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new so(io.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new so(io.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new so(io.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new To(t)}static emptyPath(){return new To([])}}class Co{constructor(e){this.path=e}static fromPath(e){return new Co(So.fromString(e))}static fromName(e){return new Co(So.fromString(e).popFirst(5))}static empty(){return new Co(So.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===So.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return So.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Co(new So(e.slice()))}}class xo{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}xo.UNKNOWN_ID=-1;function Io(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Eo.fromTimestamp(1e9===r?new bo(n+1,0):new bo(n,r));return new Ao(i,Co.empty(),t)}function No(e){return new Ao(e.readTime,e.key,-1)}class Ao{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ao(Eo.min(),Co.empty(),-1)}static max(){return new Ao(Eo.max(),Co.empty(),-1)}}function Do(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Co.comparator(e.documentKey,t.documentKey),0!==n?n:yo(e.largestBatchId,t.largestBatchId))}const Po="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ro{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Oo(e){if(e.code!==io.FAILED_PRECONDITION||e.message!==Po)throw e;Ja("LocalStore","Unexpectedly lost primary lease")}class jo{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&to(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new jo(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof jo?t:jo.resolve(t)}catch(e){return jo.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):jo.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):jo.reject(t)}static resolve(e){return new jo(((t,n)=>{t(e)}))}static reject(e){return new jo(((t,n)=>{n(e)}))}static waitFor(e){return new jo(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=jo.resolve(!1);for(const n of e)t=t.next((e=>e?jo.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new jo(((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next((e=>{s[l]=e,++a,a===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new jo(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function Lo(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Mo(e){return"IndexedDbTransactionError"===e.name}class Fo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function Uo(e){return null==e}function Vo(e){return 0===e&&1/e==-1/0}function zo(e){return"number"==typeof e&&Number.isInteger(e)&&!Vo(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Fo.oe=-1;const Bo=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],qo=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ho=qo;function Ko(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Wo(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Go(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Qo{constructor(e,t){this.comparator=e,this.root=t||Xo.EMPTY}insert(e,t){return new Qo(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xo.BLACK,null,null))}remove(e){return new Qo(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $o(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $o(this.root,e,this.comparator,!1)}getReverseIterator(){return new $o(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $o(this.root,e,this.comparator,!0)}}class $o{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xo{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Xo.RED,this.left=null!=r?r:Xo.EMPTY,this.right=null!=i?i:Xo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Xo(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Xo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Xo.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw to();if(this.right.isRed())throw to();const e=this.left.check();if(e!==this.right.check())throw to();return e+(this.isRed()?0:1)}}Xo.EMPTY=null,Xo.RED=!0,Xo.BLACK=!1,Xo.EMPTY=new class{constructor(){this.size=0}get key(){throw to()}get value(){throw to()}get color(){throw to()}get left(){throw to()}get right(){throw to()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Xo(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jo{constructor(e){this.comparator=e,this.data=new Qo(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Yo(this.data.getIterator())}getIteratorFrom(e){return new Yo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Jo))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Jo(this.comparator);return t.data=e,t}}class Yo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Zo{constructor(e){this.fields=e,e.sort(To.comparator)}static empty(){return new Zo([])}unionWith(e){let t=new Jo(To.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Zo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return wo(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class el extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tl{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new el("Invalid base64 string: "+e):e}}(e);return new tl(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new tl(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yo(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tl.EMPTY_BYTE_STRING=new tl("");const nl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rl(e){if(no(!!e),"string"==typeof e){let t=0;const n=nl.exec(e);if(no(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:il(e.seconds),nanos:il(e.nanos)}}function il(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function sl(e){return"string"==typeof e?tl.fromBase64String(e):tl.fromUint8Array(e)}function al(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ol(e){const t=e.mapValue.fields.__previous_value__;return al(t)?ol(t):t}function ll(e){const t=rl(e.mapValue.fields.__local_write_time__.timestampValue);return new bo(t.seconds,t.nanos)}class cl{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class ul{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ul("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ul&&e.projectId===this.projectId&&e.database===this.database}}const dl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function hl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?al(e)?4:Tl(e)?9007199254740991:10:to()}function fl(e,t){if(e===t)return!0;const n=hl(e);if(n!==hl(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ll(e).isEqual(ll(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=rl(e.timestampValue),r=rl(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return sl(e.bytesValue).isEqual(sl(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return il(e.geoPointValue.latitude)===il(t.geoPointValue.latitude)&&il(e.geoPointValue.longitude)===il(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return il(e.integerValue)===il(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=il(e.doubleValue),r=il(t.doubleValue);return n===r?Vo(n)===Vo(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return wo(e.arrayValue.values||[],t.arrayValue.values||[],fl);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ko(n)!==Ko(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!fl(n[i],r[i])))return!1;return!0}(e,t);default:return to()}}function pl(e,t){return void 0!==(e.values||[]).find((e=>fl(e,t)))}function ml(e,t){if(e===t)return 0;const n=hl(e),r=hl(t);if(n!==r)return yo(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return yo(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=il(e.integerValue||e.doubleValue),r=il(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return gl(e.timestampValue,t.timestampValue);case 4:return gl(ll(e),ll(t));case 5:return yo(e.stringValue,t.stringValue);case 6:return function(e,t){const n=sl(e),r=sl(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=yo(n[i],r[i]);if(0!==e)return e}return yo(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=yo(il(e.latitude),il(t.latitude));return 0!==n?n:yo(il(e.longitude),il(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=ml(n[i],r[i]);if(e)return e}return yo(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===dl.mapValue&&t===dl.mapValue)return 0;if(e===dl.mapValue)return 1;if(t===dl.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=yo(r[a],s[a]);if(0!==e)return e;const t=ml(n[r[a]],i[s[a]]);if(0!==t)return t}return yo(r.length,s.length)}(e.mapValue,t.mapValue);default:throw to()}}function gl(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return yo(e,t);const n=rl(e),r=rl(t),i=yo(n.seconds,r.seconds);return 0!==i?i:yo(n.nanos,r.nanos)}function vl(e){return yl(e)}function yl(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=rl(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return sl(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Co.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=yl(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(yl(e.fields[i]));return n+"}"}(e.mapValue):to()}function wl(e){return!!e&&"integerValue"in e}function bl(e){return!!e&&"arrayValue"in e}function El(e){return!!e&&"nullValue"in e}function _l(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Sl(e){return!!e&&"mapValue"in e}function kl(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Wo(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=kl(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=kl(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Tl(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Cl{constructor(e){this.value=e}static empty(){return new Cl({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Sl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=kl(t)}setAll(e){let t=To.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=kl(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Sl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return fl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Sl(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Wo(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Cl(kl(this.value))}}function xl(e){const t=[];return Wo(e.fields,((e,n)=>{const r=new To([e]);if(Sl(n)){const e=xl(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Zo(t)}class Il{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Il(e,0,Eo.min(),Eo.min(),Eo.min(),Cl.empty(),0)}static newFoundDocument(e,t,n,r){return new Il(e,1,t,Eo.min(),n,r,0)}static newNoDocument(e,t){return new Il(e,2,t,Eo.min(),Eo.min(),Cl.empty(),0)}static newUnknownDocument(e,t){return new Il(e,3,t,Eo.min(),Eo.min(),Cl.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Eo.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cl.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cl.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Eo.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Il&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Il(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Nl{constructor(e,t){this.position=e,this.inclusive=t}}function Al(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?Co.comparator(Co.fromName(a.referenceValue),n.key):ml(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Dl(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!fl(e.position[n],t.position[n]))return!1;return!0}class Pl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Rl(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Ol{}class jl extends Ol{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new ql(e,t,n):"array-contains"===t?new Gl(e,n):"in"===t?new Ql(e,n):"not-in"===t?new $l(e,n):"array-contains-any"===t?new Xl(e,n):new jl(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Hl(e,n):new Kl(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ml(t,this.value)):null!==t&&hl(this.value)===hl(t)&&this.matchesComparison(ml(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return to()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ll extends Ol{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Ll(e,t)}matches(e){return Ml(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ml(e){return"and"===e.op}function Fl(e){return Ul(e)&&Ml(e)}function Ul(e){for(const t of e.filters)if(t instanceof Ll)return!1;return!0}function Vl(e){if(e instanceof jl)return e.field.canonicalString()+e.op.toString()+vl(e.value);if(Fl(e))return e.filters.map((e=>Vl(e))).join(",");{const t=e.filters.map((e=>Vl(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function zl(e,t){return e instanceof jl?function(e,t){return t instanceof jl&&e.op===t.op&&e.field.isEqual(t.field)&&fl(e.value,t.value)}(e,t):e instanceof Ll?function(e,t){return t instanceof Ll&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&zl(n,t.filters[r])),!0)}(e,t):void to()}function Bl(e){return e instanceof jl?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(vl(e.value))}(e):e instanceof Ll?function(e){return e.op.toString()+" {"+e.getFilters().map(Bl).join(" ,")+"}"}(e):"Filter"}class ql extends jl{constructor(e,t,n){super(e,t,n),this.key=Co.fromName(n.referenceValue)}matches(e){const t=Co.comparator(e.key,this.key);return this.matchesComparison(t)}}class Hl extends jl{constructor(e,t){super(e,"in",t),this.keys=Wl("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Kl extends jl{constructor(e,t){super(e,"not-in",t),this.keys=Wl("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Wl(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Co.fromName(e.referenceValue)))}class Gl extends jl{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return bl(t)&&pl(t.arrayValue,this.value)}}class Ql extends jl{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&pl(this.value.arrayValue,t)}}class $l extends jl{constructor(e,t){super(e,"not-in",t)}matches(e){if(pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!pl(this.value.arrayValue,t)}}class Xl extends jl{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!bl(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>pl(this.value.arrayValue,e)))}}class Jl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.ue=null}}function Yl(e){return new Jl(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Zl(e){const t=ro(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Vl(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Uo(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>vl(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>vl(e))).join(",")),t.ue=e}return t.ue}function ec(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Rl(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!zl(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Dl(e.startAt,t.startAt)&&Dl(e.endAt,t.endAt)}function tc(e){return Co.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class nc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function rc(e,t,n,r,i,s,a,o){return new nc(e,t,n,r,i,s,a,o)}function ic(e){return new nc(e)}function sc(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function ac(e){return null!==e.collectionGroup}function oc(e){const t=ro(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Jo(To.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new Pl(r,n))})),e.has(To.keyField().canonicalString())||t.ce.push(new Pl(To.keyField(),n))}return t.ce}function lc(e){const t=ro(e);return t.le||(t.le=cc(t,oc(e))),t.le}function cc(e,t){if("F"===e.limitType)return Yl(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Pl(e.field,t)}));const n=e.endAt?new Nl(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Nl(e.startAt.position,e.startAt.inclusive):null;return Yl(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function uc(e,t,n){return new nc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function dc(e,t){return ec(lc(e),lc(t))&&e.limitType===t.limitType}function hc(e){return"".concat(Zl(lc(e)),"|lt:").concat(e.limitType)}function fc(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Bl(e))).join(", "),"]")),Uo(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>vl(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>vl(e))).join(",")),"Target(".concat(t,")")}(lc(e)),"; limitType=").concat(e.limitType,")")}function pc(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Co.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of oc(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Al(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,oc(e),t))&&!(e.endAt&&!function(e,t,n){const r=Al(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,oc(e),t))}(e,t)}function mc(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function gc(e){return(t,n)=>{let r=!1;for(const i of oc(e)){const e=vc(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function vc(e,t,n){const r=e.field.isKeyField()?Co.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?ml(r,i):to()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return to()}}class yc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Wo(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Go(this.inner)}size(){return this.innerSize}}const wc=new Qo(Co.comparator);function bc(){return wc}const Ec=new Qo(Co.comparator);function _c(){let e=Ec;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Sc(e){let t=Ec;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function kc(){return Cc()}function Tc(){return Cc()}function Cc(){return new yc((e=>e.toString()),((e,t)=>e.isEqual(t)))}const xc=new Qo(Co.comparator),Ic=new Jo(Co.comparator);function Nc(){let e=Ic;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Ac=new Jo(yo);function Dc(){return Ac}function Pc(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vo(t)?"-0":t}}function Rc(e){return{integerValue:""+e}}function Oc(e,t){return zo(t)?Rc(t):Pc(e,t)}class jc{constructor(){this._=void 0}}function Lc(e,t,n){return e instanceof Uc?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&al(t)&&(t=ol(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Vc?zc(e,t):e instanceof Bc?qc(e,t):function(e,t){const n=Fc(e,t),r=Kc(n)+Kc(e.Pe);return wl(n)&&wl(e.Pe)?Rc(r):Pc(e.serializer,r)}(e,t)}function Mc(e,t,n){return e instanceof Vc?zc(e,t):e instanceof Bc?qc(e,t):n}function Fc(e,t){return e instanceof Hc?function(e){return wl(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Uc extends jc{}class Vc extends jc{constructor(e){super(),this.elements=e}}function zc(e,t){const n=Wc(t);for(const r of e.elements)n.some((e=>fl(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Bc extends jc{constructor(e){super(),this.elements=e}}function qc(e,t){let n=Wc(t);for(const r of e.elements)n=n.filter((e=>!fl(e,r)));return{arrayValue:{values:n}}}class Hc extends jc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Kc(e){return il(e.integerValue||e.doubleValue)}function Wc(e){return bl(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Gc{constructor(e,t){this.version=e,this.transformResults=t}}class Qc{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Qc}static exists(e){return new Qc(void 0,e)}static updateTime(e){return new Qc(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $c(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Xc{}function Jc(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new ou(e.key,Qc.none()):new nu(e.key,e.data,Qc.none());{const n=e.data,r=Cl.empty();let i=new Jo(To.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new ru(e.key,r,new Zo(i.toArray()),Qc.none())}}function Yc(e,t,n){e instanceof nu?function(e,t,n){const r=e.value.clone(),i=su(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof ru?function(e,t,n){if(!$c(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=su(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(iu(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Zc(e,t,n,r){return e instanceof nu?function(e,t,n,r){if(!$c(e.precondition,t))return n;const i=e.value.clone(),s=au(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof ru?function(e,t,n,r){if(!$c(e.precondition,t))return n;const i=au(e.fieldTransforms,r,t),s=t.data;return s.setAll(iu(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return $c(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function eu(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Fc(r.transform,e||null);null!=i&&(null===n&&(n=Cl.empty()),n.set(r.field,i))}return n||null}function tu(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&wo(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Vc&&t instanceof Vc||e instanceof Bc&&t instanceof Bc?wo(e.elements,t.elements,fl):e instanceof Hc&&t instanceof Hc?fl(e.Pe,t.Pe):e instanceof Uc&&t instanceof Uc}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class nu extends Xc{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ru extends Xc{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function iu(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function su(e,t,n){const r=new Map;no(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,Mc(a,o,n[i]))}return r}function au(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Lc(e,s,t))}return r}class ou extends Xc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lu extends Xc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class cu{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Yc(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Zc(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Zc(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Tc();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=Jc(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(Eo.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Nc())}isEqual(e){return this.batchId===e.batchId&&wo(this.mutations,e.mutations,((e,t)=>tu(e,t)))&&wo(this.baseMutations,e.baseMutations,((e,t)=>tu(e,t)))}}class uu{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){no(e.mutations.length===n.length);let r=xc;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new uu(e,t,n,r)}}class du{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class hu{constructor(e,t){this.count=e,this.unchangedNames=t}}var fu,pu;function mu(e){switch(e){default:return to();case io.CANCELLED:case io.UNKNOWN:case io.DEADLINE_EXCEEDED:case io.RESOURCE_EXHAUSTED:case io.INTERNAL:case io.UNAVAILABLE:case io.UNAUTHENTICATED:return!1;case io.INVALID_ARGUMENT:case io.NOT_FOUND:case io.ALREADY_EXISTS:case io.PERMISSION_DENIED:case io.FAILED_PRECONDITION:case io.ABORTED:case io.OUT_OF_RANGE:case io.UNIMPLEMENTED:case io.DATA_LOSS:return!0}}function gu(e){if(void 0===e)return Ya("GRPC error has no .code"),io.UNKNOWN;switch(e){case fu.OK:return io.OK;case fu.CANCELLED:return io.CANCELLED;case fu.UNKNOWN:return io.UNKNOWN;case fu.DEADLINE_EXCEEDED:return io.DEADLINE_EXCEEDED;case fu.RESOURCE_EXHAUSTED:return io.RESOURCE_EXHAUSTED;case fu.INTERNAL:return io.INTERNAL;case fu.UNAVAILABLE:return io.UNAVAILABLE;case fu.UNAUTHENTICATED:return io.UNAUTHENTICATED;case fu.INVALID_ARGUMENT:return io.INVALID_ARGUMENT;case fu.NOT_FOUND:return io.NOT_FOUND;case fu.ALREADY_EXISTS:return io.ALREADY_EXISTS;case fu.PERMISSION_DENIED:return io.PERMISSION_DENIED;case fu.FAILED_PRECONDITION:return io.FAILED_PRECONDITION;case fu.ABORTED:return io.ABORTED;case fu.OUT_OF_RANGE:return io.OUT_OF_RANGE;case fu.UNIMPLEMENTED:return io.UNIMPLEMENTED;case fu.DATA_LOSS:return io.DATA_LOSS;default:return to()}}(pu=fu||(fu={}))[pu.OK=0]="OK",pu[pu.CANCELLED=1]="CANCELLED",pu[pu.UNKNOWN=2]="UNKNOWN",pu[pu.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pu[pu.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pu[pu.NOT_FOUND=5]="NOT_FOUND",pu[pu.ALREADY_EXISTS=6]="ALREADY_EXISTS",pu[pu.PERMISSION_DENIED=7]="PERMISSION_DENIED",pu[pu.UNAUTHENTICATED=16]="UNAUTHENTICATED",pu[pu.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pu[pu.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pu[pu.ABORTED=10]="ABORTED",pu[pu.OUT_OF_RANGE=11]="OUT_OF_RANGE",pu[pu.UNIMPLEMENTED=12]="UNIMPLEMENTED",pu[pu.INTERNAL=13]="INTERNAL",pu[pu.UNAVAILABLE=14]="UNAVAILABLE",pu[pu.DATA_LOSS=15]="DATA_LOSS";let vu=null;function yu(){return new TextEncoder}const wu=new Ka([4294967295,4294967295],0);function bu(e){const t=yu().encode(e),n=new Ha;return n.update(t),new Uint8Array(n.digest())}function Eu(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Ka([n,r],0),new Ka([i,s],0)]}class _u{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Su("Invalid padding: ".concat(t));if(n<0)throw new Su("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Su("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Su("Invalid padding when bitmap length is 0: ".concat(t));this.Ie=8*e.length-t,this.Te=Ka.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(Ka.fromNumber(n)));return 1===r.compare(wu)&&(r=new Ka([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=bu(e),[n,r]=Eu(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new _u(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Ie)return;const t=bu(e),[n,r]=Eu(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Su extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ku{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Tu.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new ku(Eo.min(),r,new Qo(yo),bc(),Nc())}}class Tu{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Tu(n,t,Nc(),Nc(),Nc())}}class Cu{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class xu{constructor(e,t){this.targetId=e,this.me=t}}class Iu{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tl.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Nu{constructor(){this.fe=0,this.ge=Pu(),this.pe=tl.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Nc(),t=Nc(),n=Nc();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:to()}})),new Tu(this.pe,this.ye,e,t,n)}ve(){this.we=!1,this.ge=Pu()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,no(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Au{constructor(e){this.Le=e,this.Be=new Map,this.ke=bc(),this.qe=Du(),this.Qe=new Qo(yo)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.ve(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:to()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(tc(i))if(0===n){const e=new Co(i.path);this.Ue(t,e,Il.newNoDocument(e,Eo.min()))}else no(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==vu||vu.et(function(e,t,n,r,i){var s,a,o,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(s=null==h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(o=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=sl(n).toUint8Array()}catch(e){if(e instanceof el)return Za("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new _u(s,r,i)}catch(e){return Za(e instanceof Su?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Ie?null:a}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.tt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&tc(i.target)){const t=new Co(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,Il.newNoDocument(t,e))}n.be&&(t.set(r,n.Ce()),n.ve())}}));let n=Nc();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new ku(e,t,this.Qe,this.ke,n);return this.ke=bc(),this.qe=Du(),this.Qe=new Qo(yo),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Nu,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Jo(yo),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||Ja("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Nu),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Du(){return new Qo(Co.comparator)}function Pu(){return new Qo(Co.comparator)}const Ru={asc:"ASCENDING",desc:"DESCENDING"},Ou={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ju={and:"AND",or:"OR"};class Lu{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Mu(e,t){return e.useProto3Json||Uo(t)?t:{value:t}}function Fu(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Uu(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Vu(e,t){return Fu(e,t.toTimestamp())}function zu(e){return no(!!e),Eo.fromTimestamp(function(e){const t=rl(e);return new bo(t.seconds,t.nanos)}(e))}function Bu(e,t){return qu(e,t).canonicalString()}function qu(e,t){const n=function(e){return new So(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Hu(e){const t=So.fromString(e);return no(ud(t)),t}function Ku(e,t){return Bu(e.databaseId,t.path)}function Wu(e,t){const n=Hu(t);if(n.get(1)!==e.databaseId.projectId)throw new so(io.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new so(io.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Co(Xu(n))}function Gu(e,t){return Bu(e.databaseId,t)}function Qu(e){const t=Hu(e);return 4===t.length?So.emptyPath():Xu(t)}function $u(e){return new So(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Xu(e){return no(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ju(e,t,n){return{name:Ku(e,t),fields:n.value.mapValue.fields}}function Yu(e,t){let n;if(t instanceof nu)n={update:Ju(e,t.key,t.value)};else if(t instanceof ou)n={delete:Ku(e,t.key)};else if(t instanceof ru)n={update:Ju(e,t.key,t.data),updateMask:cd(t.fieldMask)};else{if(!(t instanceof lu))return to();n={verify:Ku(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Uc)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Vc)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Bc)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Hc)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw to()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Vu(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:to()}(e,t.precondition)),n}function Zu(e,t){return{documents:[Gu(e,t.path)]}}function ed(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Gu(e,i);const s=function(e){if(0!==e.length)return ld(Ll.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:ad(e.field),direction:rd(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Mu(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function td(e){let t=Qu(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){no(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=nd(e);return t instanceof Ll&&Fl(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new Pl(od(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Uo(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Nl(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Nl(n,t)}(n.endAt)),rc(t,i,a,s,o,"F",l,c)}function nd(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=od(e.unaryFilter.field);return jl.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=od(e.unaryFilter.field);return jl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=od(e.unaryFilter.field);return jl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=od(e.unaryFilter.field);return jl.create(i,"!=",{nullValue:"NULL_VALUE"});default:return to()}}(e):void 0!==e.fieldFilter?function(e){return jl.create(od(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return to()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Ll.create(e.compositeFilter.filters.map((e=>nd(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return to()}}(e.compositeFilter.op))}(e):to()}function rd(e){return Ru[e]}function id(e){return Ou[e]}function sd(e){return ju[e]}function ad(e){return{fieldPath:e.canonicalString()}}function od(e){return To.fromServerFormat(e.fieldPath)}function ld(e){return e instanceof jl?function(e){if("=="===e.op){if(_l(e.value))return{unaryFilter:{field:ad(e.field),op:"IS_NAN"}};if(El(e.value))return{unaryFilter:{field:ad(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(_l(e.value))return{unaryFilter:{field:ad(e.field),op:"IS_NOT_NAN"}};if(El(e.value))return{unaryFilter:{field:ad(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ad(e.field),op:id(e.op),value:e.value}}}(e):e instanceof Ll?function(e){const t=e.getFilters().map((e=>ld(e)));return 1===t.length?t[0]:{compositeFilter:{op:sd(e.op),filters:t}}}(e):to()}function cd(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function ud(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class dd{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Eo.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Eo.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:tl.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new dd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new dd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new dd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new dd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class hd{constructor(e){this.ut=e}}function fd(e){const t=td({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?uc(t,t.limit,"L"):t}class pd{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(il(e.integerValue));else if("doubleValue"in e){const n=il(e.doubleValue);isNaN(n)?this.Tt(t,13):(this.Tt(t,15),Vo(n)?t.Et(0):t.Et(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Tt(t,20),"string"==typeof n&&(n=rl(n)),t.dt("".concat(n.seconds||"")),t.Et(n.nanos||0)}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(sl(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Tt(t,45),t.Et(n.latitude||0),t.Et(n.longitude||0)}else"mapValue"in e?Tl(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):to()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const n=e.fields||{};this.Tt(t,55);for(const r of Object.keys(n))this.At(r,t),this.Pt(n[r],t)}yt(e,t){const n=e.values||[];this.Tt(t,50);for(const r of n)this.Pt(r,t)}ft(e,t){this.Tt(t,37),Co.fromName(e).path.forEach((e=>{this.Tt(t,60),this.wt(e,t)}))}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}pd.St=new pd;class md{constructor(){this.on=new gd}addToCollectionParentIndex(e,t){return this.on.add(t),jo.resolve()}getCollectionParents(e,t){return jo.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return jo.resolve()}deleteFieldIndex(e,t){return jo.resolve()}deleteAllFieldIndexes(e){return jo.resolve()}createTargetIndexes(e,t){return jo.resolve()}getDocumentsMatchingTarget(e,t){return jo.resolve(null)}getIndexType(e,t){return jo.resolve(0)}getFieldIndexes(e,t){return jo.resolve([])}getNextCollectionGroupToUpdate(e){return jo.resolve(null)}getMinOffset(e,t){return jo.resolve(Ao.min())}getMinOffsetFromCollectionGroup(e,t){return jo.resolve(Ao.min())}updateCollectionGroup(e,t,n){return jo.resolve()}updateIndexEntries(e,t){return jo.resolve()}}class gd{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Jo(So.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Jo(So.comparator)).toArray()}}new Uint8Array(0);class vd{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new vd(e,vd.DEFAULT_COLLECTION_PERCENTILE,vd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}vd.DEFAULT_COLLECTION_PERCENTILE=10,vd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vd.DEFAULT=new vd(41943040,vd.DEFAULT_COLLECTION_PERCENTILE,vd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vd.DISABLED=new vd(-1,0,0);class yd{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new yd(0)}static Nn(){return new yd(-1)}}class wd{constructor(){this.changes=new yc((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Il.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?jo.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class bd{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ed{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Zc(n.mutation,e,Zo.empty(),bo.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Nc()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nc();const r=kc();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=_c();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=kc();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Nc())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=bc();const s=Cc(),a=Cc();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof ru)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),Zc(a.mutation,t,a.mutation.getFieldMask(),bo.now())):s.set(t.key,Zo.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new bd(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=Cc();let r=new Qo(((e,t)=>e-t)),i=Nc();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||Zo.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||Nc()).add(e);r=r.insert(i.batchId,o)}))})).next((()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=Tc();l.forEach((e=>{if(!i.has(e)){const r=Jc(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return jo.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Co.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ac(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):jo.resolve(kc());let a=-1,o=i;return s.next((t=>jo.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?jo.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,o,t,Nc()))).next((e=>({batchId:a,changes:Sc(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Co(t)).next((e=>{let t=_c();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=_c();return this.indexManager.getCollectionParents(e,i).next((a=>jo.forEach(a,(a=>{const o=function(e,t){return new nc(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Il.newInvalidDocument(r)))}));let n=_c();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&Zc(s.mutation,r,Zo.empty(),bo.now()),pc(t,r)&&(n=n.insert(e,r))})),n}))}}class _d{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return jo.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,function(e){return{id:e.id,version:e.version,createTime:zu(e.createTime)}}(t)),jo.resolve()}getNamedQuery(e,t){return jo.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,function(e){return{name:e.name,query:fd(e.bundledQuery),readTime:zu(e.readTime)}}(t)),jo.resolve()}}class Sd{constructor(){this.overlays=new Qo(Co.comparator),this.lr=new Map}getOverlay(e,t){return jo.resolve(this.overlays.get(t))}getOverlays(e,t){const n=kc();return jo.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.lt(e,t,r)})),jo.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.lr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.lr.delete(n)),jo.resolve()}getOverlaysForCollection(e,t,n){const r=kc(),i=t.length+1,s=new Co(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return jo.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Qo(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=kc(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=kc(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return jo.resolve(a)}lt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.lr.get(r.largestBatchId).delete(n.key);this.lr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new du(t,n));let i=this.lr.get(t);void 0===i&&(i=Nc(),this.lr.set(t,i)),this.lr.set(t,i.add(n.key))}}class kd{constructor(){this.hr=new Jo(Td.Pr),this.Ir=new Jo(Td.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const n=new Td(e,t);this.hr=this.hr.add(n),this.Ir=this.Ir.add(n)}Er(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.dr(new Td(e,t))}Ar(e,t){e.forEach((e=>this.removeReference(e,t)))}Rr(e){const t=new Co(new So([])),n=new Td(t,e),r=new Td(t,e+1),i=[];return this.Ir.forEachInRange([n,r],(e=>{this.dr(e),i.push(e.key)})),i}Vr(){this.hr.forEach((e=>this.dr(e)))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new Co(new So([])),n=new Td(t,e),r=new Td(t,e+1);let i=Nc();return this.Ir.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Td(e,0),n=this.hr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Td{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return Co.comparator(e.key,t.key)||yo(e.gr,t.gr)}static Tr(e,t){return yo(e.gr,t.gr)||Co.comparator(e.key,t.key)}}class Cd{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new Jo(Td.Pr)}checkEmpty(e){return jo.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new cu(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.yr=this.yr.add(new Td(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return jo.resolve(s)}lookupMutationBatch(e,t){return jo.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Sr(n),i=r<0?0:r;return jo.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return jo.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return jo.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Td(t,0),r=new Td(t,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([n,r],(e=>{const t=this.wr(e.gr);i.push(t)})),jo.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Jo(yo);return t.forEach((e=>{const t=new Td(e,0),r=new Td(e,Number.POSITIVE_INFINITY);this.yr.forEachInRange([t,r],(e=>{n=n.add(e.gr)}))})),jo.resolve(this.br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Co.isDocumentKey(i)||(i=i.child(""));const s=new Td(new Co(i),0);let a=new Jo(yo);return this.yr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.gr)),!0)}),s),jo.resolve(this.br(a))}br(e){const t=[];return e.forEach((e=>{const n=this.wr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){no(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.yr;return jo.forEach(t.mutations,(r=>{const i=new Td(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.yr=n}))}Fn(e){}containsKey(e,t){const n=new Td(t,0),r=this.yr.firstAfterOrEqual(n);return jo.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,jo.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class xd{constructor(e){this.Cr=e,this.docs=new Qo(Co.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Cr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return jo.resolve(n?n.document.mutableCopy():Il.newInvalidDocument(t))}getEntries(e,t){let n=bc();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Il.newInvalidDocument(e))})),jo.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=bc();const s=t.path,a=new Co(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Do(No(a),n)<=0||(r.has(a.key)||pc(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return jo.resolve(i)}getAllFromCollectionGroup(e,t,n,r){to()}vr(e,t){return jo.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Id(this)}getSize(e){return jo.resolve(this.size)}}class Id extends wd{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(n)})),jo.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class Nd{constructor(e){this.persistence=e,this.Fr=new yc((e=>Zl(e)),ec),this.lastRemoteSnapshotVersion=Eo.min(),this.highestTargetId=0,this.Mr=0,this.Or=new kd,this.targetCount=0,this.Nr=yd.On()}forEachTarget(e,t){return this.Fr.forEach(((e,n)=>t(n))),jo.resolve()}getLastRemoteSnapshotVersion(e){return jo.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return jo.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),jo.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Mr&&(this.Mr=t),jo.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new yd(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,jo.resolve()}updateTargetData(e,t){return this.kn(t),jo.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,jo.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Fr.forEach(((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Fr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),jo.waitFor(i).next((()=>r))}getTargetCount(e){return jo.resolve(this.targetCount)}getTargetData(e,t){const n=this.Fr.get(t)||null;return jo.resolve(n)}addMatchingKeys(e,t,n){return this.Or.Er(t,n),jo.resolve()}removeMatchingKeys(e,t,n){this.Or.Ar(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),jo.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),jo.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Or.mr(t);return jo.resolve(n)}containsKey(e,t){return jo.resolve(this.Or.containsKey(t))}}class Ad{constructor(e,t){this.Lr={},this.overlays={},this.Br=new Fo(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Nd(this),this.indexManager=new md,this.remoteDocumentCache=function(e){return new xd(e)}((e=>this.referenceDelegate.Qr(e))),this.serializer=new hd(t),this.Kr=new _d(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Sd,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Lr[e.toKey()];return n||(n=new Cd(t,this.referenceDelegate),this.Lr[e.toKey()]=n),n}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,n){Ja("MemoryPersistence","Starting transaction:",e);const r=new Dd(this.Br.next());return this.referenceDelegate.$r(),n(r).next((e=>this.referenceDelegate.Ur(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Wr(e,t){return jo.or(Object.values(this.Lr).map((n=>()=>n.containsKey(e,t))))}}class Dd extends Ro{constructor(e){super(),this.currentSequenceNumber=e}}class Pd{constructor(e){this.persistence=e,this.Gr=new kd,this.zr=null}static jr(e){return new Pd(e)}get Hr(){if(this.zr)return this.zr;throw to()}addReference(e,t,n){return this.Gr.addReference(n,t),this.Hr.delete(n.toString()),jo.resolve()}removeReference(e,t,n){return this.Gr.removeReference(n,t),this.Hr.add(n.toString()),jo.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),jo.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach((e=>this.Hr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Hr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return jo.forEach(this.Hr,(n=>{const r=Co.fromPath(n);return this.Jr(e,r).next((e=>{e||t.removeEntry(r,Eo.min())}))})).next((()=>(this.zr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Jr(e,t).next((e=>{e?this.Hr.delete(t.toString()):this.Hr.add(t.toString())}))}Qr(e){return 0}Jr(e,t){return jo.or([()=>jo.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class Rd{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ki=n,this.qi=r}static Qi(e,t){let n=Nc(),r=Nc();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Rd(e,t.fromCache,n,r)}}class Od{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class jd{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=Ae()?8:Lo(Ie())>0?6:4}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.zi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ji(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Od;return this.Hi(e,t,n).next((r=>{if(i.result=r,this.$i)return this.Ji(e,t,n,r.size)}))})).next((()=>i.result))}Ji(e,t,n,r){return n.documentReadCount<this.Ui?(Xa()<=et.DEBUG&&Ja("QueryEngine","SDK will not create cache indexes for query:",fc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),jo.resolve()):(Xa()<=et.DEBUG&&Ja("QueryEngine","Query:",fc(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Wi*r?(Xa()<=et.DEBUG&&Ja("QueryEngine","The SDK decides to create cache indexes for query:",fc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,lc(t))):jo.resolve())}zi(e,t){if(sc(t))return jo.resolve(null);let n=lc(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=uc(t,null,"F"),n=lc(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Nc(...r);return this.Gi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Yi(t,r);return this.Zi(t,s,i,n.readTime)?this.zi(e,uc(t,null,"F")):this.Xi(e,s,t,n)}))))})))))}ji(e,t,n,r){return sc(t)||r.isEqual(Eo.min())?jo.resolve(null):this.Gi.getDocuments(e,n).next((i=>{const s=this.Yi(t,i);return this.Zi(t,s,n,r)?jo.resolve(null):(Xa()<=et.DEBUG&&Ja("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),fc(t)),this.Xi(e,s,t,Io(r,-1)).next((e=>e)))}))}Yi(e,t){let n=new Jo(gc(e));return t.forEach(((t,r)=>{pc(e,r)&&(n=n.add(r))})),n}Zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Hi(e,t,n){return Xa()<=et.DEBUG&&Ja("QueryEngine","Using full collection scan to execute query:",fc(t)),this.Gi.getDocumentsMatchingQuery(e,t,Ao.min(),n)}Xi(e,t,n,r){return this.Gi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Ld{constructor(e,t,n,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new Qo(yo),this.ns=new yc((e=>Zl(e)),ec),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(n)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ed(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ts)))}}function Md(e,t,n,r){return new Ld(e,t,n,r)}async function Fd(e,t){const n=ro(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.os(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let a=Nc();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({_s:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function Ud(e){const t=ro(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.qr.getLastRemoteSnapshotVersion(e)))}function Vd(e,t,n){let r=Nc(),i=Nc();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=bc();return n.forEach(((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Eo.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Ja("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),{us:r,cs:i}}))}function zd(e,t){const n=ro(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Bd(e,t){const n=ro(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.qr.getTargetData(e,t).next((i=>i?(r=i,jo.resolve(r)):n.qr.allocateTargetId(e).next((i=>(r=new dd(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ts=n.ts.insert(e.targetId,e),n.ns.set(t,e.targetId)),e}))}async function qd(e,t,n){const r=ro(e),i=r.ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Mo(e))throw e;Ja("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function Hd(e,t,n){const r=ro(e);let i=Eo.min(),s=Nc();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=ro(e),i=r.ns.get(n);return void 0!==i?jo.resolve(r.ts.get(i)):r.qr.getTargetData(t,n)}(r,e,lc(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.es.getDocumentsMatchingQuery(e,t,n?i:Eo.min(),n?s:Nc()))).next((e=>(Kd(r,mc(t),e),{documents:e,ls:s})))))}function Kd(e,t,n){let r=e.rs.get(t)||Eo.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.rs.set(t,r)}class Wd{constructor(){this.activeTargetIds=Dc()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Gd{constructor(){this.eo=new Wd,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,n){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Wd,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Qd{ro(e){}shutdown(){}}class $d{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Ja("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Ja("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Xd=null;function Jd(){return null===Xd?Xd=268435456+Math.round(2147483648*Math.random()):Xd++,"0x"+Xd.toString(16)}const Yd={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Zd{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.lo()}send(e){this.co(e)}Vo(){this.Po()}mo(){this.To()}fo(e){this.Ao(e)}po(e){this.Ro(e)}}const eh="WebChannelConnection";class th extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.yo=t+"://"+e.host,this.wo="projects/".concat(n,"/databases/").concat(r),this.So="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get bo(){return!1}Do(e,t,n,r,i){const s=Jd(),a=this.Co(e,t.toUriEncodedString());Ja("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),a,n);const o={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(o,r,i),this.Fo(e,a,o,n).then((t=>(Ja("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw Za("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",a,"request:",n),t}))}Mo(e,t,n,r,i,s){return this.Do(e,t,n,r,i)}vo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Qa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}Co(e,t){const n=Yd[e];return"".concat(this.yo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Fo(e,t,n,r){const i=Jd();return new Promise(((s,a)=>{const o=new qa;o.setWithCredentials(!0),o.listenOnce(Fa.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case Ma.NO_ERROR:const t=o.getResponseJson();Ja(eh,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case Ma.TIMEOUT:Ja(eh,"RPC '".concat(e,"' ").concat(i," timed out")),a(new so(io.DEADLINE_EXCEEDED,"Request time out"));break;case Ma.HTTP_ERROR:const n=o.getStatus();if(Ja(eh,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(io).indexOf(t)>=0?t:io.UNKNOWN}(t.status);a(new so(e,t.message))}else a(new so(io.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new so(io.UNAVAILABLE,"Connection failed."));break;default:to()}}finally{Ja(eh,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);Ja(eh,"RPC '".concat(e,"' ").concat(i," sending request:"),r),o.send(t,"POST",l,n,15)}))}xo(e,t,n){const r=Jd(),i=[this.yo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=ja(),a=La(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.xmlHttpFactory=new za({})),this.vo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");Ja(eh,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=s.createWebChannel(c,o);let d=!1,h=!1;const f=new Zd({co:t=>{h?Ja(eh,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Ja(eh,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),Ja(eh,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},lo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Ba.EventType.OPEN,(()=>{h||(Ja(eh,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.Vo())})),p(u,Ba.EventType.CLOSE,(()=>{h||(h=!0,Ja(eh,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.fo())})),p(u,Ba.EventType.ERROR,(t=>{h||(h=!0,Za(eh,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.fo(new so(io.UNAVAILABLE,"The operation could not be completed")))})),p(u,Ba.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];no(!!i);const s=i,a=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){Ja(eh,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=fu[e];if(void 0!==t)return gu(t)}(t),i=a.message;void 0===n&&(n=io.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.fo(new so(n,i)),u.close()}else Ja(eh,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.po(i)}})),p(a,Ua.STAT_EVENT,(t=>{t.stat===Va.PROXY?Ja(eh,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Va.NOPROXY&&Ja(eh,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.mo()}),0),f}}function nh(){return"undefined"!=typeof document?document:null}function rh(e){return new Lu(e,!0)}class ih{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.si=e,this.timerId=t,this.Oo=n,this.No=r,this.Lo=i,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(e){this.cancel();const t=Math.floor(this.Bo+this.$o()),n=Math.max(0,Date.now()-this.qo),r=Math.max(0,t-n);r>0&&Ja("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Bo," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.ko=this.si.enqueueAfterDelay(this.timerId,r,(()=>(this.qo=Date.now(),e()))),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){null!==this.ko&&(this.ko.skipDelay(),this.ko=null)}cancel(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}}class sh{constructor(e,t,n,r,i,s,a,o){this.si=e,this.Wo=n,this.Go=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new ih(e,t)}Yo(){return 1===this.state||5===this.state||this.Zo()}Zo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Xo()}async stop(){this.Yo()&&await this.close(0)}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&null===this.jo&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,(()=>this.n_())))}r_(e){this.i_(),this.stream.send(e)}async n_(){if(this.Zo())return this.close(0)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}async close(e,t){this.i_(),this.s_(),this.Jo.cancel(),this.zo++,4!==e?this.Jo.reset():t&&t.code===io.RESOURCE_EXHAUSTED?(Ya(t.toString()),Ya("Using maximum backoff delay to prevent overloading the backend."),this.Jo.Qo()):t&&t.code===io.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.o_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Eo(t)}o_(){}auth(){this.state=1;const e=this.__(this.zo),t=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.zo===t&&this.a_(n,r)}),(t=>{e((()=>{const e=new so(io.UNKNOWN,"Fetching auth token failed: "+t.message);return this.u_(e)}))}))}a_(e,t){const n=this.__(this.zo);this.stream=this.c_(e,t),this.stream.ho((()=>{n((()=>this.listener.ho()))})),this.stream.Io((()=>{n((()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,(()=>(this.Zo()&&(this.state=3),Promise.resolve()))),this.listener.Io())))})),this.stream.Eo((e=>{n((()=>this.u_(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Xo(){this.state=5,this.Jo.Ko((async()=>{this.state=0,this.start()}))}u_(e){return Ja("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}__(e){return t=>{this.si.enqueueAndForget((()=>this.zo===e?t():(Ja("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ah extends sh{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}c_(e,t){return this.connection.xo("Listen",e,t)}onMessage(e){this.Jo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:to()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(no(void 0===t||"string"==typeof t),tl.fromBase64String(t||"")):(no(void 0===t||t instanceof Buffer||t instanceof Uint8Array),tl.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?io.UNKNOWN:gu(e.code);return new so(t,e.message||"")}(a);n=new Iu(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Wu(e,r.document.name),s=zu(r.document.updateTime),a=r.document.createTime?zu(r.document.createTime):Eo.min(),o=new Cl({mapValue:{fields:r.document.fields}}),l=Il.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Cu(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Wu(e,r.document),s=r.readTime?zu(r.readTime):Eo.min(),a=Il.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Cu([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Wu(e,r.document),s=r.removedTargetIds||[];n=new Cu([],s,i,null)}else{if(!("filter"in t))return to();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new hu(r,i),a=e.targetId;n=new xu(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Eo.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Eo.min():t.readTime?zu(t.readTime):Eo.min()}(e);return this.listener.l_(t,n)}h_(e){const t={};t.database=$u(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=tc(r)?{documents:Zu(e,r)}:{query:ed(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Uu(e,t.resumeToken);const r=Mu(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Eo.min())>0){n.readTime=Fu(e,t.snapshotVersion.toTimestamp());const r=Mu(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return to()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.r_(t)}P_(e){const t={};t.database=$u(this.serializer),t.removeTarget=e,this.r_(t)}}class oh extends sh{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(e,t){return this.connection.xo("Write",e,t)}onMessage(e){if(no(!!e.streamToken),this.lastStreamToken=e.streamToken,this.I_){this.Jo.reset();const t=function(e,t){return e&&e.length>0?(no(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?zu(e.updateTime):zu(t);return n.isEqual(Eo.min())&&(n=zu(t)),new Gc(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=zu(e.commitTime);return this.listener.d_(n,t)}return no(!e.writeResults||0===e.writeResults.length),this.I_=!0,this.listener.A_()}R_(){const e={};e.database=$u(this.serializer),this.r_(e)}E_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Yu(this.serializer,e)))};this.r_(t)}}class lh extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.V_=!1}m_(){if(this.V_)throw new so(io.FAILED_PRECONDITION,"The client has already been terminated.")}Do(e,t,n,r){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,a]=i;return this.connection.Do(e,qu(t,n),r,s,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===io.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new so(io.UNKNOWN,e.toString())}))}Mo(e,t,n,r,i){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[a,o]=s;return this.connection.Mo(e,qu(t,n),r,a,o,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===io.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new so(io.UNKNOWN,e.toString())}))}terminate(){this.V_=!0,this.connection.terminate()}}class ch{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve()))))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.y_?(Ya(t),this.y_=!1):Ja("OnlineStateTracker",t)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class uh{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=i,this.O_.ro((e=>{n.enqueueAndForget((async()=>{wh(this)&&(Ja("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=ro(e);t.M_.add(4),await hh(t),t.N_.set("Unknown"),t.M_.delete(4),await dh(t)}(this))}))})),this.N_=new ch(n,r)}}async function dh(e){if(wh(e))for(const t of e.x_)await t(!0)}async function hh(e){for(const t of e.x_)await t(!1)}function fh(e,t){const n=ro(e);n.F_.has(t.targetId)||(n.F_.set(t.targetId,t),yh(n)?vh(n):Fh(n).Zo()&&mh(n,t))}function ph(e,t){const n=ro(e),r=Fh(n);n.F_.delete(t),r.Zo()&&gh(n,t),0===n.F_.size&&(r.Zo()?r.t_():wh(n)&&n.N_.set("Unknown"))}function mh(e,t){if(e.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Eo.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Fh(e).h_(t)}function gh(e,t){e.L_.xe(t),Fh(e).P_(t)}function vh(e){e.L_=new Au({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.F_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),Fh(e).start(),e.N_.w_()}function yh(e){return wh(e)&&!Fh(e).Yo()&&e.F_.size>0}function wh(e){return 0===ro(e).M_.size}function bh(e){e.L_=void 0}async function Eh(e){e.N_.set("Online")}async function _h(e){e.F_.forEach(((t,n)=>{mh(e,t)}))}async function Sh(e,t){bh(e),yh(e)?(e.N_.D_(t),vh(e)):e.N_.set("Unknown")}async function kh(e,t,n){if(e.N_.set("Online"),t instanceof Iu&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.F_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.F_.delete(r),e.L_.removeTarget(r))}(e,t)}catch(n){Ja("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Th(e,n)}else if(t instanceof Cu?e.L_.Ke(t):t instanceof xu?e.L_.He(t):e.L_.We(t),!n.isEqual(Eo.min()))try{const t=await Ud(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.L_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.F_.get(r);i&&e.F_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.F_.get(t);if(!r)return;e.F_.set(t,r.withResumeToken(tl.EMPTY_BYTE_STRING,r.snapshotVersion)),gh(e,t);const i=new dd(r.target,t,n,r.sequenceNumber);mh(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Ja("RemoteStore","Failed to raise snapshot:",t),await Th(e,t)}}async function Th(e,t,n){if(!Mo(t))throw t;e.M_.add(1),await hh(e),e.N_.set("Offline"),n||(n=()=>Ud(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Ja("RemoteStore","Retrying IndexedDB access"),await n(),e.M_.delete(1),await dh(e)}))}function Ch(e,t){return t().catch((n=>Th(e,n,t)))}async function xh(e){const t=ro(e),n=Uh(t);let r=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;Ih(t);)try{const e=await zd(t.localStore,r);if(null===e){0===t.v_.length&&n.t_();break}r=e.batchId,Nh(t,e)}catch(e){await Th(t,e)}Ah(t)&&Dh(t)}function Ih(e){return wh(e)&&e.v_.length<10}function Nh(e,t){e.v_.push(t);const n=Uh(e);n.Zo()&&n.T_&&n.E_(t.mutations)}function Ah(e){return wh(e)&&!Uh(e).Yo()&&e.v_.length>0}function Dh(e){Uh(e).start()}async function Ph(e){Uh(e).R_()}async function Rh(e){const t=Uh(e);for(const n of e.v_)t.E_(n.mutations)}async function Oh(e,t,n){const r=e.v_.shift(),i=uu.from(r,t,n);await Ch(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await xh(e)}async function jh(e,t){t&&Uh(e).T_&&await async function(e,t){if(function(e){return mu(e)&&e!==io.ABORTED}(t.code)){const n=e.v_.shift();Uh(e).e_(),await Ch(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await xh(e)}}(e,t),Ah(e)&&Dh(e)}async function Lh(e,t){const n=ro(e);n.asyncQueue.verifyOperationInProgress(),Ja("RemoteStore","RemoteStore received new credentials");const r=wh(n);n.M_.add(3),await hh(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.M_.delete(3),await dh(n)}async function Mh(e,t){const n=ro(e);t?(n.M_.delete(2),await dh(n)):t||(n.M_.add(2),await hh(n),n.N_.set("Unknown"))}function Fh(e){return e.B_||(e.B_=function(e,t,n){const r=ro(e);return r.m_(),new ah(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:Eh.bind(null,e),Io:_h.bind(null,e),Eo:Sh.bind(null,e),l_:kh.bind(null,e)}),e.x_.push((async t=>{t?(e.B_.e_(),yh(e)?vh(e):e.N_.set("Unknown")):(await e.B_.stop(),bh(e))}))),e.B_}function Uh(e){return e.k_||(e.k_=function(e,t,n){const r=ro(e);return r.m_(),new oh(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:()=>Promise.resolve(),Io:Ph.bind(null,e),Eo:jh.bind(null,e),A_:Rh.bind(null,e),d_:Oh.bind(null,e)}),e.x_.push((async t=>{t?(e.k_.e_(),await xh(e)):(await e.k_.stop(),e.v_.length>0&&(Ja("RemoteStore","Stopping write stream with ".concat(e.v_.length," pending writes")),e.v_=[]))}))),e.k_}class Vh{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ao,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new Vh(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new so(io.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zh(e,t){if(Ya("AsyncQueue","".concat(t,": ").concat(e)),Mo(e))return new so(io.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Bh{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Co.comparator(t.key,n.key):(e,t)=>Co.comparator(e.key,t.key),this.keyedMap=_c(),this.sortedSet=new Qo(this.comparator)}static emptySet(e){return new Bh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Bh))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Bh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class qh{constructor(){this.q_=new Qo(Co.comparator)}track(e){const t=e.doc.key,n=this.q_.get(t);n?0!==e.type&&3===n.type?this.q_=this.q_.insert(t,e):3===e.type&&1!==n.type?this.q_=this.q_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.q_=this.q_.remove(t):1===e.type&&2===n.type?this.q_=this.q_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):to():this.q_=this.q_.insert(t,e)}Q_(){const e=[];return this.q_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Hh{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new Hh(e,t,Bh.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Kh{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some((e=>e.G_()))}}class Wh{constructor(){this.queries=new yc((e=>hc(e)),dc),this.onlineState="Unknown",this.z_=new Set}}async function Gh(e,t){const n=ro(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.W_()&&t.G_()&&(r=2):(s=new Kh,r=t.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=zh(e,"Initialization of query '".concat(fc(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.U_.push(t),t.j_(n.onlineState),s.K_&&t.H_(s.K_)&&Jh(n)}async function Qh(e,t){const n=ro(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.U_.indexOf(t);e>=0&&(s.U_.splice(e,1),0===s.U_.length?i=t.G_()?0:1:!s.W_()&&t.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function $h(e,t){const n=ro(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.U_)e.H_(i)&&(r=!0);t.K_=i}}r&&Jh(n)}function Xh(e,t,n){const r=ro(e),i=r.queries.get(t);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(t)}function Jh(e){e.z_.forEach((e=>{e.next()}))}var Yh,Zh;(Zh=Yh||(Yh={})).J_="default",Zh.Cache="cache";class ef{constructor(e,t,n){this.query=e,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=n||{}}H_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Hh(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),t=!0):this.ta(e,this.onlineState)&&(this.na(e),t=!0),this.X_=e,t}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}ta(e,t){if(!e.fromCache)return!0;if(!this.G_())return!0;const n="Offline"!==t;return(!this.options.ra||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ea(e){if(e.docChanges.length>0)return!0;const t=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}na(e){e=Hh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Yh.Cache}}class tf{constructor(e){this.key=e}}class nf{constructor(e){this.key=e}}class rf{constructor(e,t){this.query=e,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Nc(),this.mutatedKeys=Nc(),this.Ia=gc(e),this.Ta=new Bh(this.Ia)}get Ea(){return this.la}da(e,t){const n=t?t.Aa:new qh,r=t?t.Ta:this.Ta;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=pc(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.Ra(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.Ia(u,o)>0||l&&this.Ia(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ta:s,Aa:n,Zi:a,mutatedKeys:i}}Ra(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const s=e.Aa.Q_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return to()}};return n(e)-n(t)}(e.type,t.type)||this.Ia(e.doc,t.doc))),this.Va(n),r=null!=r&&r;const a=t&&!r?this.ma():[],o=0===this.Pa.size&&this.current&&!r?1:0,l=o!==this.ha;return this.ha=o,0!==s.length||l?{snapshot:new Hh(this.query,e.Ta,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new qh,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach((e=>this.la=this.la.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.la=this.la.delete(e))),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=Nc(),this.Ta.forEach((e=>{this.ga(e.key)&&(this.Pa=this.Pa.add(e.key))}));const t=[];return e.forEach((e=>{this.Pa.has(e)||t.push(new nf(e))})),this.Pa.forEach((n=>{e.has(n)||t.push(new tf(n))})),t}pa(e){this.la=e.ls,this.Pa=Nc();const t=this.da(e.documents);return this.applyChanges(t,!0)}ya(){return Hh.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class sf{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class af{constructor(e){this.key=e,this.wa=!1}}class of{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new yc((e=>hc(e)),dc),this.Da=new Map,this.Ca=new Set,this.va=new Qo(Co.comparator),this.Fa=new Map,this.Ma=new kd,this.xa={},this.Oa=new Map,this.Na=yd.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}async function lf(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Nf(e);let i;const s=r.ba.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await uf(r,t,n,!0),i}async function cf(e,t){const n=Nf(e);await uf(n,t,!0,!1)}async function uf(e,t,n,r){const i=await Bd(e.localStore,lc(t)),s=i.targetId,a=n?e.sharedClientState.addLocalQueryTarget(s):"not-current";let o;return r&&(o=await df(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&fh(e.remoteStore,i),o}async function df(e,t,n,r,i){e.Ba=(t,n,r)=>async function(e,t,n,r){let i=t.view.da(n);i.Zi&&(i=await Hd(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.da(n,i)})));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return Sf(e,t.targetId,o.fa),o.snapshot}(e,t,n,r);const s=await Hd(e.localStore,t,!0),a=new rf(t,s.ls),o=a.da(s.documents),l=Tu.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);Sf(e,n,c.fa);const u=new sf(t,n,a);return e.ba.set(t,u),e.Da.has(n)?e.Da.get(n).push(t):e.Da.set(n,[t]),c.snapshot}async function hf(e,t,n){const r=ro(e),i=r.ba.get(t),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter((e=>!dc(e,t)))),void r.ba.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await qd(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ph(r.remoteStore,i.targetId),Ef(r,i.targetId)})).catch(Oo)):(Ef(r,i.targetId),await qd(r.localStore,i.targetId,!0))}async function ff(e,t){const n=ro(e),r=n.ba.get(t),i=n.Da.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ph(n.remoteStore,r.targetId))}async function pf(e,t){const n=ro(e);try{const e=await function(e,t){const n=ro(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];t.targetChanges.forEach(((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.qr.removeMatchingKeys(e,s.removedDocuments,o).next((()=>n.qr.addMatchingKeys(e,s.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(tl.EMPTY_BYTE_STRING,Eo.min()).withLastLimboFreeSnapshotVersion(Eo.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&a.push(n.qr.updateTargetData(e,c))}));let o=bc(),l=Nc();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Vd(e,s,t.documentUpdates).next((e=>{o=e.us,l=e.cs}))),!r.isEqual(Eo.min())){const t=n.qr.getLastRemoteSnapshotVersion(e).next((t=>n.qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return jo.waitFor(a).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Fa.get(t);r&&(no(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.wa=!0:e.modifiedDocuments.size>0?no(r.wa):e.removedDocuments.size>0&&(no(r.wa),r.wa=!1))})),await Cf(n,e,t)}catch(e){await Oo(e)}}function mf(e,t,n){const r=ro(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ba.forEach(((n,r)=>{const i=r.view.j_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=ro(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.U_)i.j_(t)&&(r=!0)})),r&&Jh(n)}(r.eventManager,t),e.length&&r.Sa.l_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function gf(e,t,n){const r=ro(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Fa.get(t),s=i&&i.key;if(s){let e=new Qo(Co.comparator);e=e.insert(s,Il.newNoDocument(s,Eo.min()));const n=Nc().add(s),i=new ku(Eo.min(),new Map,new Qo(yo),e,n);await pf(r,i),r.va=r.va.remove(s),r.Fa.delete(t),Tf(r)}else await qd(r.localStore,t,!1).then((()=>Ef(r,t,n))).catch(Oo)}async function vf(e,t){const n=ro(e),r=t.batch.batchId;try{const e=await function(e,t){const n=ro(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ss.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=jo.resolve();return s.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);no(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Nc();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);bf(n,r,null),wf(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Cf(n,e)}catch(e){await Oo(e)}}async function yf(e,t,n){const r=ro(e);try{const e=await function(e,t){const n=ro(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(no(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);bf(r,t,n),wf(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Cf(r,e)}catch(n){await Oo(n)}}function wf(e,t){(e.Oa.get(t)||[]).forEach((e=>{e.resolve()})),e.Oa.delete(t)}function bf(e,t,n){const r=ro(e);let i=r.xa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.xa[r.currentUser.toKey()]=i}}function Ef(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Da.get(t))e.ba.delete(r),n&&e.Sa.ka(r,n);e.Da.delete(t),e.isPrimaryClient&&e.Ma.Rr(t).forEach((t=>{e.Ma.containsKey(t)||_f(e,t)}))}function _f(e,t){e.Ca.delete(t.path.canonicalString());const n=e.va.get(t);null!==n&&(ph(e.remoteStore,n),e.va=e.va.remove(t),e.Fa.delete(n),Tf(e))}function Sf(e,t,n){for(const r of n)r instanceof tf?(e.Ma.addReference(r.key,t),kf(e,r)):r instanceof nf?(Ja("SyncEngine","Document no longer in limbo: "+r.key),e.Ma.removeReference(r.key,t),e.Ma.containsKey(r.key)||_f(e,r.key)):to()}function kf(e,t){const n=t.key,r=n.path.canonicalString();e.va.get(n)||e.Ca.has(r)||(Ja("SyncEngine","New document in limbo: "+n),e.Ca.add(r),Tf(e))}function Tf(e){for(;e.Ca.size>0&&e.va.size<e.maxConcurrentLimboResolutions;){const t=e.Ca.values().next().value;e.Ca.delete(t);const n=new Co(So.fromString(t)),r=e.Na.next();e.Fa.set(r,new af(n)),e.va=e.va.insert(n,r),fh(e.remoteStore,new dd(lc(ic(n.path)),r,"TargetPurposeLimboResolution",Fo.oe))}}async function Cf(e,t,n){const r=ro(e),i=[],s=[],a=[];r.ba.isEmpty()||(r.ba.forEach(((e,o)=>{a.push(r.Ba(o,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Rd.Qi(o.targetId,e);s.push(t)}})))})),await Promise.all(a),r.Sa.l_(i),await async function(e,t){const n=ro(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>jo.forEach(t,(t=>jo.forEach(t.ki,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>jo.forEach(t.qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Mo(e))throw e;Ja("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ts=n.ts.insert(e,i)}}}(r.localStore,s))}async function xf(e,t){const n=ro(e);if(!n.currentUser.isEqual(t)){Ja("SyncEngine","User change. New user:",t.toKey());const e=await Fd(n.localStore,t);n.currentUser=t,function(e,t){e.Oa.forEach((e=>{e.forEach((e=>{e.reject(new so(io.CANCELLED,t))}))})),e.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Cf(n,e._s)}}function If(e,t){const n=ro(e),r=n.Fa.get(t);if(r&&r.wa)return Nc().add(r.key);{let e=Nc();const r=n.Da.get(t);if(!r)return e;for(const t of r){const r=n.ba.get(t);e=e.unionWith(r.view.Ea)}return e}}function Nf(e){const t=ro(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=pf.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=If.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=gf.bind(null,t),t.Sa.l_=$h.bind(null,t.eventManager),t.Sa.ka=Xh.bind(null,t.eventManager),t}function Af(e){const t=ro(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=vf.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=yf.bind(null,t),t}class Df{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=rh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Md(this.persistence,new jd,e.initialUser,this.serializer)}createPersistence(e){return new Ad(Pd.jr,this.serializer)}createSharedClientState(e){return new Gd}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Pf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>mf(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=xf.bind(null,this.syncEngine),await Mh(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Wh}createDatastore(e){const t=rh(e.databaseInfo.databaseId),n=function(e){return new th(e)}(e.databaseInfo);return function(e,t,n,r){return new lh(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new uh(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>mf(this.syncEngine,e,0)),$d.D()?new $d:new Qd)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new of(e,t,n,r,i,s);return a&&(o.La=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=ro(e);Ja("RemoteStore","RemoteStore shutting down."),t.M_.add(5),await hh(t),t.O_.shutdown(),t.N_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}class Rf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Ya("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Of{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Ga.UNAUTHENTICATED,this.clientId=vo.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Ja("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Ja("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new so(io.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ao;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=zh(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function jf(e,t){e.asyncQueue.verifyOperationInProgress(),Ja("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Fd(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Lf(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Ff(e);Ja("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Lh(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Lh(t.remoteStore,n))),e._onlineComponents=t}function Mf(e){return"FirebaseError"===e.name?e.code===io.FAILED_PRECONDITION||e.code===io.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function Ff(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ja("FirestoreClient","Using user provided OfflineComponentProvider");try{await jf(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!Mf(n))throw n;Za("Error using user provided cache. Falling back to memory cache: "+n),await jf(e,new Df)}}else Ja("FirestoreClient","Using default OfflineComponentProvider"),await jf(e,new Df);return e._offlineComponents}async function Uf(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ja("FirestoreClient","Using user provided OnlineComponentProvider"),await Lf(e,e._uninitializedComponentsProvider._online)):(Ja("FirestoreClient","Using default OnlineComponentProvider"),await Lf(e,new Pf))),e._onlineComponents}function Vf(e){return Uf(e).then((e=>e.syncEngine))}async function zf(e){const t=await Uf(e),n=t.eventManager;return n.onListen=lf.bind(null,t.syncEngine),n.onUnlisten=hf.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=cf.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=ff.bind(null,t.syncEngine),n}function Bf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ao;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Rf({next:s=>{t.enqueueAndForget((()=>Qh(e,a)));const o=s.docs.has(n);!o&&s.fromCache?i.reject(new so(io.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&s.fromCache&&r&&"server"===r.source?i.reject(new so(io.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),a=new ef(ic(n.path),s,{includeMetadataChanges:!0,ra:!0});return Gh(e,a)}(await zf(e),e.asyncQueue,t,n,r))),r.promise}function qf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ao;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Rf({next:n=>{t.enqueueAndForget((()=>Qh(e,a))),n.fromCache&&"server"===r.source?i.reject(new so(io.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new ef(n,s,{includeMetadataChanges:!0,ra:!0});return Gh(e,a)}(await zf(e),e.asyncQueue,t,n,r))),r.promise}function Hf(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Kf=new Map;function Wf(e,t,n){if(!n)throw new so(io.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Gf(e){if(!Co.isDocumentKey(e))throw new so(io.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Qf(e){if(Co.isDocumentKey(e))throw new so(io.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function $f(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":to()}function Xf(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new so(io.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$f(e);throw new so(io.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class Jf{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new so(io.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new so(io.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new so(io.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Hf(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new so(io.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new so(io.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new so(io.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yf{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new so(io.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new so(io.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jf(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new lo;switch(e.type){case"firstParty":return new fo(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new so(io.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Kf.get(e);t&&(Ja("ComponentProvider","Removing Datastore"),Kf.delete(e),t.terminate())}(this),Promise.resolve()}}class Zf{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Zf(this.firestore,e,this._query)}}class ep{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tp(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ep(this.firestore,e,this._key)}}class tp extends Zf{constructor(e,t,n){super(e,t,ic(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ep(this.firestore,null,new Co(e))}withConverter(e){return new tp(this.firestore,e,this._path)}}function np(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Qe(e),Wf("collection","path",t),e instanceof Yf){const n=So.fromString(t,...r);return Qf(n),new tp(e,null,n)}{if(!(e instanceof ep||e instanceof tp))throw new so(io.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(So.fromString(t,...r));return Qf(n),new tp(e.firestore,null,n)}}function rp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Qe(e),1===arguments.length&&(t=vo.newId()),Wf("doc","path",t),e instanceof Yf){const n=So.fromString(t,...r);return Gf(n),new ep(e,null,new Co(n))}{if(!(e instanceof ep||e instanceof tp))throw new so(io.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(So.fromString(t,...r));return Gf(n),new ep(e.firestore,e instanceof tp?e.converter:null,new Co(n))}}class ip{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new ih(this,"async_queue_retry"),this.hu=()=>{const e=nh();e&&Ja("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Jo.Uo()};const e=nh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const t=nh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise((()=>{}));const t=new ao;return this.Iu((()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.su.push(e),this.Tu())))}async Tu(){if(0!==this.su.length){try{await this.su[0](),this.su.shift(),this.Jo.reset()}catch(e){if(!Mo(e))throw e;Ja("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Jo.Ko((()=>this.Tu()))}}Iu(e){const t=this.iu.then((()=>(this.uu=!0,e().catch((e=>{this.au=e,this.uu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ya("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.uu=!1,e))))));return this.iu=t,t}enqueueAfterDelay(e,t,n){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);const r=Vh.createAndSchedule(this,e,t,n,(e=>this.Eu(e)));return this._u.push(r),r}Pu(){this.au&&to()}verifyOperationInProgress(){}async du(){let e;do{e=this.iu,await e}while(e!==this.iu)}Au(e){for(const t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then((()=>{this._u.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this._u)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.du()}))}Vu(e){this.lu.push(e)}Eu(e){const t=this._u.indexOf(e);this._u.splice(t,1)}}class sp extends Yf{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new ip,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||op(this),this._firestoreClient.terminate()}}function ap(e){return e._firestoreClient||op(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function op(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new cl(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Hf(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Of(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class lp{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lp(tl.fromBase64String(e))}catch(e){throw new so(io.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new lp(tl.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class cp{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new so(io.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new To(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class up{constructor(e){this._methodName=e}}class dp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new so(io.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new so(io.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return yo(this._lat,e._lat)||yo(this._long,e._long)}}const hp=/^__.*__$/;class fp{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new ru(e,this.data,this.fieldMask,t,this.fieldTransforms):new nu(e,this.data,t,this.fieldTransforms)}}class pp{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new ru(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function mp(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw to()}}class gp{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.mu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new gp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.gu({path:n,yu:!1});return r.wu(e),r}Su(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.gu({path:n,yu:!1});return r.mu(),r}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Ap(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(mp(this.fu)&&hp.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class vp{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||rh(e)}Fu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new gp({fu:e,methodName:t,vu:n,path:To.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yp(e){const t=e._freezeSettings(),n=rh(e._databaseId);return new vp(e._databaseId,!!t.ignoreUndefinedProperties,n)}function wp(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Fu(s.merge||s.mergeFields?2:0,t,n,i);Cp("Data must be an object, but it was:",a,r);const o=kp(r,a);let l,c;if(s.merge)l=new Zo(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=xp(t,r,n);if(!a.contains(i))throw new so(io.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Dp(e,i)||e.push(i)}l=new Zo(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new fp(new Cl(o),l,c)}class bp extends up{_toFieldTransform(e){if(2!==e.fu)throw 1===e.fu?e.Du("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Du("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bp}}function Ep(e,t,n,r){const i=e.Fu(1,t,n);Cp("Data must be an object, but it was:",i,r);const s=[],a=Cl.empty();Wo(r,((e,r)=>{const o=Np(t,e,n);r=Qe(r);const l=i.Su(o);if(r instanceof bp)s.push(o);else{const e=Sp(r,l);null!=e&&(s.push(o),a.set(o,e))}}));const o=new Zo(s);return new pp(a,o,i.fieldTransforms)}function _p(e,t,n,r,i,s){const a=e.Fu(1,t,n),o=[xp(t,r,n)],l=[i];if(s.length%2!=0)throw new so(io.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<s.length;h+=2)o.push(xp(t,s[h])),l.push(s[h+1]);const c=[],u=Cl.empty();for(let h=o.length-1;h>=0;--h)if(!Dp(c,o[h])){const e=o[h];let t=l[h];t=Qe(t);const n=a.Su(e);if(t instanceof bp)c.push(e);else{const r=Sp(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new Zo(c);return new pp(u,d,a.fieldTransforms)}function Sp(e,t){if(Tp(e=Qe(e)))return Cp("Unsupported field value:",t,e),kp(e,t);if(e instanceof up)return function(e,t){if(!mp(t.fu))throw t.Du("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Du("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.yu&&4!==t.fu)throw t.Du("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Sp(i,t.bu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Qe(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Oc(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=bo.fromDate(e);return{timestampValue:Fu(t.serializer,n)}}if(e instanceof bo){const n=new bo(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Fu(t.serializer,n)}}if(e instanceof dp)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof lp)return{bytesValue:Uu(t.serializer,e._byteString)};if(e instanceof ep){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Du("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Bu(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Du("Unsupported field value: ".concat($f(e)))}(e,t)}function kp(e,t){const n={};return Go(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Wo(e,((e,r)=>{const i=Sp(r,t.pu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Tp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof bo||e instanceof dp||e instanceof lp||e instanceof ep||e instanceof up)}function Cp(e,t,n){if(!Tp(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=$f(n);throw"an object"===r?t.Du(e+" a custom object"):t.Du(e+" "+r)}}function xp(e,t,n){if((t=Qe(t))instanceof cp)return t._internalPath;if("string"==typeof t)return Np(e,t);throw Ap("Field path arguments must be of type string or ",e,!1,void 0,n)}const Ip=new RegExp("[~\\*/\\[\\]]");function Np(e,t,n){if(t.search(Ip)>=0)throw Ap("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new cp(...t.split("."))._internalPath}catch(Un){throw Ap("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Ap(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new so(io.INVALID_ARGUMENT,o+e+l)}function Dp(e,t){return e.some((e=>e.isEqual(t)))}class Pp{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ep(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Rp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Op("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Rp extends Pp{data(){return super.data()}}function Op(e,t){return"string"==typeof t?Np(e,t):t instanceof cp?t._internalPath:t._delegate._internalPath}function jp(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new so(io.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lp{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(hl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return il(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(sl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw to()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Wo(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new dp(il(e.latitude),il(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=ol(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ll(e));default:return null}}convertTimestamp(e){const t=rl(e);return new bo(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=So.fromString(e);no(ud(n));const r=new ul(n.get(1),n.get(3)),i=new Co(n.popFirst(5));return r.isEqual(t)||Ya("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Mp(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Fp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Up extends Pp{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Vp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Op("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Vp extends Up{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class zp{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Fp(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Vp(this._firestore,this._userDataWriter,n.key,n,new Fp(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new so(io.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Vp(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Fp(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Vp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Fp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Bp(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Bp(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return to()}}function qp(e){e=Xf(e,ep);const t=Xf(e.firestore,sp);return Bf(ap(t),e._key).then((n=>Xp(t,e,n)))}class Hp extends Lp{constructor(e){super(),this.firestore=e}convertBytes(e){return new lp(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ep(this.firestore,null,t)}}function Kp(e){e=Xf(e,Zf);const t=Xf(e.firestore,sp),n=ap(t),r=new Hp(t);return jp(e._query),qf(n,e._query).then((n=>new zp(t,r,e,n)))}function Wp(e,t,n){e=Xf(e,ep);const r=Xf(e.firestore,sp),i=yp(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=Qe(t))||t instanceof cp?_p(i,"updateDoc",e._key,t,n,o):Ep(i,"updateDoc",e._key,t),$p(r,[s.toMutation(e._key,Qc.exists(!0))])}function Gp(e){return $p(Xf(e.firestore,sp),[new ou(e._key,Qc.none())])}function Qp(e,t){const n=Xf(e.firestore,sp),r=rp(e),i=Mp(e.converter,t);return $p(n,[wp(yp(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Qc.exists(!1))]).then((()=>r))}function $p(e,t){return function(e,t){const n=new ao;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Af(e);try{const e=await function(e,t){const n=ro(e),r=bo.now(),i=t.reduce(((e,t)=>e.add(t.key)),Nc());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=bc(),l=Nc();return n.ss.getEntries(e,i).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((i=>{s=i;const a=[];for(const e of t){const t=eu(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new ru(e.key,t,xl(t.value.mapValue),Qc.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:Sc(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.xa[e.currentUser.toKey()];r||(r=new Qo(yo)),r=r.insert(t,n),e.xa[e.currentUser.toKey()]=r}(r,e.batchId,n),await Cf(r,e.changes),await xh(r.remoteStore)}catch(e){const t=zh(e,"Failed to persist write");n.reject(t)}}(await Vf(e),t,n))),n.promise}(ap(e),t)}function Xp(e,t,n){const r=n.docs.get(t._key),i=new Hp(e);return new Up(e,i,t._key,r,new Fp(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Qa=e}(un),sn(new $e("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new sp(new uo(e.getProvider("auth-internal")),new mo(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new so(io.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ul(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),fn(Wa,"4.6.1",e),fn(Wa,"4.6.1","esm2017")}();const Jp="firebasestorage.googleapis.com",Yp="storageBucket";class Zp extends Re{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(nm(e),"Firebase Storage: ".concat(t," (").concat(nm(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Zp.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return nm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var em,tm;function nm(e){return"storage/"+e}function rm(){return new Zp(em.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function im(){return new Zp(em.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function sm(){return new Zp(em.CANCELED,"User canceled the upload/download.")}function am(e){return new Zp(em.INVALID_ARGUMENT,e)}function om(){return new Zp(em.APP_DELETED,"The Firebase app was deleted.")}function lm(e){throw new Zp(em.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(em||(em={}));class cm{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=cm.makeFromUrl(e,t)}catch(i){return new cm(e,"")}if(""===n.path)return n;throw r=e,new Zp(em.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(a,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(t===Jp?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<o.length;l++){const t=o[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new cm(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new Zp(em.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class um{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function dm(e){return"string"===typeof e||e instanceof String}function hm(e,t,n,r){if(r<t)throw am("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw am("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function fm(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function pm(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function mm(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(tm||(tm={}));class gm{constructor(e,t,n,r,i,s,a,o,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new vm(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===tm.NO_ERROR,i=n.getStatus();if(!t||mm(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===tm.ABORT;return void e(!1,new vm(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new vm(s,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(s){r(s)}else if(null!==i){const e=rm();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?om():sm())}else{r(im())}};this.canceled_?t(0,new vm(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function h(){s&&clearTimeout(s)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||a)return h(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===o?(o=2,s=0):s=1e3*(r+Math.random()),d(s)}let p=!1;function m(e){p||(p=!0,h(),c||(null!==i?(e||(o=2),clearTimeout(i),d(0)):e||(o=1)))}return d(0),s=setTimeout((()=>{a=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class vm{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function ym(e){let t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function wm(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function bm(e,t){return t}class Em{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||bm}}let _m=null;function Sm(){if(_m)return _m;const e=[];e.push(new Em("bucket")),e.push(new Em("generation")),e.push(new Em("metageneration")),e.push(new Em("name","fullPath",!0));const t=new Em("name");t.xform=function(e,t){return function(e){return!dm(e)||e.length<2?e:wm(e)}(t)},e.push(t);const n=new Em("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Em("timeCreated")),e.push(new Em("updated")),e.push(new Em("md5Hash",null,!0)),e.push(new Em("cacheControl",null,!0)),e.push(new Em("contentDisposition",null,!0)),e.push(new Em("contentEncoding",null,!0)),e.push(new Em("contentLanguage",null,!0)),e.push(new Em("contentType",null,!0)),e.push(new Em("metadata","customMetadata",!0)),_m=e,_m}function km(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new cm(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Tm(e,t,n){const r=ym(t);if(null===r)return null;return km(e,r,n)}const Cm="prefixes",xm="items";function Im(e,t,n){const r=ym(n);if(null===r)return null;return function(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[Cm])for(const i of n[Cm]){const n=i.replace(/\/$/,""),s=e._makeStorageReference(new cm(t,n));r.prefixes.push(s)}if(n[xm])for(const i of n[xm]){const n=e._makeStorageReference(new cm(t,i.name));r.items.push(n)}return r}(e,t,r)}class Nm{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Am(e){if(!e)throw rm()}function Dm(e,t){return function(n,r){const i=Tm(e,r,t);return Am(null!==i),function(e,t,n,r){const i=ym(t);if(null===i)return null;if(!dm(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const a=encodeURIComponent;return s.split(",").map((t=>{const i=e.bucket,s=e.fullPath;return fm("/b/"+a(i)+"/o/"+a(s),n,r)+pm({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function Pm(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Zp(em.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Zp(em.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new Zp(em.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Zp(em.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function Rm(e){const t=Pm(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new Zp(em.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function Om(e,t,n,r,i){const s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const a=fm(t.bucketOnlyServerUrl(),e.host,e._protocol),o=e.maxOperationRetryTime,l=new Nm(a,"GET",function(e,t){return function(n,r){const i=Im(e,t,r);return Am(null!==i),i}}(e,t.bucket),o);return l.urlParams=s,l.errorHandler=Pm(t),l}let jm=null;class Lm{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=tm.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=tm.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=tm.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw lm("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw lm("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw lm("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw lm("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw lm("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Mm extends Lm{initXhr(){this.xhr_.responseType="text"}}function Fm(){return jm?jm():new Mm}class Um{constructor(e,t){this._service=e,this._location=t instanceof cm?t:cm.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Um(e,t)}get root(){const e=new cm(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return wm(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new cm(this._location.bucket,e);return new Um(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Zp(em.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Vm(e){const t={prefixes:[],items:[]};return zm(e,t).then((()=>t))}async function zm(e,t,n){const r={pageToken:n},i=await Bm(e,r);t.prefixes.push(...i.prefixes),t.items.push(...i.items),null!=i.nextPageToken&&await zm(e,t,i.nextPageToken)}function Bm(e,t){null!=t&&"number"===typeof t.maxResults&&hm("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=Om(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,Fm)}function qm(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=fm(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new Nm(r,"GET",Dm(e,n),i);return s.errorHandler=Rm(t),s}(e.storage,e._location,Sm());return e.storage.makeRequestWithTokens(t,Fm).then((e=>{if(null===e)throw new Zp(em.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function Hm(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=fm(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new Nm(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=Rm(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,Fm)}function Km(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new cm(e._location.bucket,n);return new Um(e.storage,r)}function Wm(e,t){if(e instanceof $m){const n=e;if(null==n._bucket)throw new Zp(em.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Yp+"' property when initializing the app?");const r=new Um(n,n._bucket);return null!=t?Wm(r,t):r}return void 0!==t?Km(e,t):e}function Gm(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof $m)return new Um(e,t);throw am("To use ref(service, url), the first argument must be a Storage instance.")}return Wm(e,t)}function Qm(e,t){const n=null===t||void 0===t?void 0:t[Yp];return null==n?null:cm.makeFromBucketSpec(n,e)}class $m{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=Jp,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?cm.makeFromBucketSpec(r,this._host):Qm(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=cm.makeFromBucketSpec(this._url,e):this._bucket=Qm(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){hm("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){hm("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Um(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new um(om());{const s=function(e,t,n,r,i,s){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const o=pm(e.urlParams),l=e.url+o,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new gm(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Xm="@firebase/storage",Jm="0.12.4",Ym="storage";function Zm(e){return Vm(e=Qe(e))}function eg(e){return qm(e=Qe(e))}function tg(e){return Hm(e=Qe(e))}function ng(e,t){return Gm(e=Qe(e),t)}function rg(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new $m(r,i,s,n,un)}sn(new $e(Ym,rg,"PUBLIC").setMultipleInstances(!0)),fn(Xm,Jm,""),fn(Xm,Jm,"esm2017");fn("firebase","10.11.1","app");function ig(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function sg(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ag=sg,og=new Oe("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),lg=new st("@firebase/auth");function cg(e){if(lg.logLevel<=et.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];lg.error("Auth (".concat(un,"): ").concat(e),...n)}}function ug(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw pg(e,...n)}function dg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return pg(e,...n)}function hg(e,t,n){const r=Object.assign(Object.assign({},ag()),{[t]:n});return new Oe("auth","Firebase",r).create(t,{appName:e.name})}function fg(e){return hg(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return og.create(e,...n)}function mg(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw pg(t,...r)}}function gg(e){const t="INTERNAL ASSERTION FAILED: "+e;throw cg(t),new Error(t)}function vg(e,t){e||gg(t)}function yg(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function wg(){return"http:"===bg()||"https:"===bg()}function bg(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Eg{constructor(e,t){this.shortDelay=e,this.longDelay=t,vg(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ie())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(wg()||Ne()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function _g(e,t){vg(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Sg{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void gg("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void gg("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void gg("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const kg={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Tg=new Eg(3e4,6e4);function Cg(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function xg(e,t,n,r){return Ig(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=Fe(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode),Sg.fetch()(Ag(e,e.config.apiHost,n,a),Object.assign({method:t,headers:o,referrerPolicy:"no-referrer"},i))}))}async function Ig(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},kg),t);try{const t=new Pg(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Rg(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Rg(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Rg(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Rg(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw hg(e,o,a);ug(e,o)}}catch(i){if(i instanceof Re)throw i;ug(e,"network-request-failed",{message:String(i)})}}async function Ng(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await xg(e,t,n,r,i);return"mfaPendingCredential"in s&&ug(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Ag(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?_g(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Dg(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Pg{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(dg(this.auth,"network-request-failed"))),Tg.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Rg(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=dg(e,t,r);return i.customData._tokenResponse=n,i}function Og(e){return void 0!==e&&void 0!==e.enterprise}class jg{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Dg(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Lg(e,t){return xg(e,"GET","/v2/recaptchaConfig",Cg(e,t))}async function Mg(e,t){return xg(e,"POST","/v1/accounts:lookup",t)}function Fg(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Ug(e){return 1e3*Number(e)}function Vg(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return cg("JWT malformed, contained fewer than 3 sections"),null;try{const e=we(n);return e?JSON.parse(e):(cg("Failed to decode base64 JWT payload"),null)}catch(i){return cg("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function zg(e){const t=Vg(e);return mg(t,"internal-error"),mg("undefined"!==typeof t.exp,"internal-error"),mg("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Bg(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof Re&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class qg{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Hg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fg(this.lastLoginAt),this.creationTime=Fg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Kg(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Bg(e,Mg(n,{idToken:r}));mg(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?Wg(s.providerUserInfo):[],o=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),h=!!u&&d,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Hg(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function Wg(e){return e.map((e=>{var{providerId:t}=e,n=ig(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class Gg{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){mg(e.idToken,"internal-error"),mg("undefined"!==typeof e.idToken,"internal-error"),mg("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):zg(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){mg(0!==e.length,"internal-error");const t=zg(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(mg(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Ig(e,{},(async()=>{const n=Fe({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Ag(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Sg.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Gg;return n&&(mg("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(mg("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(mg("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gg,this.toJSON())}_performRefresh(){return gg("not implemented")}}function Qg(e,t){mg("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class $g{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=ig(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Hg(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Bg(this,this.stsTokenManager.getToken(this.auth,e));return mg(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Qe(e),r=await n.getIdToken(t),i=Vg(r);mg(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Fg(Ug(i.auth_time)),issuedAtTime:Fg(Ug(i.iat)),expirationTime:Fg(Ug(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Qe(e);await Kg(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(mg(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new $g(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){mg(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Kg(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(on(this.auth.app))return Promise.reject(fg(this.auth));const e=await this.getIdToken();return await Bg(this,async function(e,t){return xg(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:E,stsTokenManager:_}=t;mg(y&&_,e,"internal-error");const S=Gg.fromJSON(this.name,_);mg("string"===typeof y,e,"internal-error"),Qg(u,e.name),Qg(d,e.name),mg("boolean"===typeof w,e,"internal-error"),mg("boolean"===typeof b,e,"internal-error"),Qg(h,e.name),Qg(f,e.name),Qg(p,e.name),Qg(m,e.name),Qg(g,e.name),Qg(v,e.name);const k=new $g({uid:y,auth:e,email:d,emailVerified:w,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:v});return E&&Array.isArray(E)&&(k.providerData=E.map((e=>Object.assign({},e)))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Gg;r.updateFromServerResponse(t);const i=new $g({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Kg(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];mg(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Wg(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new Gg;a.updateFromIdToken(n);const o=new $g({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Hg(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(o,l),o}}const Xg=new Map;function Jg(e){vg(e instanceof Function,"Expected a class definition");let t=Xg.get(e);return t?(vg(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Xg.set(e,t),t)}class Yg{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Yg.type="NONE";const Zg=Yg;function ev(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class tv{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ev(this.userKey,r.apiKey,i),this.fullPersistenceKey=ev("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?$g._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new tv(Jg(Zg),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Jg(Zg);const s=ev(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){const n=$g._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new tv(i,e,n)):new tv(i,e,n)}}function nv(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(av(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(rv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(lv(t))return"Blackberry";if(cv(t))return"Webos";if(iv(t))return"Safari";if((t.includes("chrome/")||sv(t))&&!t.includes("edge/"))return"Chrome";if(ov(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function rv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie();return/firefox\//i.test(e)}function iv(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie();return/crios\//i.test(e)}function av(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie();return/iemobile/i.test(e)}function ov(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie();return/android/i.test(e)}function lv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie();return/blackberry/i.test(e)}function cv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie();return/webos/i.test(e)}function uv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function dv(){return function(){const e=Ie();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function hv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie();return uv(e)||ov(e)||cv(e)||lv(e)||/windows phone/i.test(e)||av(e)}function fv(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=nv(Ie());break;case"Worker":t="".concat(nv(Ie()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(un,"/").concat(r)}class pv{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class mv{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class gv{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yv(this),this.idTokenSubscription=new yv(this),this.beforeStateQueue=new pv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=og,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Jg(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await tv.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Mg(this,{idToken:e}),n=await $g._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(on(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return mg(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Kg(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(on(this.app))return Promise.reject(fg(this));const t=e?Qe(e):null;return t&&mg(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&mg(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return on(this.app)?Promise.reject(fg(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return on(this.app)?Promise.reject(fg(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(Jg(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return xg(e,"GET","/v2/passwordPolicy",Cg(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new mv(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Oe("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return xg(e,"POST","/v2/accounts:revokeToken",Cg(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Jg(e)||this._popupRedirectResolver;mg(t,this,"argument-error"),this.redirectPersistenceManager=await tv.create(this,[Jg(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(mg(a,this,"internal-error"),a.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return mg(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(lg.logLevel<=et.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];lg.warn("Auth (".concat(un,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function vv(e){return Qe(e)}class yv{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new ze(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return mg(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let wv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bv(e){return wv.loadJS(e)}function Ev(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class _v{constructor(e){this.type="recaptcha-enterprise",this.auth=vv(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Og(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Lg(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new jg(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Og(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=wv.recaptchaEnterpriseScript;0!==t.length&&(t+=i),bv(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Sv(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new _v(e);let s;try{s=await i.verify(n)}catch(o){s=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function kv(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Sv(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Sv(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function Tv(e,t,n){const r=vv(e);mg(r._canInitEmulator,r,"emulator-config-failed"),mg(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Cv(t),{host:a,port:o}=function(e){const t=Cv(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:xv(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:xv(t)}}}(t),l=null===o?"":":".concat(o);r.config.emulator={url:"".concat(s,"//").concat(a).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Cv(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function xv(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Iv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return gg("not implemented")}_getIdTokenResponse(e){return gg("not implemented")}_linkToIdToken(e,t){return gg("not implemented")}_getReauthenticationResolver(e){return gg("not implemented")}}async function Nv(e,t){return xg(e,"POST","/v1/accounts:signUp",t)}async function Av(e,t){return Ng(e,"POST","/v1/accounts:signInWithPassword",Cg(e,t))}class Dv extends Iv{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Dv(e,t,"password")}static _fromEmailAndCode(e,t){return new Dv(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return kv(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Av);case"emailLink":return async function(e,t){return Ng(e,"POST","/v1/accounts:signInWithEmailLink",Cg(e,t))}(e,{email:this._email,oobCode:this._password});default:ug(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return kv(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Nv);case"emailLink":return async function(e,t){return Ng(e,"POST","/v1/accounts:signInWithEmailLink",Cg(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:ug(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Pv(e,t){return Ng(e,"POST","/v1/accounts:signInWithIdp",Cg(e,t))}class Rv extends Iv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Rv(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ug("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=ig(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Rv(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Pv(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Pv(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Pv(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Fe(t)}return e}}const Ov={USER_NOT_FOUND:"user-not-found"};class jv extends Iv{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new jv({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new jv({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Ng(e,"POST","/v1/accounts:signInWithPhoneNumber",Cg(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Ng(e,"POST","/v1/accounts:signInWithPhoneNumber",Cg(e,t));if(n.temporaryProof)throw Rg(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Ng(e,"POST","/v1/accounts:signInWithPhoneNumber",Cg(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Ov)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new jv({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Lv{constructor(e){var t,n,r,i,s,a;const o=Ue(Ve(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);mg(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=Ue(Ve(e)).link,n=t?Ue(Ve(t)).deep_link_id:null,r=Ue(Ve(e)).deep_link_id;return(r?Ue(Ve(r)).link:null)||r||n||t||e}(e);try{return new Lv(t)}catch(n){return null}}}class Mv{constructor(){this.providerId=Mv.PROVIDER_ID}static credential(e,t){return Dv._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Lv.parseLink(t);return mg(n,"argument-error"),Dv._fromEmailAndCode(e,n.code,n.tenantId)}}Mv.PROVIDER_ID="password",Mv.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Mv.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Fv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Uv extends Fv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Vv extends Uv{constructor(){super("facebook.com")}static credential(e){return Rv._fromParams({providerId:Vv.PROVIDER_ID,signInMethod:Vv.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vv.credentialFromTaggedObject(e)}static credentialFromError(e){return Vv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Vv.credential(t.oauthAccessToken)}catch(n){return null}}}Vv.FACEBOOK_SIGN_IN_METHOD="facebook.com",Vv.PROVIDER_ID="facebook.com";class zv extends Uv{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Rv._fromParams({providerId:zv.PROVIDER_ID,signInMethod:zv.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return zv.credentialFromTaggedObject(e)}static credentialFromError(e){return zv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return zv.credential(n,r)}catch(i){return null}}}zv.GOOGLE_SIGN_IN_METHOD="google.com",zv.PROVIDER_ID="google.com";class Bv extends Uv{constructor(){super("github.com")}static credential(e){return Rv._fromParams({providerId:Bv.PROVIDER_ID,signInMethod:Bv.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bv.credentialFromTaggedObject(e)}static credentialFromError(e){return Bv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Bv.credential(t.oauthAccessToken)}catch(n){return null}}}Bv.GITHUB_SIGN_IN_METHOD="github.com",Bv.PROVIDER_ID="github.com";class qv extends Uv{constructor(){super("twitter.com")}static credential(e,t){return Rv._fromParams({providerId:qv.PROVIDER_ID,signInMethod:qv.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return qv.credentialFromTaggedObject(e)}static credentialFromError(e){return qv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return qv.credential(n,r)}catch(i){return null}}}async function Hv(e,t){return Ng(e,"POST","/v1/accounts:signUp",Cg(e,t))}qv.TWITTER_SIGN_IN_METHOD="twitter.com",qv.PROVIDER_ID="twitter.com";class Kv{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await $g._fromIdTokenResponse(e,n,r),s=Wv(n);return new Kv({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Wv(n);return new Kv({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Wv(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Gv extends Re{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Gv.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Gv(e,t,n,r)}}function Qv(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Gv._fromErrorAndOperation(e,n,t,r);throw n}))}async function $v(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Bg(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Kv._forOperation(e,"link",r)}async function Xv(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(on(r.app))return Promise.reject(fg(r));const i="reauthenticate";try{const s=await Bg(e,Qv(r,i,t,e),n);mg(s.idToken,r,"internal-error");const a=Vg(s.idToken);mg(a,r,"internal-error");const{sub:o}=a;return mg(e.uid===o,r,"user-mismatch"),Kv._forOperation(e,i,s)}catch(s){throw(null===s||void 0===s?void 0:s.code)==="auth/".concat("user-not-found")&&ug(r,"user-mismatch"),s}}async function Jv(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(on(e.app))return Promise.reject(fg(e));const r="signIn",i=await Qv(e,r,t),s=await Kv._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function Yv(e,t){return Jv(vv(e),t)}async function Zv(e){const t=vv(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}new WeakMap;const ey="__sak";class ty{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ey,"1"),this.storage.removeItem(ey),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ny extends ty{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Ie();return iv(e)||uv(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=hv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);dv()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ny.type="LOCAL";const ry=ny;class iy extends ty{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}iy.type="SESSION";const sy=iy;class ay{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new ay(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map((async e=>e(t.origin,i))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function oy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ay.receivers=[];class ly{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((a,o)=>{const l=oy("",20);r.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function cy(){return window}function uy(){return"undefined"!==typeof cy().WorkerGlobalScope&&"function"===typeof cy().importScripts}const dy="firebaseLocalStorageDb",hy="firebaseLocalStorage",fy="fbase_key";class py{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function my(e,t){return e.transaction([hy],t?"readwrite":"readonly").objectStore(hy)}function gy(){const e=indexedDB.open(dy,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(hy,{keyPath:fy})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(hy)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(dy);return new py(e).toPromise()}(),t(await gy()))}))}))}async function vy(e,t,n){const r=my(e,!0).put({[fy]:t,value:n});return new py(r).toPromise()}function yy(e,t){const n=my(e,!0).delete(t);return new py(n).toPromise()}class wy{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await gy()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uy()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ay._getInstance(uy()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new ly(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gy();return await vy(e,ey,"1"),await yy(e,ey),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>vy(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=my(e,!1).get(t),r=await new py(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>yy(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=my(e,!1).getAll();return new py(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}wy.type="LOCAL";const by=wy;Ev("rcb"),new Eg(3e4,6e4);const Ey="recaptcha";async function _y(e,t,n){var r;const i=await n.verify();try{let s;if(mg("string"===typeof i,e,"argument-error"),mg(n.type===Ey,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){mg("enroll"===t.type,e,"internal-error");const n=await function(e,t){return xg(e,"POST","/v2/accounts/mfaEnrollment:start",Cg(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{mg("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;mg(n,e,"missing-multi-factor-info");const a=await function(e,t){return xg(e,"POST","/v2/accounts/mfaSignIn:start",Cg(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return xg(e,"POST","/v1/accounts:sendVerificationCode",Cg(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Sy{constructor(e){this.providerId=Sy.PROVIDER_ID,this.auth=vv(e)}verifyPhoneNumber(e,t){return _y(this.auth,e,Qe(t))}static credential(e,t){return jv._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Sy.credentialFromTaggedObject(t)}static credentialFromError(e){return Sy.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?jv._fromTokenResponse(n,r):null}}function ky(e,t){return t?Jg(t):(mg(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Sy.PROVIDER_ID="phone",Sy.PHONE_SIGN_IN_METHOD="phone";class Ty extends Iv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pv(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Pv(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Pv(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Cy(e){return Jv(e.auth,new Ty(e),e.bypassAuthState)}function xy(e){const{auth:t,user:n}=e;return mg(n,t,"internal-error"),Xv(n,new Ty(e),e.bypassAuthState)}async function Iy(e){const{auth:t,user:n}=e;return mg(n,t,"internal-error"),$v(n,new Ty(e),e.bypassAuthState)}class Ny{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Cy;case"linkViaPopup":case"linkViaRedirect":return Iy;case"reauthViaPopup":case"reauthViaRedirect":return xy;default:ug(this.auth,"internal-error")}}resolve(e){vg(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vg(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ay=new Eg(2e3,1e4);class Dy extends Ny{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Dy.currentPopupAction&&Dy.currentPopupAction.cancel(),Dy.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return mg(e,this.auth,"internal-error"),e}async onExecution(){vg(1===this.filter.length,"Popup operations only handle one event");const e=oy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(dg(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(dg(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Dy.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(dg(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Ay.get())};e()}}Dy.currentPopupAction=null;const Py="pendingRedirect",Ry=new Map;class Oy extends Ny{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Ry.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=My(t),r=Ly(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Ry.set(this.auth._key(),e)}return this.bypassAuthState||Ry.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function jy(e,t){Ry.set(e._key(),t)}function Ly(e){return Jg(e._redirectPersistence)}function My(e){return ev(Py,e.config.apiKey,e.name)}async function Fy(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(on(e.app))return Promise.reject(fg(e));const r=vv(e),i=ky(r,t),s=new Oy(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class Uy{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zy(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!zy(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(dg(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vy(e))}saveEventToCache(e){this.cachedEventUids.add(Vy(e)),this.lastProcessedEventTime=Date.now()}}function Vy(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function zy(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const By=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qy=/^https?/;async function Hy(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return xg(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Ky(r))return}catch(n){}ug(e,"unauthorized-domain")}function Ky(e){const t=yg(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!qy.test(n))return!1;if(By.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Wy=new Eg(3e4,6e4);function Gy(){const e=cy().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Qy(e){return new Promise(((t,n)=>{var r,i,s;function a(){Gy(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Gy(),n(dg(e,"network-request-failed"))},timeout:Wy.get()})}if(null===(i=null===(r=cy().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=cy().gapi)||void 0===s?void 0:s.load)){const t=Ev("iframefcb");return cy()[t]=()=>{gapi.load?a():n(dg(e,"network-request-failed"))},bv("".concat(wv.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}a()}})).catch((e=>{throw $y=null,e}))}let $y=null;const Xy=new Eg(5e3,15e3),Jy="__/auth/iframe",Yy="emulator/auth/iframe",Zy={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ew=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tw(e){const t=e.config;mg(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?_g(t,Yy):"https://".concat(e.config.authDomain,"/").concat(Jy),r={apiKey:t.apiKey,appName:e.name,v:un},i=ew.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(Fe(r).slice(1))}async function nw(e){const t=await function(e){return $y=$y||Qy(e),$y}(e),n=cy().gapi;return mg(n,e,"internal-error"),t.open({where:document.body,url:tw(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zy,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=dg(e,"network-request-failed"),s=cy().setTimeout((()=>{r(i)}),Xy.get());function a(){cy().clearTimeout(s),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}const rw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class iw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function sw(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},rw),{width:r.toString(),height:i.toString(),top:s,left:a}),c=Ie().toLowerCase();n&&(o=sv(c)?"_blank":n),rv(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return uv(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new iw(null);const d=window.open(t||"",o,u);mg(d,e,"popup-blocked");try{d.focus()}catch(h){}return new iw(d)}const aw="__/auth/handler",ow="emulator/auth/handler",lw=encodeURIComponent("fac");async function cw(e,t,n,r,i,s){mg(e.config.authDomain,e,"auth-domain-config-required"),mg(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:un,eventId:i};if(t instanceof Fv){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof Uv){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(lw,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(aw);return _g(t,ow)}(e),"?").concat(Fe(o).slice(1)).concat(c)}const uw="webStorageSupport";const dw=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sy,this._completeRedirectFn=Fy,this._overrideRedirectResult=jy}async _openPopup(e,t,n,r){var i;vg(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return sw(e,await cw(e,t,n,yg(),r),oy())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){cy().location.href=e}(await cw(e,t,n,yg(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(vg(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await nw(e),n=new Uy(e);return t.register("authEvent",(t=>{mg(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(uw,{type:uw},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[uw];void 0!==i&&t(!!i),ug(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Hy(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return hv()||iv()||uv()}};var hw="@firebase/auth",fw="1.7.2";class pw{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){mg(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const mw=Te("authIdTokenMaxAge")||300;let gw=null;function vw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn();const t=an(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=an(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Le(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;ug(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:dw,persistence:[by,ry,sy]}),r=Te("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>mw)return;const r=null===t||void 0===t?void 0:t.token;gw!==r&&(gw=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){Qe(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){Qe(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const s=_e("auth");return s&&Tv(n,"http://".concat(s)),n}var yw;!function(e){wv=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=dg("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),yw="Browser",sn(new $e("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;mg(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:yw,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fv(yw)},c=new gv(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Jg);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),sn(new $e("auth-internal",(e=>(e=>new pw(e))(vv(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),fn(hw,fw,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(yw)),fn(hw,fw,"esm2017");const ww="@firebase/installations",bw="0.6.6",Ew=1e4,_w="w:".concat(bw),Sw="FIS_v2",kw="https://firebaseinstallations.googleapis.com/v1",Tw=36e5,Cw=new Oe("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function xw(e){return e instanceof Re&&e.code.includes("request-failed")}function Iw(e){let{projectId:t}=e;return"".concat(kw,"/projects/").concat(t,"/installations")}function Nw(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Aw(e,t){const n=(await t.json()).error;return Cw.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Dw(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Pw(e,t){let{refreshToken:n}=t;const r=Dw(e);return r.append("Authorization",function(e){return"".concat(Sw," ").concat(e)}(n)),r}async function Rw(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Ow(e){return new Promise((t=>{setTimeout(t,e)}))}const jw=/^[cdef][\w-]{21}$/,Lw="";function Mw(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return jw.test(t)?t:Lw}catch(e){return Lw}}function Fw(e){return"".concat(e.appName,"!").concat(e.appId)}const Uw=new Map;function Vw(e,t){const n=Fw(e);zw(n,t),function(e,t){const n=qw();n&&n.postMessage({key:e,fid:t});Hw()}(n,t)}function zw(e,t){const n=Uw.get(e);if(n)for(const r of n)r(t)}let Bw=null;function qw(){return!Bw&&"BroadcastChannel"in self&&(Bw=new BroadcastChannel("[Firebase] FID Change"),Bw.onmessage=e=>{zw(e.data.key,e.data.fid)}),Bw}function Hw(){0===Uw.size&&Bw&&(Bw.close(),Bw=null)}const Kw="firebase-installations-database",Ww=1,Gw="firebase-installations-store";let Qw=null;function $w(){return Qw||(Qw=wt(Kw,Ww,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Gw)}})),Qw}async function Xw(e,t){const n=Fw(e),r=(await $w()).transaction(Gw,"readwrite"),i=r.objectStore(Gw),s=await i.get(n);return await i.put(t,n),await r.done,s&&s.fid===t.fid||Vw(e,t.fid),t}async function Jw(e){const t=Fw(e),n=(await $w()).transaction(Gw,"readwrite");await n.objectStore(Gw).delete(t),await n.done}async function Yw(e,t){const n=Fw(e),r=(await $w()).transaction(Gw,"readwrite"),i=r.objectStore(Gw),s=await i.get(n),a=t(s);return void 0===a?await i.delete(n):await i.put(a,n),await r.done,!a||s&&s.fid===a.fid||Vw(e,a.fid),a}async function Zw(e){let t;const n=await Yw(e.appConfig,(n=>{const r=function(e){const t=e||{fid:Mw(),registrationStatus:0};return nb(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(Cw.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const s=Iw(n),a=Dw(n),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const l={fid:i,authVersion:Sw,appId:n.appId,sdkVersion:_w},c={method:"POST",headers:a,body:JSON.stringify(l)},u=await Rw((()=>fetch(s,c)));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:Nw(e.authToken)}}throw await Aw("Create Installation",u)}(e,t);return Xw(e.appConfig,n)}catch(n){throw xw(n)&&409===n.customData.serverCode?await Jw(e.appConfig):await Xw(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:eb(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}));return n.fid===Lw?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function eb(e){let t=await tb(e.appConfig);for(;1===t.registrationStatus;)await Ow(100),t=await tb(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await Zw(e);return n||t}return t}function tb(e){return Yw(e,(e=>{if(!e)throw Cw.create("installation-not-found");return nb(e)}))}function nb(e){return 1===(t=e).registrationStatus&&t.registrationTime+Ew<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function rb(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return"".concat(Iw(e),"/").concat(n,"/authTokens:generate")}(n,t),s=Pw(n,t),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const o={installation:{sdkVersion:_w,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await Rw((()=>fetch(i,l)));if(c.ok){return Nw(await c.json())}throw await Aw("Generate Auth Token",c)}async function ib(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await Yw(e.appConfig,(r=>{if(!ab(r))throw Cw.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Tw}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await sb(e.appConfig);for(;1===n.authToken.requestStatus;)await Ow(100),n=await sb(e.appConfig);const r=n.authToken;return 0===r.requestStatus?ib(e,t):r}(e,n),r;{if(!navigator.onLine)throw Cw.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await rb(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await Xw(e.appConfig,r),n}catch(n){if(!xw(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Xw(e.appConfig,n)}else await Jw(e.appConfig);throw n}}(e,n),n}}));return t?await t:r.authToken}function sb(e){return Yw(e,(e=>{if(!ab(e))throw Cw.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Ew<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function ab(e){return void 0!==e&&2===e.registrationStatus}async function ob(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await Zw(e);t&&await t}(n);return(await ib(n,t)).token}function lb(e){return Cw.create("missing-app-config-values",{valueName:e})}const cb="installations",ub=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw lb("App Configuration");if(!e.name)throw lb("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw lb(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:an(t,"heartbeat"),_delete:()=>Promise.resolve()}},db=e=>{const t=an(e.getProvider("app").getImmediate(),cb).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await Zw(t);return r?r.catch(console.error):ib(t).catch(console.error),n.fid}(t),getToken:e=>ob(t,e)}};sn(new $e(cb,ub,"PUBLIC")),sn(new $e("installations-internal",db,"PRIVATE")),fn(ww,bw),fn(ww,bw,"esm2017");const hb="analytics",fb="firebase_id",pb="origin",mb=6e4,gb="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",vb="https://www.googletagmanager.com/gtag/js",yb=new st("@firebase/analytics"),wb=new Oe("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function bb(e){if(!e.startsWith(vb)){const t=wb.create("invalid-gtag-resource",{gtagURL:e});return yb.warn(t.message),""}return e}function Eb(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}function _b(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:bb}),r=document.createElement("script"),i="".concat(vb,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Sb(e,t,n,r){return async function(i){try{for(var s=arguments.length,a=new Array(s>1?s-1:0),o=1;o<s;o++)a[o-1]=arguments[o];if("event"===i){const[r,i]=a;await async function(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await Eb(n);for(const n of e){const e=r.find((e=>e.measurementId===n)),i=e&&t[e.appId];if(!i){s=[];break}s.push(i)}}0===s.length&&(s=Object.values(t)),await Promise.all(s),e("event",r,i||{})}catch(s){yb.error(s)}}(e,t,n,r,i)}else if("config"===i){const[i,s]=a;await async function(e,t,n,r,i,s){const a=r[i];try{if(a)await t[a];else{const e=(await Eb(n)).find((e=>e.measurementId===i));e&&await t[e.appId]}}catch(o){yb.error(o)}e("config",i,s)}(e,t,n,r,i,s)}else if("consent"===i){const[t]=a;e("consent","update",t)}else if("get"===i){const[t,n,r]=a;e("get",t,n,r)}else if("set"===i){const[t]=a;e("set",t)}else e(i,...a)}catch(l){yb.error(l)}}}const kb=30;const Tb=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Cb(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function xb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tb,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:s}=e.options;if(!r)throw wb.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw wb.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new Nb;return setTimeout((async()=>{o.abort()}),void 0!==n?n:mb),Ib({appId:r,apiKey:i,measurementId:s},a,o,t)}async function Ib(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Tb;var a;const{appId:o,measurementId:l}=e;try{await function(e,t){return new Promise(((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener((()=>{clearTimeout(s),r(wb.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(n,r)}catch(c){if(l)return yb.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===c||void 0===c?void 0:c.message,"]")),{appId:o,measurementId:l};throw c}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:Cb(r)},s=gb.replace("{app-id}",n),a=await fetch(s,i);if(200!==a.status&&304!==a.status){let e="";try{const n=await a.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(o){}throw wb.create("config-fetch-failed",{httpStatus:a.status,responseMessage:e})}return a.json()}(e);return s.deleteThrottleMetadata(o),t}catch(c){const t=c;if(!function(e){if(!(e instanceof Re)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(t)){if(s.deleteThrottleMetadata(o),l)return yb.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===t||void 0===t?void 0:t.message,"]")),{appId:o,measurementId:l};throw c}const r=503===Number(null===(a=null===t||void 0===t?void 0:t.customData)||void 0===a?void 0:a.httpStatus)?Ge(i,s.intervalMillis,kb):Ge(i,s.intervalMillis),u={throttleEndTimeMillis:Date.now()+r,backoffCount:i+1};return s.setThrottleMetadata(o,u),yb.debug("Calling attemptFetch again in ".concat(r," millis")),Ib(e,u,n,s)}}class Nb{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}let Ab,Db;function Pb(e){Db=e}function Rb(e){Ab=e}async function Ob(e,t,n,r,i,s,a){var o;const l=xb(e);l.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&yb.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((e=>yb.error(e))),t.push(l);const c=async function(){if(!De())return yb.warn(wb.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await Pe()}catch(e){return yb.warn(wb.create("indexeddb-unavailable",{errorInfo:null===e||void 0===e?void 0:e.toString()}).message),!1}return!0}().then((e=>e?r.getId():void 0)),[u,d]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(vb)&&n.src.includes(e))return n;return null})(s)||_b(s,u.measurementId),Db&&(i("consent","default",Db),Pb(void 0)),i("js",new Date);const h=null!==(o=null===a||void 0===a?void 0:a.config)&&void 0!==o?o:{};return h[pb]="firebase",h.update=!0,null!=d&&(h[fb]=d),i("config",u.measurementId,h),Ab&&(i("set",Ab),Rb(void 0)),u.measurementId}class jb{constructor(e){this.app=e}_delete(){return delete Lb[this.app.options.appId],Promise.resolve()}}let Lb={},Mb=[];const Fb={};let Ub,Vb,zb="dataLayer",Bb="gtag",qb=!1;function Hb(){const e=[];if(Ne()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>"(".concat(t+1,") ").concat(e))).join(" "),n=wb.create("invalid-analytics-context",{errorInfo:t});yb.warn(n.message)}}function Kb(e,t,n){Hb();const r=e.options.appId;if(!r)throw wb.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw wb.create("no-api-key");yb.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Lb[r])throw wb.create("already-exists",{id:r});if(!qb){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(zb);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(s=window[i]),window[i]=Sb(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}(Lb,Mb,Fb,zb,Bb);Vb=e,Ub=t,qb=!0}Lb[r]=Ob(e,Mb,Fb,t,Ub,zb,n);return new jb(e)}function Wb(e,t,n,r){e=Qe(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(Vb,Lb[e.app.options.appId],t,n,r).catch((e=>yb.error(e)))}const Gb="@firebase/analytics",Qb="0.10.2";sn(new $e(hb,((e,t)=>{let{options:n}=t;return Kb(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),sn(new $e("analytics-internal",(function(e){try{const t=e.getProvider(hb).getImmediate();return{logEvent:(e,n,r)=>Wb(t,e,n,r)}}catch(t){throw wb.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),fn(Gb,Qb),fn(Gb,Qb,"esm2017");const $b=dn({apiKey:"AIzaSyC5HAywpfQ6XI6GAcXZpZuB-Nw_75prY_o",authDomain:"dmpage-72e3e.firebaseapp.com",projectId:"dmpage-72e3e",storageBucket:"dmpage-72e3e.appspot.com",messagingSenderId:"200086784221",appId:"1:200086784221:web:429feb8639d04330967334",measurementId:"G-5G4SD327J0"}),Xb=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn();e=Qe(e);const t=an(e,hb);t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=an(e,hb);if(n.isInitialized()){const e=n.getImmediate();if(Le(t,n.getOptions()))return e;throw wb.create("already-initialized")}const r=n.initialize({options:t})}(e)}($b),vw($b)),Jb=function(e,t){const n="string"==typeof e?e:t||"(default)",r=an("object"==typeof e?e:hn(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=Se("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=Xf(e,Yf))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==a&&Za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Ga.MOCK_USER;else{t=xe(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new so(io.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Ga(s)}e._authCredentials=new co(new oo(t,n))}}(r,...e)}return r}($b),Yb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn(),t=arguments.length>1?arguments[1]:void 0;e=Qe(e);const n=an(e,Ym).getImmediate({identifier:t}),r=Se("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:xe(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}($b);var Zb=n(579);const eE=e=>{let{user:n,onToggleDarkMode:r}=e;const[i,s]=(0,t.useState)(""),[a,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(""),[u,d]=(0,t.useState)(!1),h=J();return(0,Zb.jsxs)("div",{className:"header",children:[n?(0,Zb.jsxs)(Zb.Fragment,{children:[(0,Zb.jsx)("button",{className:"page-btn-upload",onClick:async()=>{try{await function(e){return Qe(e).signOut()}(Xb),h("/corals/index")}catch(l){c("Sign out error: "+l.message)}},children:"Logout"}),(0,Zb.jsx)("span",{children:n.email})]}):(0,Zb.jsxs)(Zb.Fragment,{children:[(0,Zb.jsxs)("label",{children:["Email:",(0,Zb.jsx)("input",{type:"email",value:i,onChange:e=>s(e.target.value),placeholder:"Email","aria-label":"Email"})]}),(0,Zb.jsxs)("label",{children:["Password:",(0,Zb.jsx)("input",{type:"password",value:a,onChange:e=>o(e.target.value),placeholder:"Password","aria-label":"Password"})]}),(0,Zb.jsx)("button",{className:"page-btn",onClick:async()=>{d(!0),c("");try{await function(e,t,n){return on(e.app)?Promise.reject(fg(e)):Yv(Qe(e),Mv.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Zv(e),t}))}(Xb,i,a),h("/corals/homepage")}catch(l){c("Login error: "+l.message),d(!1)}},disabled:u,children:u?"Logging in...":"Login"}),(0,Zb.jsx)("button",{className:"page-btn",onClick:()=>h("/corals/signup"),children:"Sign Up"})]}),l&&(0,Zb.jsx)("p",{style:{color:"red"},children:l})]})},tE=e=>{let{isLoginPage:t,darkMode:n}=e;const r=t?"footer-login":"footer";return(0,Zb.jsx)("div",{className:r})};new Uint8Array(16);for(var nE=[],rE=0;rE<256;++rE)nE.push((rE+256).toString(16).substr(1));const iE=n.p+"static/media/Acro.7054993ccc5d2790d3da.jpeg",sE=n.p+"static/media/Chalice.8b05914ccd8b1fec61f9.jpeg",aE=n.p+"static/media/Monti.7943b8ffa3274378ff18.jpeg",oE=n.p+"static/media/Favia.4470ae39a34b090d2da0.jpeg",lE=n.p+"static/media/Mushroom.fda2cda8e89f635b7be6.jpeg",cE=n.p+"static/media/Scoly.7237e4305c8379c8e07f.jpeg",uE=n.p+"static/media/Zoas.415a47a7e6f21b8d7d6b.jpeg",dE=n.p+"static/media/FishTank.9e2b8e86a8cd3de02d5f.jpeg",hE=n.p+"static/media/NPSCoral.85c767d15e47469ea7bf.jpeg",fE=n.p+"static/media/AquascapeIdeas.520135cd8854386dd9b2.jpeg",pE=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(null);(0,t.useEffect)((()=>{(async()=>{const e=ng(Yb,"Acropora");try{const t=await function(e,t){return Bm(e=Qe(e),t)}(e,{maxResults:7}),r=await Promise.all(t.items.map((e=>eg(e))));n((e=>[...e,...r]))}catch(t){console.error("Error fetching images:",t)}})()}),[]);const s=e=>{e.stopPropagation(),i(null)};return(0,t.useEffect)((()=>{console.log("Selected image updated to:",r)}),[r]),(0,Zb.jsx)(Zb.Fragment,{children:(0,Zb.jsxs)("div",{className:"coral-imagescroll-container",children:[(0,Zb.jsx)("div",{className:"box-scroll-images",style:{overflowX:"auto",whiteSpace:"nowrap"},children:e.map(((e,t)=>(0,Zb.jsx)("div",{className:"scroll-image-container",children:(0,Zb.jsx)("img",{src:e,alt:"image_".concat(t),style:{width:"150px",height:"auto",display:"inline-block",marginRight:"10px"},onClick:()=>(e=>{console.log("Attempting to open modal with image URL:",e),i(e)})(e)})},t)))}),r&&(0,Zb.jsx)("div",{className:"modal-box",onClick:s,children:(0,Zb.jsxs)("div",{className:"modal-content",children:[(0,Zb.jsx)("img",{className:"modal-img",src:r,alt:"Modal"}),(0,Zb.jsx)("button",{className:"modal-button",onClick:s,children:"Close"})]})})]})})},mE=e=>{let{darkMode:n}=e;const r=[{src:iE,label:"acro",route:"acro"},{src:sE,label:"chalice",route:"chalice"},{src:aE,label:"monti",route:"monti"},{src:oE,label:"favia",route:"favia"},{src:lE,label:"mushroom",route:"mushroom"},{src:cE,label:"scoly",route:"scoly"},{src:uE,label:"zoas",route:"zoas"},{src:dE,label:"fishtank",route:"fishtank"},{src:hE,label:"nps",route:"nps"},{src:fE,label:"aquascape",route:"aquascape"}],i=n?"coral-main-page dark-mode":"coral-main-page",s=n?"coral-homepage-images-list dark-mode":"coral-homepage-images-list",a=J(),[o,l]=(0,t.useState)([]),[c,u]=(0,t.useState)(null);(0,t.useEffect)((()=>{d()}),[]);const d=async()=>{const e=ng(Yb,"Acropora");try{const t=await Zm(e),n=t.items.map((e=>eg(e))),r=await Promise.all(n);l((e=>[...e,...r])),u(t.nextPageToken)}catch(t){console.error("Error fetching images:",t)}},[h,f]=(0,t.useState)(null),[p,m]=(0,t.useState)([]),g=ng(Yb,"images/");return(0,t.useEffect)((()=>{Zm(g).then((e=>{const t=e.items.map((e=>eg(e)));Promise.all(t).then((e=>{m(e)}))}))}),[g]),(0,Zb.jsxs)(Zb.Fragment,{children:[(0,Zb.jsx)("div",{className:"coral-homepage-imagescroll-container",children:(0,Zb.jsx)(pE,{})}),(0,Zb.jsx)("div",{className:i,children:(0,Zb.jsx)("div",{className:s,children:r.map(((e,t)=>(0,Zb.jsxs)("div",{className:"coral-homepage-image-container",onClick:()=>{return t=e.route,console.log("Attempting to navigate to:","/corals/".concat(t)),void a("/corals/".concat(t));var t},children:[(0,Zb.jsx)("img",{src:e.src,className:"coral-homepage-img-grid"}),(0,Zb.jsx)("span",{className:"coral-home-img-label",children:e.label})]},t)))})})]})},gE=()=>{const e=vw(),[n,r]=(0,t.useState)(""),[i,s]=(0,t.useState)(""),[a,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(""),[u,d]=(0,t.useState)([]),[h,f]=(0,t.useState)(""),p=np(Jb,"users");console.log(e.currentUser);return(0,t.useEffect)((()=>{(async()=>{const e=await Kp(p);d(e.docs.map((e=>({...e.data(),id:e.id}))))})()}),[p]),(0,Zb.jsxs)(Zb.Fragment,{children:[(0,Zb.jsx)("div",{children:"Sign up"}),(0,Zb.jsxs)("div",{children:[(0,Zb.jsx)("input",{placeholder:"First Name:",onChange:e=>r(e.target.value)}),(0,Zb.jsx)("input",{placeholder:"Last Name:",onChange:e=>s(e.target.value)}),(0,Zb.jsx)("input",{placeholder:"Email:",onChange:e=>o(e.target.value)}),(0,Zb.jsx)("input",{placeholder:"Password:",type:"password",onChange:e=>c(e.target.value)}),(0,Zb.jsx)("button",{onClick:async()=>{a&&l?(f(""),async function(e,t,n){if(on(e.app))return Promise.reject(fg(e));const r=vv(e),i=kv(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Hv),s=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Zv(e),t})),a=await Kv._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}(e,a,l).then((e=>{const t=e.user;Qp(p,{uid:t.uid,firstName:n,lastName:i,email:a})})).catch((e=>{f(e.message)}))):f("Email and password are required")},children:"Create User"}),h&&(0,Zb.jsx)("p",{style:{color:"red"},children:h})]}),u.map((e=>(0,Zb.jsxs)("div",{children:[(0,Zb.jsxs)("h1",{children:["First Name: ",e.firstName]}),(0,Zb.jsxs)("h1",{children:["Last Name: ",e.lastName]}),(0,Zb.jsxs)("h1",{children:["Email: ",e.email]}),(0,Zb.jsx)("button",{onClick:()=>(async e=>{const t=rp(Jb,"users",e);await Gp(t)})(e.id),children:"Delete User"})]},e.id)))]})},vE=()=>{const[e,n]=(0,t.useState)(null),[r,i]=(0,t.useState)([]),[s,a]=(0,t.useState)(!1),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(""),[f,p]=(0,t.useState)(null),[m,g]=(0,t.useState)(""),[v,y]=(0,t.useState)({}),[w,b]=(0,t.useState)(null),[E,_]=(0,t.useState)(""),[S,k]=(0,t.useState)(""),[T,C]=(0,t.useState)(""),[x,I]=(0,t.useState)(null),[N,A]=(0,t.useState)(1),D=12*N,P=D-12,R=r.slice(P,D),O=r.length,j=Math.ceil(O/12),L=e=>{let{url:t,description:n,imageAquascapeType:r,lastEdited:i,onClose:s,onEdit:a}=e;return t?(0,Zb.jsx)("div",{className:"modal-box",onClick:s,children:(0,Zb.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Zb.jsx)("div",{className:"modal-img",children:(0,Zb.jsx)("img",{src:t,alt:"Full Size"})}),(0,Zb.jsx)("table",{className:"modal-info-table",children:(0,Zb.jsxs)("tbody",{children:[(0,Zb.jsxs)("tr",{children:[(0,Zb.jsxs)("td",{className:"coral-name-cell",children:[(0,Zb.jsx)("div",{className:"coral-name-label",children:(0,Zb.jsx)("b",{children:"Challice Name:"})}),(0,Zb.jsx)("div",{className:"coral-name-value",children:r})]}),(0,Zb.jsxs)("td",{className:"last-edited-cell",children:["Last Edited: ",i.lastEdited,(0,Zb.jsx)("br",{}),"Edited by: ",i.editedBy]}),(0,Zb.jsxs)("td",{className:"modal-buttons-cell",children:[(0,Zb.jsx)("button",{className:"modal-button",onClick:a,children:"Edit"}),(0,Zb.jsx)("button",{className:"modal-button",onClick:s,children:"Close"})]})]}),(0,Zb.jsx)("tr",{children:(0,Zb.jsx)("td",{colSpan:"3",className:"modal-description-cell",children:(0,Zb.jsx)("p",{children:n})})})]})})]})}):null},M=e=>{let{url:n,description:r,imageAquascapeType:i,lastEdited:s,onClose:a,onSaveEdit:o,imageId:l}=e;const[c,u]=(0,t.useState)(r),[d,h]=(0,t.useState)(i);(0,t.useEffect)((()=>{u(r),h(i)}),[r,i]);return(0,Zb.jsx)("div",{className:"modal-box",onClick:a,children:(0,Zb.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Zb.jsx)("div",{className:"modal-img",children:(0,Zb.jsx)("img",{src:n,alt:"Full Size"})}),(0,Zb.jsx)("table",{className:"modal-info-table",children:(0,Zb.jsxs)("tbody",{children:[(0,Zb.jsxs)("tr",{children:[(0,Zb.jsxs)("td",{className:"coral-name-cell",children:[(0,Zb.jsx)("p",{children:(0,Zb.jsx)("b",{children:"Challice Name:"})}),(0,Zb.jsx)("input",{type:"text",value:d,onChange:e=>h(e.target.value),className:"modal-edit-coral-name-input"})]}),(0,Zb.jsxs)("td",{className:"last-edited-cell",children:["Last Edited: ",s.lastEdited,(0,Zb.jsx)("br",{}),"Edited by: ",s.editedBy]}),(0,Zb.jsxs)("td",{className:"modal-buttons-cell",children:[(0,Zb.jsx)("button",{className:"modal-button",onClick:()=>{c&&d?x?(o(x,c,d),a()):alert("Error: Image ID is missing."):alert("Please fill out all fields before saving.")},children:"Save"}),(0,Zb.jsx)("button",{className:"modal-button",onClick:a,children:"Dismiss"})]})]}),(0,Zb.jsx)("tr",{children:(0,Zb.jsx)("td",{colSpan:"3",className:"modal-description-cell",children:(0,Zb.jsx)("textarea",{value:c,onChange:e=>u(e.target.value),className:"modal-edit-description-input"})})})]})})]})})};(0,t.useEffect)((()=>{(async()=>{try{const e=np(Jb,"chalice"),t=await Kp(e);let n=[];for(const r of t.docs){const e=r.data();let t=e.lastEditedBy||Xb.currentUser.displayName||"Unknown";e.lastEditedBy||await Wp(r.ref,{lastEditedBy:t}),n.push({id:r.id,...e,description:e.description||"",lastEdited:e.lastEdited?e.lastEdited.toDate():new Date,lastEditedBy:t})}n.sort(((e,t)=>t.lastEdited-e.lastEdited)),i(n)}catch(e){console.error("Error fetching images:",e)}})()}),[]),(0,t.useEffect)((()=>{const e=Xb.onAuthStateChanged((e=>{b(e||null)}));return()=>e()}),[]),(0,t.useEffect)((()=>{const e=Xb.onAuthStateChanged((e=>{console.log("Auth State Changed: ",e),b(e)}));return()=>e()}),[]);return(0,Zb.jsxs)("div",{className:"page-main-box",children:[s&&(0,Zb.jsx)(L,{url:c,description:d,imageAquascapeType:m,lastEdited:f,onClose:()=>a(!1),onEdit:()=>{l(!0),a(!1)},imageId:x}),o&&(0,Zb.jsx)(M,{url:c,description:d,imageAquascapeType:m,lastEdited:f,onSaveEdit:async(e,t,n)=>{if(console.log("onSaveEdit params:",{imageId:e,description:t,aquascapeType:n}),!e||void 0===t||void 0===n){let r="";return e||(r+="Image ID "),void 0===t&&(r+="Description "),void 0===n&&(r+="Aquascape Type "),void alert("Cannot save changes: Missing information (".concat(r.trim(),")"))}try{const s=w&&w.email||"Unknown",o=rp(Jb,"chalice",e);await Wp(o,{description:t,aquascapeType:n,lastEdited:new Date,lastEditedBy:s}),alert("Changes saved successfully!"),i((r=>r.map((r=>r.id===e?{...r,description:t,aquascapeType:n,lastEditedBy:s,lastEdited:new Date}:r))));try{const t=rp(Jb,"chalice",e),n=await qp(t);if(n.exists()){const e=n.data();h(e.description),g(e.aquascapeType)}else console.log("Document not found after update.")}catch(r){console.error("Error refetching the updated document:",r)}a(!0),l(!1)}catch(r){console.error("Error saving changes: ",r),alert("Failed to save changes: "+r.message)}},onClose:()=>{l(!1),a(!0)}}),(0,Zb.jsx)("div",{className:"page-images-list",children:R.map(((e,t)=>(0,Zb.jsxs)("div",{className:"page-image-container",children:[(0,Zb.jsx)("img",{src:e.url,className:"page-img-grid",onClick:()=>(async e=>{try{const t=rp(Jb,"chalice",e.id),n=await qp(t);if(n.exists()){const t=n.data();console.log("Fetched data for image click:",t),u(e.url),h(t.description),g(t.aquascapeType);let r="";t.lastEdited&&t.lastEdited.toDate instanceof Function&&(r=t.lastEdited.toDate().toLocaleString()),p({editedBy:t.lastEditedBy,lastEdited:r}),I(e.id),a(!0)}else console.log("No such document!")}catch(t){console.error("Error getting document:",t)}})(e)}),(0,Zb.jsx)("button",{className:"page-btn",onClick:()=>(async(e,t,n)=>{if(console.log("Attempting to delete image with Name:",t),t.startsWith("Aquascape Ideas/")&&(t=t.replace("Aquascape Ideas/","")),window.confirm("Are you sure you want to delete this image?"))try{const s=ng(Yb,"Aquascape Ideas/".concat(t));if(await tg(s),!n){const t=rp(Jb,"chalice",e);await Gp(t)}i(r.filter((e=>e.imageName!==t))),alert("Image deleted successfully.")}catch(s){console.error("Error deleting image:",s),alert("Failed to delete image: "+s.message)}})(e.id,e.imageName),children:"Delete"})]},e.imageName)))}),(0,Zb.jsxs)("div",{className:"pagination",children:[(0,Zb.jsx)("button",{onClick:()=>A((e=>e>1?e-1:e)),children:"Prev"}),(0,Zb.jsxs)("span",{children:["Page ",N," of ",j]}),(0,Zb.jsx)("button",{onClick:()=>A((e=>e<j?e+1:e)),children:"Next"})]})]})},yE=()=>{const[e,n]=(0,t.useState)(null),[r,i]=(0,t.useState)([]),[s,a]=(0,t.useState)(!1),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(""),[f,p]=(0,t.useState)(null),[m,g]=(0,t.useState)(""),[v,y]=(0,t.useState)({}),[w,b]=(0,t.useState)(null),[E,_]=(0,t.useState)(""),[S,k]=(0,t.useState)(""),[T,C]=(0,t.useState)(""),[x,I]=(0,t.useState)(null),[N,A]=(0,t.useState)(1),D=12*N,P=D-12,R=r.slice(P,D),O=r.length,j=Math.ceil(O/12),L=e=>{let{url:t,description:n,imageAquascapeType:r,lastEdited:i,onClose:s,onEdit:a}=e;return t?(0,Zb.jsx)("div",{className:"modal-box",onClick:s,children:(0,Zb.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Zb.jsx)("div",{className:"modal-img",children:(0,Zb.jsx)("img",{src:t,alt:"Full Size"})}),(0,Zb.jsx)("table",{className:"modal-info-table",children:(0,Zb.jsxs)("tbody",{children:[(0,Zb.jsxs)("tr",{children:[(0,Zb.jsxs)("td",{className:"coral-name-cell",children:[(0,Zb.jsx)("div",{className:"coral-name-label",children:(0,Zb.jsx)("b",{children:"Montipora Name:"})}),(0,Zb.jsx)("div",{className:"coral-name-value",children:r})]}),(0,Zb.jsxs)("td",{className:"last-edited-cell",children:["Last Edited: ",i.lastEdited,(0,Zb.jsx)("br",{}),"Edited by: ",i.editedBy]}),(0,Zb.jsxs)("td",{className:"modal-buttons-cell",children:[(0,Zb.jsx)("button",{className:"modal-button",onClick:a,children:"Edit"}),(0,Zb.jsx)("button",{className:"modal-button",onClick:s,children:"Close"})]})]}),(0,Zb.jsx)("tr",{children:(0,Zb.jsx)("td",{colSpan:"3",className:"modal-description-cell",children:(0,Zb.jsx)("p",{children:n})})})]})})]})}):null},M=e=>{let{url:n,description:r,imageAquascapeType:i,lastEdited:s,onClose:a,onSaveEdit:o,imageId:l}=e;const[c,u]=(0,t.useState)(r),[d,h]=(0,t.useState)(i);(0,t.useEffect)((()=>{u(r),h(i)}),[r,i]);return(0,Zb.jsx)("div",{className:"modal-box",onClick:a,children:(0,Zb.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Zb.jsx)("div",{className:"modal-img",children:(0,Zb.jsx)("img",{src:n,alt:"Full Size"})}),(0,Zb.jsx)("table",{className:"modal-info-table",children:(0,Zb.jsxs)("tbody",{children:[(0,Zb.jsxs)("tr",{children:[(0,Zb.jsxs)("td",{className:"coral-name-cell",children:[(0,Zb.jsx)("p",{children:(0,Zb.jsx)("b",{children:"Montipora Name:"})}),(0,Zb.jsx)("input",{type:"text",value:d,onChange:e=>h(e.target.value),className:"modal-edit-coral-name-input"})]}),(0,Zb.jsxs)("td",{className:"last-edited-cell",children:["Last Edited: ",s.lastEdited,(0,Zb.jsx)("br",{}),"Edited by: ",s.editedBy]}),(0,Zb.jsxs)("td",{className:"modal-buttons-cell",children:[(0,Zb.jsx)("button",{className:"modal-button",onClick:()=>{c&&d?x?(o(x,c,d),a()):alert("Error: Image ID is missing."):alert("Please fill out all fields before saving.")},children:"Save"}),(0,Zb.jsx)("button",{className:"modal-button",onClick:a,children:"Dismiss"})]})]}),(0,Zb.jsx)("tr",{children:(0,Zb.jsx)("td",{colSpan:"3",className:"modal-description-cell",children:(0,Zb.jsx)("textarea",{value:c,onChange:e=>u(e.target.value),className:"modal-edit-description-input"})})})]})})]})})};(0,t.useEffect)((()=>{(async()=>{try{const e=np(Jb,"montipora"),t=await Kp(e);let n=[];for(const r of t.docs){const e=r.data();let t=e.lastEditedBy||Xb.currentUser.displayName||"Unknown";e.lastEditedBy||await Wp(r.ref,{lastEditedBy:t}),n.push({id:r.id,...e,description:e.description||"",lastEdited:e.lastEdited?e.lastEdited.toDate():new Date,lastEditedBy:t})}n.sort(((e,t)=>t.lastEdited-e.lastEdited)),i(n)}catch(e){console.error("Error fetching images:",e)}})()}),[]),(0,t.useEffect)((()=>{const e=Xb.onAuthStateChanged((e=>{b(e||null)}));return()=>e()}),[]),(0,t.useEffect)((()=>{const e=Xb.onAuthStateChanged((e=>{console.log("Auth State Changed: ",e),b(e)}));return()=>e()}),[]);return(0,Zb.jsxs)("div",{className:"page-main-box",children:[s&&(0,Zb.jsx)(L,{url:c,description:d,imageAquascapeType:m,lastEdited:f,onClose:()=>a(!1),onEdit:()=>{l(!0),a(!1)},imageId:x}),o&&(0,Zb.jsx)(M,{url:c,description:d,imageAquascapeType:m,lastEdited:f,onSaveEdit:async(e,t,n)=>{if(console.log("onSaveEdit params:",{imageId:e,description:t,aquascapeType:n}),!e||void 0===t||void 0===n){let r="";return e||(r+="Image ID "),void 0===t&&(r+="Description "),void 0===n&&(r+="Aquascape Type "),void alert("Cannot save changes: Missing information (".concat(r.trim(),")"))}try{const s=w&&w.email||"Unknown",o=rp(Jb,"montipora",e);await Wp(o,{description:t,aquascapeType:n,lastEdited:new Date,lastEditedBy:s}),alert("Changes saved successfully!"),i((r=>r.map((r=>r.id===e?{...r,description:t,aquascapeType:n,lastEditedBy:s,lastEdited:new Date}:r))));try{const t=rp(Jb,"montipora",e),n=await qp(t);if(n.exists()){const e=n.data();h(e.description),g(e.aquascapeType)}else console.log("Document not found after update.")}catch(r){console.error("Error refetching the updated document:",r)}a(!0),l(!1)}catch(r){console.error("Error saving changes: ",r),alert("Failed to save changes: "+r.message)}},onClose:()=>{l(!1),a(!0)}}),(0,Zb.jsx)("div",{className:"page-images-list",children:R.map(((e,t)=>(0,Zb.jsxs)("div",{className:"page-image-container",children:[(0,Zb.jsx)("img",{src:e.url,className:"page-img-grid",onClick:()=>(async e=>{try{const t=rp(Jb,"montipora",e.id),n=await qp(t);if(n.exists()){const t=n.data();console.log("Fetched data for image click:",t),u(e.url),h(t.description),g(t.aquascapeType);let r="";t.lastEdited&&t.lastEdited.toDate instanceof Function&&(r=t.lastEdited.toDate().toLocaleString()),p({editedBy:t.lastEditedBy,lastEdited:r}),I(e.id),a(!0)}else console.log("No such document!")}catch(t){console.error("Error getting document:",t)}})(e)}),(0,Zb.jsx)("button",{className:"page-btn",onClick:()=>(async(e,t,n)=>{if(console.log("Attempting to delete image with Name:",t),t.startsWith("Aquascape Ideas/")&&(t=t.replace("Aquascape Ideas/","")),window.confirm("Are you sure you want to delete this image?"))try{const s=ng(Yb,"Aquascape Ideas/".concat(t));if(await tg(s),!n){const t=rp(Jb,"montipora",e);await Gp(t)}i(r.filter((e=>e.imageName!==t))),alert("Image deleted successfully.")}catch(s){console.error("Error deleting image:",s),alert("Failed to delete image: "+s.message)}})(e.id,e.imageName),children:"Delete"})]},e.imageName)))}),(0,Zb.jsxs)("div",{className:"pagination",children:[(0,Zb.jsx)("button",{onClick:()=>A((e=>e>1?e-1:e)),children:"Prev"}),(0,Zb.jsxs)("span",{children:["Page ",N," of ",j]}),(0,Zb.jsx)("button",{onClick:()=>A((e=>e<j?e+1:e)),children:"Next"})]})]})},wE=()=>{const[e,n]=(0,t.useState)(null),[r,i]=(0,t.useState)([]),[s,a]=(0,t.useState)(!1),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(""),[f,p]=(0,t.useState)(null),[m,g]=(0,t.useState)(""),[v,y]=(0,t.useState)({}),[w,b]=(0,t.useState)(null),[E,_]=(0,t.useState)(""),[S,k]=(0,t.useState)(""),[T,C]=(0,t.useState)(""),[x,I]=(0,t.useState)(null),[N,A]=(0,t.useState)(1),D=12*N,P=D-12,R=r.slice(P,D),O=r.length,j=Math.ceil(O/12),L=e=>{let{url:t,description:n,imageMushroomName:r,lastEdited:i,onClose:s,onEdit:a}=e;return t?(0,Zb.jsx)("div",{className:"modal-box",onClick:s,children:(0,Zb.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Zb.jsx)("div",{className:"modal-img",children:(0,Zb.jsx)("img",{src:t,alt:"Full Size"})}),(0,Zb.jsx)("table",{className:"modal-info-table",children:(0,Zb.jsxs)("tbody",{children:[(0,Zb.jsxs)("tr",{children:[(0,Zb.jsxs)("td",{className:"coral-name-cell",children:[(0,Zb.jsx)("div",{className:"coral-name-label",children:(0,Zb.jsx)("b",{children:"Mushroom Name:"})}),(0,Zb.jsx)("div",{className:"coral-name-value",children:r})]}),(0,Zb.jsxs)("td",{className:"last-edited-cell",children:["Last Edited: ",i.lastEdited,(0,Zb.jsx)("br",{}),"Edited by: ",i.editedBy]}),(0,Zb.jsxs)("td",{className:"modal-buttons-cell",children:[(0,Zb.jsx)("button",{className:"modal-button",onClick:a,children:"Edit"}),(0,Zb.jsx)("button",{className:"modal-button",onClick:s,children:"Close"})]})]}),(0,Zb.jsx)("tr",{children:(0,Zb.jsx)("td",{colSpan:"3",className:"modal-description-cell",children:(0,Zb.jsx)("p",{children:n})})})]})})]})}):null},M=e=>{let{url:n,description:r,imageMushroomName:i,lastEdited:s,onClose:a,onSaveEdit:o,imageId:l}=e;const[c,u]=(0,t.useState)(r),[d,h]=(0,t.useState)(i);(0,t.useEffect)((()=>{u(r),h(i)}),[r,i]);return(0,Zb.jsx)("div",{className:"modal-box",onClick:a,children:(0,Zb.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Zb.jsx)("div",{className:"modal-img",children:(0,Zb.jsx)("img",{src:n,alt:"Full Size"})}),(0,Zb.jsx)("table",{className:"modal-info-table",children:(0,Zb.jsxs)("tbody",{children:[(0,Zb.jsxs)("tr",{children:[(0,Zb.jsxs)("td",{className:"coral-name-cell",children:[(0,Zb.jsx)("p",{children:(0,Zb.jsx)("b",{children:"Mushroom Name:"})}),(0,Zb.jsx)("input",{type:"text",value:d,onChange:e=>h(e.target.value),className:"modal-edit-coral-name-input"})]}),(0,Zb.jsxs)("td",{className:"last-edited-cell",children:["Last Edited: ",s.lastEdited,(0,Zb.jsx)("br",{}),"Edited by: ",s.editedBy]}),(0,Zb.jsxs)("td",{className:"modal-buttons-cell",children:[(0,Zb.jsx)("button",{className:"modal-button",onClick:()=>{c&&d?x?(o(x,c,d),a()):alert("Error: Image ID is missing."):alert("Please fill out all fields before saving.")},children:"Save"}),(0,Zb.jsx)("button",{className:"modal-button",onClick:a,children:"Dismiss"})]})]}),(0,Zb.jsx)("tr",{children:(0,Zb.jsx)("td",{colSpan:"3",className:"modal-description-cell",children:(0,Zb.jsx)("textarea",{value:c,onChange:e=>u(e.target.value),className:"modal-edit-description-input"})})})]})})]})})};(0,t.useEffect)((()=>{(async()=>{try{const e=np(Jb,"mushrooms"),t=await Kp(e);let n=[];for(const r of t.docs){const e=r.data();let t=e.lastEditedBy||Xb.currentUser.displayName||"Unknown";e.lastEditedBy||await Wp(r.ref,{lastEditedBy:t}),n.push({id:r.id,...e,description:e.description||"",lastEdited:e.lastEdited?e.lastEdited.toDate():new Date,lastEditedBy:t})}n.sort(((e,t)=>t.lastEdited-e.lastEdited)),i(n)}catch(e){console.error("Error fetching images:",e)}})()}),[]),(0,t.useEffect)((()=>{const e=Xb.onAuthStateChanged((e=>{b(e||null)}));return()=>e()}),[]),(0,t.useEffect)((()=>{const e=Xb.onAuthStateChanged((e=>{console.log("Auth State Changed: ",e),b(e)}));return()=>e()}),[]);return(0,Zb.jsxs)("div",{className:"page-main-box",children:[s&&(0,Zb.jsx)(L,{url:c,description:d,imageMushroomName:m,lastEdited:f,onClose:()=>a(!1),onEdit:()=>{l(!0),a(!1)},imageId:x}),o&&(0,Zb.jsx)(M,{url:c,description:d,imageMushroomName:m,lastEdited:f,onSaveEdit:async(e,t,n)=>{if(console.log("onSaveEdit params:",{imageId:e,description:t,mushroomName:n}),!e||void 0===t||void 0===n){let r="";return e||(r+="Image ID "),void 0===t&&(r+="Description "),void 0===n&&(r+="Mushroom Name "),void alert("Cannot save changes: Missing information (".concat(r.trim(),")"))}try{const s=w&&w.email||"Unknown",o=rp(Jb,"mushrooms",e);await Wp(o,{description:t,mushroomName:n,lastEdited:new Date,lastEditedBy:s}),alert("Changes saved successfully!"),i((r=>r.map((r=>r.id===e?{...r,description:t,mushroomName:n,lastEditedBy:s,lastEdited:new Date}:r))));try{const t=rp(Jb,"mushrooms",e),n=await qp(t);if(n.exists()){const e=n.data();h(e.description),g(e.mushroomName)}else console.log("Document not found after update.")}catch(r){console.error("Error refetching the updated document:",r)}a(!0),l(!1)}catch(r){console.error("Error saving changes: ",r),alert("Failed to save changes: "+r.message)}},onClose:()=>{l(!1),a(!0)}}),(0,Zb.jsx)("div",{className:"page-images-list",children:R.map(((e,t)=>(0,Zb.jsxs)("div",{className:"page-image-container",children:[(0,Zb.jsx)("img",{src:e.url,className:"page-img-grid",onClick:()=>(async e=>{try{const t=rp(Jb,"mushrooms",e.id),n=await qp(t);if(n.exists()){const t=n.data();console.log("Fetched data for image click:",t),u(e.url),h(t.description),g(t.mushroomName);let r="";t.lastEdited&&t.lastEdited.toDate instanceof Function&&(r=t.lastEdited.toDate().toLocaleString()),p({editedBy:t.lastEditedBy,lastEdited:r}),I(e.id),a(!0)}else console.log("No such document!")}catch(t){console.error("Error getting document:",t)}})(e)}),(0,Zb.jsx)("button",{className:"page-btn",onClick:()=>(async(e,t,n)=>{if(console.log("Attempting to delete image with Name:",t),t.startsWith("Mushrooms/")&&(t=t.replace("Mushrooms/","")),window.confirm("Are you sure you want to delete this image?"))try{const s=ng(Yb,"Mushrooms/".concat(t));if(await tg(s),!n){const t=rp(Jb,"mushrooms",e);await Gp(t)}i(r.filter((e=>e.imageName!==t))),alert("Image deleted successfully.")}catch(s){console.error("Error deleting image:",s),alert("Failed to delete image: "+s.message)}})(e.id,e.imageName),children:"Delete"})]},e.imageName)))}),(0,Zb.jsxs)("div",{className:"pagination",children:[(0,Zb.jsx)("button",{onClick:()=>A((e=>e>1?e-1:e)),children:"Prev"}),(0,Zb.jsxs)("span",{children:["Page ",N," of ",j]}),(0,Zb.jsx)("button",{onClick:()=>A((e=>e<j?e+1:e)),children:"Next"})]})]})},bE=()=>{const[e,n]=(0,t.useState)(null),[r,i]=(0,t.useState)([]),[s,a]=(0,t.useState)(!1),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(""),[f,p]=(0,t.useState)(null),[m,g]=(0,t.useState)(""),[v,y]=(0,t.useState)({}),[w,b]=(0,t.useState)(null),[E,_]=(0,t.useState)(""),[S,k]=(0,t.useState)(""),[T,C]=(0,t.useState)(""),[x,I]=(0,t.useState)(null),[N,A]=(0,t.useState)(1),D=12*N,P=D-12,R=r.slice(P,D),O=r.length,j=Math.ceil(O/12),L=e=>{let{url:t,description:n,imageAquascapeType:r,lastEdited:i,onClose:s,onEdit:a}=e;return t?(0,Zb.jsx)("div",{className:"modal-box",onClick:s,children:(0,Zb.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Zb.jsx)("div",{className:"modal-img",children:(0,Zb.jsx)("img",{src:t,alt:"Full Size"})}),(0,Zb.jsx)("table",{className:"modal-info-table",children:(0,Zb.jsxs)("tbody",{children:[(0,Zb.jsxs)("tr",{children:[(0,Zb.jsxs)("td",{className:"coral-name-cell",children:[(0,Zb.jsx)("div",{className:"coral-name-label",children:(0,Zb.jsx)("b",{children:"Coral Name:"})}),(0,Zb.jsx)("div",{className:"coral-name-value",children:r})]}),(0,Zb.jsxs)("td",{className:"last-edited-cell",children:["Last Edited: ",i.lastEdited,(0,Zb.jsx)("br",{}),"Edited by: ",i.editedBy]}),(0,Zb.jsxs)("td",{className:"modal-buttons-cell",children:[(0,Zb.jsx)("button",{className:"modal-button",onClick:a,children:"Edit"}),(0,Zb.jsx)("button",{className:"modal-button",onClick:s,children:"Close"})]})]}),(0,Zb.jsx)("tr",{children:(0,Zb.jsx)("td",{colSpan:"3",className:"modal-description-cell",children:(0,Zb.jsx)("p",{children:n})})})]})})]})}):null},M=e=>{let{url:n,description:r,imageAquascapeType:i,lastEdited:s,onClose:a,onSaveEdit:o,imageId:l}=e;const[c,u]=(0,t.useState)(r),[d,h]=(0,t.useState)(i);(0,t.useEffect)((()=>{u(r),h(i)}),[r,i]);return(0,Zb.jsx)("div",{className:"modal-box",onClick:a,children:(0,Zb.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Zb.jsx)("div",{className:"modal-img",children:(0,Zb.jsx)("img",{src:n,alt:"Full Size"})}),(0,Zb.jsx)("table",{className:"modal-info-table",children:(0,Zb.jsxs)("tbody",{children:[(0,Zb.jsxs)("tr",{children:[(0,Zb.jsxs)("td",{className:"coral-name-cell",children:[(0,Zb.jsx)("p",{children:(0,Zb.jsx)("b",{children:"Aquascape Type:"})}),(0,Zb.jsx)("input",{type:"text",value:d,onChange:e=>h(e.target.value),className:"modal-edit-coral-name-input"})]}),(0,Zb.jsxs)("td",{className:"last-edited-cell",children:["Last Edited: ",s.lastEdited,(0,Zb.jsx)("br",{}),"Edited by: ",s.editedBy]}),(0,Zb.jsxs)("td",{className:"modal-buttons-cell",children:[(0,Zb.jsx)("button",{className:"modal-button",onClick:()=>{c&&d?x?(o(x,c,d),a()):alert("Error: Image ID is missing."):alert("Please fill out all fields before saving.")},children:"Save"}),(0,Zb.jsx)("button",{className:"modal-button",onClick:a,children:"Dismiss"})]})]}),(0,Zb.jsx)("tr",{children:(0,Zb.jsx)("td",{colSpan:"3",className:"modal-description-cell",children:(0,Zb.jsx)("textarea",{value:c,onChange:e=>u(e.target.value),className:"modal-edit-description-input"})})})]})})]})})};(0,t.useEffect)((()=>{(async()=>{try{const e=np(Jb,"nps corals"),t=await Kp(e);let n=[];for(const r of t.docs){const e=r.data();let t=e.lastEditedBy||Xb.currentUser.displayName||"Unknown";e.lastEditedBy||await Wp(r.ref,{lastEditedBy:t}),n.push({id:r.id,...e,description:e.description||"",lastEdited:e.lastEdited?e.lastEdited.toDate():new Date,lastEditedBy:t})}n.sort(((e,t)=>t.lastEdited-e.lastEdited)),i(n)}catch(e){console.error("Error fetching images:",e)}})()}),[]),(0,t.useEffect)((()=>{const e=Xb.onAuthStateChanged((e=>{b(e||null)}));return()=>e()}),[]),(0,t.useEffect)((()=>{const e=Xb.onAuthStateChanged((e=>{console.log("Auth State Changed: ",e),b(e)}));return()=>e()}),[]);return(0,Zb.jsxs)("div",{className:"page-main-box",children:[s&&(0,Zb.jsx)(L,{url:c,description:d,imageAquascapeType:m,lastEdited:f,onClose:()=>a(!1),onEdit:()=>{l(!0),a(!1)},imageId:x}),o&&(0,Zb.jsx)(M,{url:c,description:d,imageAquascapeType:m,lastEdited:f,onSaveEdit:async(e,t,n)=>{if(console.log("onSaveEdit params:",{imageId:e,description:t,aquascapeType:n}),!e||void 0===t||void 0===n){let r="";return e||(r+="Image ID "),void 0===t&&(r+="Description "),void 0===n&&(r+="Aquascape Type "),void alert("Cannot save changes: Missing information (".concat(r.trim(),")"))}try{const s=w&&w.email||"Unknown",o=rp(Jb,"nps corals",e);await Wp(o,{description:t,aquascapeType:n,lastEdited:new Date,lastEditedBy:s}),alert("Changes saved successfully!"),i((r=>r.map((r=>r.id===e?{...r,description:t,aquascapeType:n,lastEditedBy:s,lastEdited:new Date}:r))));try{const t=rp(Jb,"nps corals",e),n=await qp(t);if(n.exists()){const e=n.data();h(e.description),g(e.aquascapeType)}else console.log("Document not found after update.")}catch(r){console.error("Error refetching the updated document:",r)}a(!0),l(!1)}catch(r){console.error("Error saving changes: ",r),alert("Failed to save changes: "+r.message)}},onClose:()=>{l(!1),a(!0)}}),(0,Zb.jsx)("div",{className:"page-images-list",children:R.map(((e,t)=>(0,Zb.jsxs)("div",{className:"page-image-container",children:[(0,Zb.jsx)("img",{src:e.url,className:"page-img-grid",onClick:()=>(async e=>{try{const t=rp(Jb,"nps corals",e.id),n=await qp(t);if(n.exists()){const t=n.data();console.log("Fetched data for image click:",t),u(e.url),h(t.description),g(t.aquascapeType);let r="";t.lastEdited&&t.lastEdited.toDate instanceof Function&&(r=t.lastEdited.toDate().toLocaleString()),p({editedBy:t.lastEditedBy,lastEdited:r}),I(e.id),a(!0)}else console.log("No such document!")}catch(t){console.error("Error getting document:",t)}})(e)}),(0,Zb.jsx)("button",{className:"page-btn",onClick:()=>(async(e,t,n)=>{if(console.log("Attempting to delete image with Name:",t),t.startsWith("Aquascape Ideas/")&&(t=t.replace("Aquascape Ideas/","")),window.confirm("Are you sure you want to delete this image?"))try{const s=ng(Yb,"Aquascape Ideas/".concat(t));if(await tg(s),!n){const t=rp(Jb,"nps corals",e);await Gp(t)}i(r.filter((e=>e.imageName!==t))),alert("Image deleted successfully.")}catch(s){console.error("Error deleting image:",s),alert("Failed to delete image: "+s.message)}})(e.id,e.imageName),children:"Delete"})]},e.imageName)))}),(0,Zb.jsxs)("div",{className:"pagination",children:[(0,Zb.jsx)("button",{onClick:()=>A((e=>e>1?e-1:e)),children:"Prev"}),(0,Zb.jsxs)("span",{children:["Page ",N," of ",j]}),(0,Zb.jsx)("button",{onClick:()=>A((e=>e<j?e+1:e)),children:"Next"})]})]})},EE=()=>{const[e,n]=(0,t.useState)(null),[r,i]=(0,t.useState)([]),[s,a]=(0,t.useState)(!1),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(""),[f,p]=(0,t.useState)(null),[m,g]=(0,t.useState)(""),[v,y]=(0,t.useState)({}),[w,b]=(0,t.useState)(null),[E,_]=(0,t.useState)(""),[S,k]=(0,t.useState)(""),[T,C]=(0,t.useState)(""),[x,I]=(0,t.useState)(null),[N,A]=(0,t.useState)(1),D=12*N,P=D-12,R=r.slice(P,D),O=r.length,j=Math.ceil(O/12),L=e=>{let{url:t,description:n,imageAquascapeType:r,lastEdited:i,onClose:s,onEdit:a}=e;return t?(0,Zb.jsx)("div",{className:"modal-box",onClick:s,children:(0,Zb.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Zb.jsx)("div",{className:"modal-img",children:(0,Zb.jsx)("img",{src:t,alt:"Full Size"})}),(0,Zb.jsx)("table",{className:"modal-info-table",children:(0,Zb.jsxs)("tbody",{children:[(0,Zb.jsxs)("tr",{children:[(0,Zb.jsxs)("td",{className:"coral-name-cell",children:[(0,Zb.jsx)("div",{className:"coral-name-label",children:(0,Zb.jsx)("b",{children:"Scoly Name:"})}),(0,Zb.jsx)("div",{className:"coral-name-value",children:r})]}),(0,Zb.jsxs)("td",{className:"last-edited-cell",children:["Last Edited: ",i.lastEdited,(0,Zb.jsx)("br",{}),"Edited by: ",i.editedBy]}),(0,Zb.jsxs)("td",{className:"modal-buttons-cell",children:[(0,Zb.jsx)("button",{className:"modal-button",onClick:a,children:"Edit"}),(0,Zb.jsx)("button",{className:"modal-button",onClick:s,children:"Close"})]})]}),(0,Zb.jsx)("tr",{children:(0,Zb.jsx)("td",{colSpan:"3",className:"modal-description-cell",children:(0,Zb.jsx)("p",{children:n})})})]})})]})}):null},M=e=>{let{url:n,description:r,imageAquascapeType:i,lastEdited:s,onClose:a,onSaveEdit:o,imageId:l}=e;const[c,u]=(0,t.useState)(r),[d,h]=(0,t.useState)(i);(0,t.useEffect)((()=>{u(r),h(i)}),[r,i]);return(0,Zb.jsx)("div",{className:"modal-box",onClick:a,children:(0,Zb.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Zb.jsx)("div",{className:"modal-img",children:(0,Zb.jsx)("img",{src:n,alt:"Full Size"})}),(0,Zb.jsx)("table",{className:"modal-info-table",children:(0,Zb.jsxs)("tbody",{children:[(0,Zb.jsxs)("tr",{children:[(0,Zb.jsxs)("td",{className:"coral-name-cell",children:[(0,Zb.jsx)("p",{children:(0,Zb.jsx)("b",{children:"Scoly Name:"})}),(0,Zb.jsx)("input",{type:"text",value:d,onChange:e=>h(e.target.value),className:"modal-edit-coral-name-input"})]}),(0,Zb.jsxs)("td",{className:"last-edited-cell",children:["Last Edited: ",s.lastEdited,(0,Zb.jsx)("br",{}),"Edited by: ",s.editedBy]}),(0,Zb.jsxs)("td",{className:"modal-buttons-cell",children:[(0,Zb.jsx)("button",{className:"modal-button",onClick:()=>{c&&d?x?(o(x,c,d),a()):alert("Error: Image ID is missing."):alert("Please fill out all fields before saving.")},children:"Save"}),(0,Zb.jsx)("button",{className:"modal-button",onClick:a,children:"Dismiss"})]})]}),(0,Zb.jsx)("tr",{children:(0,Zb.jsx)("td",{colSpan:"3",className:"modal-description-cell",children:(0,Zb.jsx)("textarea",{value:c,onChange:e=>u(e.target.value),className:"modal-edit-description-input"})})})]})})]})})};(0,t.useEffect)((()=>{(async()=>{try{const e=np(Jb,"scolymia"),t=await Kp(e);let n=[];for(const r of t.docs){const e=r.data();let t=e.lastEditedBy||Xb.currentUser.displayName||"Unknown";e.lastEditedBy||await Wp(r.ref,{lastEditedBy:t}),n.push({id:r.id,...e,description:e.description||"",lastEdited:e.lastEdited?e.lastEdited.toDate():new Date,lastEditedBy:t})}n.sort(((e,t)=>t.lastEdited-e.lastEdited)),i(n)}catch(e){console.error("Error fetching images:",e)}})()}),[]),(0,t.useEffect)((()=>{const e=Xb.onAuthStateChanged((e=>{b(e||null)}));return()=>e()}),[]),(0,t.useEffect)((()=>{const e=Xb.onAuthStateChanged((e=>{console.log("Auth State Changed: ",e),b(e)}));return()=>e()}),[]);return(0,Zb.jsxs)("div",{className:"page-main-box",children:[s&&(0,Zb.jsx)(L,{url:c,description:d,imageAquascapeType:m,lastEdited:f,onClose:()=>a(!1),onEdit:()=>{l(!0),a(!1)},imageId:x}),o&&(0,Zb.jsx)(M,{url:c,description:d,imageAquascapeType:m,lastEdited:f,onSaveEdit:async(e,t,n)=>{if(console.log("onSaveEdit params:",{imageId:e,description:t,aquascapeType:n}),!e||void 0===t||void 0===n){let r="";return e||(r+="Image ID "),void 0===t&&(r+="Description "),void 0===n&&(r+="Aquascape Type "),void alert("Cannot save changes: Missing information (".concat(r.trim(),")"))}try{const s=w&&w.email||"Unknown",o=rp(Jb,"scolymia",e);await Wp(o,{description:t,aquascapeType:n,lastEdited:new Date,lastEditedBy:s}),alert("Changes saved successfully!"),i((r=>r.map((r=>r.id===e?{...r,description:t,aquascapeType:n,lastEditedBy:s,lastEdited:new Date}:r))));try{const t=rp(Jb,"scolymia",e),n=await qp(t);if(n.exists()){const e=n.data();h(e.description),g(e.aquascapeType)}else console.log("Document not found after update.")}catch(r){console.error("Error refetching the updated document:",r)}a(!0),l(!1)}catch(r){console.error("Error saving changes: ",r),alert("Failed to save changes: "+r.message)}},onClose:()=>{l(!1),a(!0)}}),(0,Zb.jsx)("div",{className:"page-images-list",children:R.map(((e,t)=>(0,Zb.jsxs)("div",{className:"page-image-container",children:[(0,Zb.jsx)("img",{src:e.url,className:"page-img-grid",onClick:()=>(async e=>{try{const t=rp(Jb,"scolymia",e.id),n=await qp(t);if(n.exists()){const t=n.data();console.log("Fetched data for image click:",t),u(e.url),h(t.description),g(t.aquascapeType);let r="";t.lastEdited&&t.lastEdited.toDate instanceof Function&&(r=t.lastEdited.toDate().toLocaleString()),p({editedBy:t.lastEditedBy,lastEdited:r}),I(e.id),a(!0)}else console.log("No such document!")}catch(t){console.error("Error getting document:",t)}})(e)}),(0,Zb.jsx)("button",{className:"page-btn",onClick:()=>(async(e,t,n)=>{if(console.log("Attempting to delete image with Name:",t),t.startsWith("Aquascape Ideas/")&&(t=t.replace("Aquascape Ideas/","")),window.confirm("Are you sure you want to delete this image?"))try{const s=ng(Yb,"Aquascape Ideas/".concat(t));if(await tg(s),!n){const t=rp(Jb,"scolymia",e);await Gp(t)}i(r.filter((e=>e.imageName!==t))),alert("Image deleted successfully.")}catch(s){console.error("Error deleting image:",s),alert("Failed to delete image: "+s.message)}})(e.id,e.imageName),children:"Delete"})]},e.imageName)))}),(0,Zb.jsxs)("div",{className:"pagination",children:[(0,Zb.jsx)("button",{onClick:()=>A((e=>e>1?e-1:e)),children:"Prev"}),(0,Zb.jsxs)("span",{children:["Page ",N," of ",j]}),(0,Zb.jsx)("button",{onClick:()=>A((e=>e<j?e+1:e)),children:"Next"})]})]})},_E=()=>{const[e,n]=(0,t.useState)(null),[r,i]=(0,t.useState)([]),[s,a]=(0,t.useState)(!1),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(""),[f,p]=(0,t.useState)(null),[m,g]=(0,t.useState)(""),[v,y]=(0,t.useState)({}),[w,b]=(0,t.useState)(null),[E,_]=(0,t.useState)(""),[S,k]=(0,t.useState)(""),[T,C]=(0,t.useState)(""),[x,I]=(0,t.useState)(null),[N,A]=(0,t.useState)(1),D=12*N,P=D-12,R=r.slice(P,D),O=r.length,j=Math.ceil(O/12),L=e=>{let{url:t,description:n,imageAquascapeType:r,lastEdited:i,onClose:s,onEdit:a}=e;return t?(0,Zb.jsx)("div",{className:"modal-box",onClick:s,children:(0,Zb.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Zb.jsx)("div",{className:"modal-img",children:(0,Zb.jsx)("img",{src:t,alt:"Full Size"})}),(0,Zb.jsx)("table",{className:"modal-info-table",children:(0,Zb.jsxs)("tbody",{children:[(0,Zb.jsxs)("tr",{children:[(0,Zb.jsxs)("td",{className:"coral-name-cell",children:[(0,Zb.jsx)("div",{className:"coral-name-label",children:(0,Zb.jsx)("b",{children:"Zoanthus Name:"})}),(0,Zb.jsx)("div",{className:"coral-name-value",children:r})]}),(0,Zb.jsxs)("td",{className:"last-edited-cell",children:["Last Edited: ",i.lastEdited,(0,Zb.jsx)("br",{}),"Edited by: ",i.editedBy]}),(0,Zb.jsxs)("td",{className:"modal-buttons-cell",children:[(0,Zb.jsx)("button",{className:"modal-button",onClick:a,children:"Edit"}),(0,Zb.jsx)("button",{className:"modal-button",onClick:s,children:"Close"})]})]}),(0,Zb.jsx)("tr",{children:(0,Zb.jsx)("td",{colSpan:"3",className:"modal-description-cell",children:(0,Zb.jsx)("p",{children:n})})})]})})]})}):null},M=e=>{let{url:n,description:r,imageAquascapeType:i,lastEdited:s,onClose:a,onSaveEdit:o,imageId:l}=e;const[c,u]=(0,t.useState)(r),[d,h]=(0,t.useState)(i);(0,t.useEffect)((()=>{u(r),h(i)}),[r,i]);return(0,Zb.jsx)("div",{className:"modal-box",onClick:a,children:(0,Zb.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Zb.jsx)("div",{className:"modal-img",children:(0,Zb.jsx)("img",{src:n,alt:"Full Size"})}),(0,Zb.jsx)("table",{className:"modal-info-table",children:(0,Zb.jsxs)("tbody",{children:[(0,Zb.jsxs)("tr",{children:[(0,Zb.jsxs)("td",{className:"coral-name-cell",children:[(0,Zb.jsx)("p",{children:(0,Zb.jsx)("b",{children:"Zoanthus Name:"})}),(0,Zb.jsx)("input",{type:"text",value:d,onChange:e=>h(e.target.value),className:"modal-edit-coral-name-input"})]}),(0,Zb.jsxs)("td",{className:"last-edited-cell",children:["Last Edited: ",s.lastEdited,(0,Zb.jsx)("br",{}),"Edited by: ",s.editedBy]}),(0,Zb.jsxs)("td",{className:"modal-buttons-cell",children:[(0,Zb.jsx)("button",{className:"modal-button",onClick:()=>{c&&d?x?(o(x,c,d),a()):alert("Error: Image ID is missing."):alert("Please fill out all fields before saving.")},children:"Save"}),(0,Zb.jsx)("button",{className:"modal-button",onClick:a,children:"Dismiss"})]})]}),(0,Zb.jsx)("tr",{children:(0,Zb.jsx)("td",{colSpan:"3",className:"modal-description-cell",children:(0,Zb.jsx)("textarea",{value:c,onChange:e=>u(e.target.value),className:"modal-edit-description-input"})})})]})})]})})};(0,t.useEffect)((()=>{(async()=>{try{const e=np(Jb,"zoas palys"),t=await Kp(e);let n=[];for(const r of t.docs){const e=r.data();let t=e.lastEditedBy||Xb.currentUser.displayName||"Unknown";e.lastEditedBy||await Wp(r.ref,{lastEditedBy:t}),n.push({id:r.id,...e,description:e.description||"",lastEdited:e.lastEdited?e.lastEdited.toDate():new Date,lastEditedBy:t})}n.sort(((e,t)=>t.lastEdited-e.lastEdited)),i(n)}catch(e){console.error("Error fetching images:",e)}})()}),[]),(0,t.useEffect)((()=>{const e=Xb.onAuthStateChanged((e=>{b(e||null)}));return()=>e()}),[]),(0,t.useEffect)((()=>{const e=Xb.onAuthStateChanged((e=>{console.log("Auth State Changed: ",e),b(e)}));return()=>e()}),[]);return(0,Zb.jsxs)("div",{className:"page-main-box",children:[s&&(0,Zb.jsx)(L,{url:c,description:d,imageAquascapeType:m,lastEdited:f,onClose:()=>a(!1),onEdit:()=>{l(!0),a(!1)},imageId:x}),o&&(0,Zb.jsx)(M,{url:c,description:d,imageAquascapeType:m,lastEdited:f,onSaveEdit:async(e,t,n)=>{if(console.log("onSaveEdit params:",{imageId:e,description:t,aquascapeType:n}),!e||void 0===t||void 0===n){let r="";return e||(r+="Image ID "),void 0===t&&(r+="Description "),void 0===n&&(r+="Aquascape Type "),void alert("Cannot save changes: Missing information (".concat(r.trim(),")"))}try{const s=w&&w.email||"Unknown",o=rp(Jb,"zoas palys",e);await Wp(o,{description:t,aquascapeType:n,lastEdited:new Date,lastEditedBy:s}),alert("Changes saved successfully!"),i((r=>r.map((r=>r.id===e?{...r,description:t,aquascapeType:n,lastEditedBy:s,lastEdited:new Date}:r))));try{const t=rp(Jb,"zoas palys",e),n=await qp(t);if(n.exists()){const e=n.data();h(e.description),g(e.aquascapeType)}else console.log("Document not found after update.")}catch(r){console.error("Error refetching the updated document:",r)}a(!0),l(!1)}catch(r){console.error("Error saving changes: ",r),alert("Failed to save changes: "+r.message)}},onClose:()=>{l(!1),a(!0)}}),(0,Zb.jsx)("div",{className:"page-images-list",children:R.map(((e,t)=>(0,Zb.jsxs)("div",{className:"page-image-container",children:[(0,Zb.jsx)("img",{src:e.url,className:"page-img-grid",onClick:()=>(async e=>{try{const t=rp(Jb,"zoas palys",e.id),n=await qp(t);if(n.exists()){const t=n.data();console.log("Fetched data for image click:",t),u(e.url),h(t.description),g(t.aquascapeType);let r="";t.lastEdited&&t.lastEdited.toDate instanceof Function&&(r=t.lastEdited.toDate().toLocaleString()),p({editedBy:t.lastEditedBy,lastEdited:r}),I(e.id),a(!0)}else console.log("No such document!")}catch(t){console.error("Error getting document:",t)}})(e)}),(0,Zb.jsx)("button",{className:"page-btn",onClick:()=>(async(e,t,n)=>{if(console.log("Attempting to delete image with Name:",t),t.startsWith("Aquascape Ideas/")&&(t=t.replace("Aquascape Ideas/","")),window.confirm("Are you sure you want to delete this image?"))try{const s=ng(Yb,"Aquascape Ideas/".concat(t));if(await tg(s),!n){const t=rp(Jb,"zoas palys",e);await Gp(t)}i(r.filter((e=>e.imageName!==t))),alert("Image deleted successfully.")}catch(s){console.error("Error deleting image:",s),alert("Failed to delete image: "+s.message)}})(e.id,e.imageName),children:"Delete"})]},e.imageName)))}),(0,Zb.jsxs)("div",{className:"pagination",children:[(0,Zb.jsx)("button",{onClick:()=>A((e=>e>1?e-1:e)),children:"Prev"}),(0,Zb.jsxs)("span",{children:["Page ",N," of ",j]}),(0,Zb.jsx)("button",{onClick:()=>A((e=>e<j?e+1:e)),children:"Next"})]})]})},SE=()=>{const[e,n]=(0,t.useState)(null),[r,i]=(0,t.useState)([]),[s,a]=(0,t.useState)(!1),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(""),[f,p]=(0,t.useState)(null),[m,g]=(0,t.useState)(""),[v,y]=(0,t.useState)({}),[w,b]=(0,t.useState)(null),[E,_]=(0,t.useState)(""),[S,k]=(0,t.useState)(""),[T,C]=(0,t.useState)(""),[x,I]=(0,t.useState)(null),[N,A]=(0,t.useState)(1),D=12*N,P=D-12,R=r.slice(P,D),O=r.length,j=Math.ceil(O/12),L=e=>{let{url:t,description:n,imageAquascapeType:r,lastEdited:i,onClose:s,onEdit:a}=e;return t?(0,Zb.jsx)("div",{className:"modal-box",onClick:s,children:(0,Zb.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Zb.jsx)("div",{className:"modal-img",children:(0,Zb.jsx)("img",{src:t,alt:"Full Size"})}),(0,Zb.jsx)("table",{className:"modal-info-table",children:(0,Zb.jsxs)("tbody",{children:[(0,Zb.jsxs)("tr",{children:[(0,Zb.jsxs)("td",{className:"coral-name-cell",children:[(0,Zb.jsx)("div",{className:"coral-name-label",children:(0,Zb.jsx)("b",{children:"Acro Name:"})}),(0,Zb.jsx)("div",{className:"coral-name-value",children:r})]}),(0,Zb.jsxs)("td",{className:"last-edited-cell",children:["Last Edited: ",i.lastEdited,(0,Zb.jsx)("br",{}),"Edited by: ",i.editedBy]}),(0,Zb.jsxs)("td",{className:"modal-buttons-cell",children:[(0,Zb.jsx)("button",{className:"modal-button",onClick:a,children:"Edit"}),(0,Zb.jsx)("button",{className:"modal-button",onClick:s,children:"Close"})]})]}),(0,Zb.jsx)("tr",{children:(0,Zb.jsx)("td",{colSpan:"3",className:"modal-description-cell",children:(0,Zb.jsx)("p",{children:n})})})]})})]})}):null},M=e=>{let{url:n,description:r,imageCoralName:i,lastEdited:s,onClose:a,onSaveEdit:o,imageId:l}=e;const[c,u]=(0,t.useState)(r),[d,h]=(0,t.useState)(i);(0,t.useEffect)((()=>{u(r),h(i)}),[r,i]);return(0,Zb.jsx)("div",{className:"modal-box",onClick:a,children:(0,Zb.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Zb.jsx)("div",{className:"modal-img",children:(0,Zb.jsx)("img",{src:n,alt:"Full Size"})}),(0,Zb.jsx)("table",{className:"modal-info-table",children:(0,Zb.jsxs)("tbody",{children:[(0,Zb.jsxs)("tr",{children:[(0,Zb.jsxs)("td",{className:"coral-name-cell",children:[(0,Zb.jsx)("p",{children:(0,Zb.jsx)("b",{children:"Coral Name:"})}),(0,Zb.jsx)("input",{type:"text",value:d,onChange:e=>h(e.target.value),className:"modal-edit-coral-name-input"})]}),(0,Zb.jsxs)("td",{className:"last-edited-cell",children:["Last Edited: ",s.lastEdited,(0,Zb.jsx)("br",{}),"Edited by: ",s.editedBy]}),(0,Zb.jsxs)("td",{className:"modal-buttons-cell",children:[(0,Zb.jsx)("button",{className:"modal-button",onClick:()=>{c&&d?x?(o(x,c,d),a()):alert("Error: Image ID is missing."):alert("Please fill out all fields before saving.")},children:"Save"}),(0,Zb.jsx)("button",{className:"modal-button",onClick:a,children:"Dismiss"})]})]}),(0,Zb.jsx)("tr",{children:(0,Zb.jsx)("td",{colSpan:"3",className:"modal-description-cell",children:(0,Zb.jsx)("textarea",{value:c,onChange:e=>u(e.target.value),className:"modal-edit-description-input"})})})]})})]})})};(0,t.useEffect)((()=>{(async()=>{try{const e=np(Jb,"corals"),t=await Kp(e);let n=[];for(const r of t.docs){const e=r.data();let t=e.lastEditedBy||Xb.currentUser.displayName||"Unknown";e.lastEditedBy||await Wp(r.ref,{lastEditedBy:t}),n.push({id:r.id,...e,description:e.description||"",lastEdited:e.lastEdited?e.lastEdited.toDate():new Date,lastEditedBy:t})}n.sort(((e,t)=>t.lastEdited-e.lastEdited)),i(n)}catch(e){console.error("Error fetching images:",e)}})()}),[]),(0,t.useEffect)((()=>{const e=Xb.onAuthStateChanged((e=>{b(e||null)}));return()=>e()}),[]),(0,t.useEffect)((()=>{const e=Xb.onAuthStateChanged((e=>{console.log("Auth State Changed: ",e),b(e)}));return()=>e()}),[]);return(0,Zb.jsxs)("div",{className:"page-main-box",children:[s&&(0,Zb.jsx)(L,{url:c,description:d,imageCoralName:m,lastEdited:f,onClose:()=>a(!1),onEdit:()=>{l(!0),a(!1)},imageId:x}),o&&(0,Zb.jsx)(M,{url:c,description:d,imageCoralName:m,lastEdited:f,onSaveEdit:async(e,t,n)=>{if(console.log("onSaveEdit params:",{imageId:e,description:t,coralName:n}),!e||void 0===t||void 0===n){let r="";return e||(r+="Image ID "),void 0===t&&(r+="Description "),void 0===n&&(r+="Coral Name "),void alert("Cannot save changes: Missing information (".concat(r.trim(),")"))}try{const s=w&&w.email||"Unknown",o=rp(Jb,"corals",e);await Wp(o,{description:t,coralName:n,lastEdited:new Date,lastEditedBy:s}),alert("Changes saved successfully!"),i((r=>r.map((r=>r.id===e?{...r,description:t,coralName:n,lastEditedBy:s,lastEdited:new Date}:r))));try{const t=rp(Jb,"corals",e),n=await qp(t);if(n.exists()){const e=n.data();h(e.description),g(e.coralName)}else console.log("Document not found after update.")}catch(r){console.error("Error refetching the updated document:",r)}a(!0),l(!1)}catch(r){console.error("Error saving changes: ",r),alert("Failed to save changes: "+r.message)}},onClose:()=>{l(!1),a(!0)}}),(0,Zb.jsx)("div",{className:"page-images-list",children:R.map(((e,t)=>(0,Zb.jsxs)("div",{className:"page-image-container",children:[(0,Zb.jsx)("img",{src:e.url,className:"page-img-grid",onClick:()=>(async e=>{try{const t=rp(Jb,"corals",e.id),n=await qp(t);if(n.exists()){const t=n.data();console.log("Fetched data for image click:",t),u(e.url),h(t.description),g(t.aquascapeType);let r="";t.lastEdited&&t.lastEdited.toDate instanceof Function&&(r=t.lastEdited.toDate().toLocaleString()),p({editedBy:t.lastEditedBy,lastEdited:r}),I(e.id),a(!0)}else console.log("No such document!")}catch(t){console.error("Error getting document:",t)}})(e)}),(0,Zb.jsx)("button",{className:"page-btn",onClick:()=>(async(e,t,n)=>{if(console.log("Attempting to delete image with Name:",t),t.startsWith("Acropora/")&&(t=t.replace("Acropora/","")),window.confirm("Are you sure you want to delete this image?"))try{const s=ng(Yb,"Acropora/".concat(t));if(await tg(s),!n){const t=rp(Jb,"corals",e);await Gp(t)}i(r.filter((e=>e.imageName!==t))),alert("Image deleted successfully.")}catch(s){console.error("Error deleting image:",s),alert("Failed to delete image: "+s.message)}})(e.id,e.imageName),children:"Delete"})]},e.imageName)))}),(0,Zb.jsxs)("div",{className:"pagination",children:[(0,Zb.jsx)("button",{onClick:()=>A((e=>e>1?e-1:e)),children:"Prev"}),(0,Zb.jsxs)("span",{children:["Page ",N," of ",j]}),(0,Zb.jsx)("button",{onClick:()=>A((e=>e<j?e+1:e)),children:"Next"})]})]})},kE=()=>{const[e,n]=(0,t.useState)(null),[r,i]=(0,t.useState)([]),[s,a]=(0,t.useState)(!1),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(""),[f,p]=(0,t.useState)(null),[m,g]=(0,t.useState)(""),[v,y]=(0,t.useState)({}),[w,b]=(0,t.useState)(null),[E,_]=(0,t.useState)(""),[S,k]=(0,t.useState)(""),[T,C]=(0,t.useState)(""),[x,I]=(0,t.useState)(null),[N,A]=(0,t.useState)(1),D=12*N,P=D-12,R=r.slice(P,D),O=r.length,j=Math.ceil(O/12),L=e=>{let{url:t,description:n,imageAquascapeType:r,lastEdited:i,onClose:s,onEdit:a}=e;return t?(0,Zb.jsx)("div",{className:"modal-box",onClick:s,children:(0,Zb.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Zb.jsx)("div",{className:"modal-img",children:(0,Zb.jsx)("img",{src:t,alt:"Full Size"})}),(0,Zb.jsx)("table",{className:"modal-info-table",children:(0,Zb.jsxs)("tbody",{children:[(0,Zb.jsxs)("tr",{children:[(0,Zb.jsxs)("td",{className:"coral-name-cell",children:[(0,Zb.jsx)("div",{className:"coral-name-label",children:(0,Zb.jsx)("b",{children:"Favia Name:"})}),(0,Zb.jsx)("div",{className:"coral-name-value",children:r})]}),(0,Zb.jsxs)("td",{className:"last-edited-cell",children:["Last Edited: ",i.lastEdited,(0,Zb.jsx)("br",{}),"Edited by: ",i.editedBy]}),(0,Zb.jsxs)("td",{className:"modal-buttons-cell",children:[(0,Zb.jsx)("button",{className:"modal-button",onClick:a,children:"Edit"}),(0,Zb.jsx)("button",{className:"modal-button",onClick:s,children:"Close"})]})]}),(0,Zb.jsx)("tr",{children:(0,Zb.jsx)("td",{colSpan:"3",className:"modal-description-cell",children:(0,Zb.jsx)("p",{children:n})})})]})})]})}):null},M=e=>{let{url:n,description:r,imageAquascapeType:i,lastEdited:s,onClose:a,onSaveEdit:o,imageId:l}=e;const[c,u]=(0,t.useState)(r),[d,h]=(0,t.useState)(i);(0,t.useEffect)((()=>{u(r),h(i)}),[r,i]);return(0,Zb.jsx)("div",{className:"modal-box",onClick:a,children:(0,Zb.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Zb.jsx)("div",{className:"modal-img",children:(0,Zb.jsx)("img",{src:n,alt:"Full Size"})}),(0,Zb.jsx)("table",{className:"modal-info-table",children:(0,Zb.jsxs)("tbody",{children:[(0,Zb.jsxs)("tr",{children:[(0,Zb.jsxs)("td",{className:"coral-name-cell",children:[(0,Zb.jsx)("p",{children:(0,Zb.jsx)("b",{children:"Favia Name:"})}),(0,Zb.jsx)("input",{type:"text",value:d,onChange:e=>h(e.target.value),className:"modal-edit-coral-name-input"})]}),(0,Zb.jsxs)("td",{className:"last-edited-cell",children:["Last Edited: ",s.lastEdited,(0,Zb.jsx)("br",{}),"Edited by: ",s.editedBy]}),(0,Zb.jsxs)("td",{className:"modal-buttons-cell",children:[(0,Zb.jsx)("button",{className:"modal-button",onClick:()=>{c&&d?x?(o(x,c,d),a()):alert("Error: Image ID is missing."):alert("Please fill out all fields before saving.")},children:"Save"}),(0,Zb.jsx)("button",{className:"modal-button",onClick:a,children:"Dismiss"})]})]}),(0,Zb.jsx)("tr",{children:(0,Zb.jsx)("td",{colSpan:"3",className:"modal-description-cell",children:(0,Zb.jsx)("textarea",{value:c,onChange:e=>u(e.target.value),className:"modal-edit-description-input"})})})]})})]})})};(0,t.useEffect)((()=>{(async()=>{try{const e=np(Jb,"favia"),t=await Kp(e);let n=[];for(const r of t.docs){const e=r.data();let t=e.lastEditedBy||Xb.currentUser.displayName||"Unknown";e.lastEditedBy||await Wp(r.ref,{lastEditedBy:t}),n.push({id:r.id,...e,description:e.description||"",lastEdited:e.lastEdited?e.lastEdited.toDate():new Date,lastEditedBy:t})}n.sort(((e,t)=>t.lastEdited-e.lastEdited)),i(n)}catch(e){console.error("Error fetching images:",e)}})()}),[]),(0,t.useEffect)((()=>{const e=Xb.onAuthStateChanged((e=>{b(e||null)}));return()=>e()}),[]),(0,t.useEffect)((()=>{const e=Xb.onAuthStateChanged((e=>{console.log("Auth State Changed: ",e),b(e)}));return()=>e()}),[]);return(0,Zb.jsxs)("div",{className:"page-main-box",children:[s&&(0,Zb.jsx)(L,{url:c,description:d,imageAquascapeType:m,lastEdited:f,onClose:()=>a(!1),onEdit:()=>{l(!0),a(!1)},imageId:x}),o&&(0,Zb.jsx)(M,{url:c,description:d,imageAquascapeType:m,lastEdited:f,onSaveEdit:async(e,t,n)=>{if(console.log("onSaveEdit params:",{imageId:e,description:t,aquascapeType:n}),!e||void 0===t||void 0===n){let r="";return e||(r+="Image ID "),void 0===t&&(r+="Description "),void 0===n&&(r+="Aquascape Type "),void alert("Cannot save changes: Missing information (".concat(r.trim(),")"))}try{const s=w&&w.email||"Unknown",o=rp(Jb,"favia",e);await Wp(o,{description:t,aquascapeType:n,lastEdited:new Date,lastEditedBy:s}),alert("Changes saved successfully!"),i((r=>r.map((r=>r.id===e?{...r,description:t,aquascapeType:n,lastEditedBy:s,lastEdited:new Date}:r))));try{const t=rp(Jb,"favia",e),n=await qp(t);if(n.exists()){const e=n.data();h(e.description),g(e.aquascapeType)}else console.log("Document not found after update.")}catch(r){console.error("Error refetching the updated document:",r)}a(!0),l(!1)}catch(r){console.error("Error saving changes: ",r),alert("Failed to save changes: "+r.message)}},onClose:()=>{l(!1),a(!0)}}),(0,Zb.jsx)("div",{className:"page-images-list",children:R.map(((e,t)=>(0,Zb.jsxs)("div",{className:"page-image-container",children:[(0,Zb.jsx)("img",{src:e.url,className:"page-img-grid",onClick:()=>(async e=>{try{const t=rp(Jb,"favia",e.id),n=await qp(t);if(n.exists()){const t=n.data();console.log("Fetched data for image click:",t),u(e.url),h(t.description),g(t.aquascapeType);let r="";t.lastEdited&&t.lastEdited.toDate instanceof Function&&(r=t.lastEdited.toDate().toLocaleString()),p({editedBy:t.lastEditedBy,lastEdited:r}),I(e.id),a(!0)}else console.log("No such document!")}catch(t){console.error("Error getting document:",t)}})(e)}),(0,Zb.jsx)("button",{className:"page-btn",onClick:()=>(async(e,t,n)=>{if(console.log("Attempting to delete image with Name:",t),t.startsWith("Aquascape Ideas/")&&(t=t.replace("Aquascape Ideas/","")),window.confirm("Are you sure you want to delete this image?"))try{const s=ng(Yb,"Aquascape Ideas/".concat(t));if(await tg(s),!n){const t=rp(Jb,"favia",e);await Gp(t)}i(r.filter((e=>e.imageName!==t))),alert("Image deleted successfully.")}catch(s){console.error("Error deleting image:",s),alert("Failed to delete image: "+s.message)}})(e.id,e.imageName),children:"Delete"})]},e.imageName)))}),(0,Zb.jsxs)("div",{className:"pagination",children:[(0,Zb.jsx)("button",{onClick:()=>A((e=>e>1?e-1:e)),children:"Prev"}),(0,Zb.jsxs)("span",{children:["Page ",N," of ",j]}),(0,Zb.jsx)("button",{onClick:()=>A((e=>e<j?e+1:e)),children:"Next"})]})]})},TE=()=>{const[e,n]=(0,t.useState)(null),[r,i]=(0,t.useState)([]),[s,a]=(0,t.useState)(!1),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(""),[f,p]=(0,t.useState)(null),[m,g]=(0,t.useState)(""),[v,y]=(0,t.useState)({}),[w,b]=(0,t.useState)(null),[E,_]=(0,t.useState)(""),[S,k]=(0,t.useState)(""),[T,C]=(0,t.useState)(""),[x,I]=(0,t.useState)(null),[N,A]=(0,t.useState)(1),D=12*N,P=D-12,R=r.slice(P,D),O=r.length,j=Math.ceil(O/12),L=e=>{let{url:t,description:n,imageAquascapeType:r,lastEdited:i,onClose:s,onEdit:a}=e;return t?(0,Zb.jsx)("div",{className:"modal-box",onClick:s,children:(0,Zb.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Zb.jsx)("div",{className:"modal-img",children:(0,Zb.jsx)("img",{src:t,alt:"Full Size"})}),(0,Zb.jsx)("table",{className:"modal-info-table",children:(0,Zb.jsxs)("tbody",{children:[(0,Zb.jsxs)("tr",{children:[(0,Zb.jsxs)("td",{className:"coral-name-cell",children:[(0,Zb.jsx)("div",{className:"coral-name-label",children:(0,Zb.jsx)("b",{children:"Aquascape Type:"})}),(0,Zb.jsx)("div",{className:"coral-name-value",children:r})]}),(0,Zb.jsxs)("td",{className:"last-edited-cell",children:["Last Edited: ",i.lastEdited,(0,Zb.jsx)("br",{}),"Edited by: ",i.editedBy]}),(0,Zb.jsxs)("td",{className:"modal-buttons-cell",children:[(0,Zb.jsx)("button",{className:"modal-button",onClick:a,children:"Edit"}),(0,Zb.jsx)("button",{className:"modal-button",onClick:s,children:"Close"})]})]}),(0,Zb.jsx)("tr",{children:(0,Zb.jsx)("td",{colSpan:"3",className:"modal-description-cell",children:(0,Zb.jsx)("p",{children:n})})})]})})]})}):null},M=e=>{let{url:n,description:r,imageAquascapeType:i,lastEdited:s,onClose:a,onSaveEdit:o,imageId:l}=e;const[c,u]=(0,t.useState)(r),[d,h]=(0,t.useState)(i);(0,t.useEffect)((()=>{u(r),h(i)}),[r,i]);return(0,Zb.jsx)("div",{className:"modal-box",onClick:a,children:(0,Zb.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Zb.jsx)("div",{className:"modal-img",children:(0,Zb.jsx)("img",{src:n,alt:"Full Size"})}),(0,Zb.jsx)("table",{className:"modal-info-table",children:(0,Zb.jsxs)("tbody",{children:[(0,Zb.jsxs)("tr",{children:[(0,Zb.jsxs)("td",{className:"coral-name-cell",children:[(0,Zb.jsx)("p",{children:(0,Zb.jsx)("b",{children:"Aquascape Type:"})}),(0,Zb.jsx)("input",{type:"text",value:d,onChange:e=>h(e.target.value),className:"modal-edit-coral-name-input"})]}),(0,Zb.jsxs)("td",{className:"last-edited-cell",children:["Last Edited: ",s.lastEdited,(0,Zb.jsx)("br",{}),"Edited by: ",s.editedBy]}),(0,Zb.jsxs)("td",{className:"modal-buttons-cell",children:[(0,Zb.jsx)("button",{className:"modal-button",onClick:()=>{c&&d?x?(o(x,c,d),a()):alert("Error: Image ID is missing."):alert("Please fill out all fields before saving.")},children:"Save"}),(0,Zb.jsx)("button",{className:"modal-button",onClick:a,children:"Dismiss"})]})]}),(0,Zb.jsx)("tr",{children:(0,Zb.jsx)("td",{colSpan:"3",className:"modal-description-cell",children:(0,Zb.jsx)("textarea",{value:c,onChange:e=>u(e.target.value),className:"modal-edit-description-input"})})})]})})]})})};(0,t.useEffect)((()=>{(async()=>{try{const e=np(Jb,"aquascapes"),t=await Kp(e);let n=[];for(const r of t.docs){const e=r.data();let t=e.lastEditedBy||Xb.currentUser.displayName||"Unknown";e.lastEditedBy||await Wp(r.ref,{lastEditedBy:t}),n.push({id:r.id,...e,description:e.description||"",lastEdited:e.lastEdited?e.lastEdited.toDate():new Date,lastEditedBy:t})}n.sort(((e,t)=>t.lastEdited-e.lastEdited)),i(n)}catch(e){console.error("Error fetching images:",e)}})()}),[]),(0,t.useEffect)((()=>{const e=Xb.onAuthStateChanged((e=>{b(e||null)}));return()=>e()}),[]),(0,t.useEffect)((()=>{const e=Xb.onAuthStateChanged((e=>{console.log("Auth State Changed: ",e),b(e)}));return()=>e()}),[]);return(0,Zb.jsxs)("div",{className:"page-main-box",children:[s&&(0,Zb.jsx)(L,{url:c,description:d,imageAquascapeType:m,lastEdited:f,onClose:()=>a(!1),onEdit:()=>{l(!0),a(!1)},imageId:x}),o&&(0,Zb.jsx)(M,{url:c,description:d,imageAquascapeType:m,lastEdited:f,onSaveEdit:async(e,t,n)=>{if(console.log("onSaveEdit params:",{imageId:e,description:t,aquascapeType:n}),!e||void 0===t||void 0===n){let r="";return e||(r+="Image ID "),void 0===t&&(r+="Description "),void 0===n&&(r+="Aquascape Type "),void alert("Cannot save changes: Missing information (".concat(r.trim(),")"))}try{const s=w&&w.email||"Unknown",o=rp(Jb,"aquascapes",e);await Wp(o,{description:t,aquascapeType:n,lastEdited:new Date,lastEditedBy:s}),alert("Changes saved successfully!"),i((r=>r.map((r=>r.id===e?{...r,description:t,aquascapeType:n,lastEditedBy:s,lastEdited:new Date}:r))));try{const t=rp(Jb,"aquascapes",e),n=await qp(t);if(n.exists()){const e=n.data();h(e.description),g(e.aquascapeType)}else console.log("Document not found after update.")}catch(r){console.error("Error refetching the updated document:",r)}a(!0),l(!1)}catch(r){console.error("Error saving changes: ",r),alert("Failed to save changes: "+r.message)}},onClose:()=>{l(!1),a(!0)}}),(0,Zb.jsx)("div",{className:"page-images-list",children:R.map(((e,t)=>(0,Zb.jsxs)("div",{className:"page-image-container",children:[(0,Zb.jsx)("img",{src:e.url,className:"page-img-grid",onClick:()=>(async e=>{try{const t=rp(Jb,"aquascapes",e.id),n=await qp(t);if(n.exists()){const t=n.data();console.log("Fetched data for image click:",t),u(e.url),h(t.description),g(t.aquascapeType);let r="";t.lastEdited&&t.lastEdited.toDate instanceof Function&&(r=t.lastEdited.toDate().toLocaleString()),p({editedBy:t.lastEditedBy,lastEdited:r}),I(e.id),a(!0)}else console.log("No such document!")}catch(t){console.error("Error getting document:",t)}})(e)}),(0,Zb.jsx)("button",{className:"page-btn",onClick:()=>(async(e,t,n)=>{if(console.log("Attempting to delete image with Name:",t),t.startsWith("Aquascape Ideas/")&&(t=t.replace("Aquascape Ideas/","")),window.confirm("Are you sure you want to delete this image?"))try{const s=ng(Yb,"Aquascape Ideas/".concat(t));if(await tg(s),!n){const t=rp(Jb,"aquascapes",e);await Gp(t)}i(r.filter((e=>e.imageName!==t))),alert("Image deleted successfully.")}catch(s){console.error("Error deleting image:",s),alert("Failed to delete image: "+s.message)}})(e.id,e.imageName),children:"Delete"})]},e.imageName)))}),(0,Zb.jsxs)("div",{className:"pagination",children:[(0,Zb.jsx)("button",{onClick:()=>A((e=>e>1?e-1:e)),children:"Prev"}),(0,Zb.jsxs)("span",{children:["Page ",N," of ",j]}),(0,Zb.jsx)("button",{onClick:()=>A((e=>e<j?e+1:e)),children:"Next"})]})]})},CE=()=>{const[e,n]=(0,t.useState)(null),[r,i]=(0,t.useState)([]),[s,a]=(0,t.useState)(!1),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(""),[f,p]=(0,t.useState)(null),[m,g]=(0,t.useState)(""),[v,y]=(0,t.useState)({}),[w,b]=(0,t.useState)(null),[E,_]=(0,t.useState)(""),[S,k]=(0,t.useState)(""),[T,C]=(0,t.useState)(""),[x,I]=(0,t.useState)(null),[N,A]=(0,t.useState)(1),D=12*N,P=D-12,R=r.slice(P,D),O=r.length,j=Math.ceil(O/12),L=e=>{let{url:t,description:n,imageAquascapeType:r,lastEdited:i,onClose:s,onEdit:a}=e;return t?(0,Zb.jsx)("div",{className:"modal-box",onClick:s,children:(0,Zb.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Zb.jsx)("div",{className:"modal-img",children:(0,Zb.jsx)("img",{src:t,alt:"Full Size"})}),(0,Zb.jsx)("table",{className:"modal-info-table",children:(0,Zb.jsxs)("tbody",{children:[(0,Zb.jsxs)("tr",{children:[(0,Zb.jsxs)("td",{className:"coral-name-cell",children:[(0,Zb.jsx)("div",{className:"coral-name-label",children:(0,Zb.jsx)("b",{children:"Placement Type:"})}),(0,Zb.jsx)("div",{className:"coral-name-value",children:r})]}),(0,Zb.jsxs)("td",{className:"last-edited-cell",children:["Last Edited: ",i.lastEdited,(0,Zb.jsx)("br",{}),"Edited by: ",i.editedBy]}),(0,Zb.jsxs)("td",{className:"modal-buttons-cell",children:[(0,Zb.jsx)("button",{className:"modal-button",onClick:a,children:"Edit"}),(0,Zb.jsx)("button",{className:"modal-button",onClick:s,children:"Close"})]})]}),(0,Zb.jsx)("tr",{children:(0,Zb.jsx)("td",{colSpan:"3",className:"modal-description-cell",children:(0,Zb.jsx)("p",{children:n})})})]})})]})}):null},M=e=>{let{url:n,description:r,imageAquascapeType:i,lastEdited:s,onClose:a,onSaveEdit:o,imageId:l}=e;const[c,u]=(0,t.useState)(r),[d,h]=(0,t.useState)(i);(0,t.useEffect)((()=>{u(r),h(i)}),[r,i]);return(0,Zb.jsx)("div",{className:"modal-box",onClick:a,children:(0,Zb.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Zb.jsx)("div",{className:"modal-img",children:(0,Zb.jsx)("img",{src:n,alt:"Full Size"})}),(0,Zb.jsx)("table",{className:"modal-info-table",children:(0,Zb.jsxs)("tbody",{children:[(0,Zb.jsxs)("tr",{children:[(0,Zb.jsxs)("td",{className:"coral-name-cell",children:[(0,Zb.jsx)("p",{children:(0,Zb.jsx)("b",{children:"Placement Type:"})}),(0,Zb.jsx)("input",{type:"text",value:d,onChange:e=>h(e.target.value),className:"modal-edit-coral-name-input"})]}),(0,Zb.jsxs)("td",{className:"last-edited-cell",children:["Last Edited: ",s.lastEdited,(0,Zb.jsx)("br",{}),"Edited by: ",s.editedBy]}),(0,Zb.jsxs)("td",{className:"modal-buttons-cell",children:[(0,Zb.jsx)("button",{className:"modal-button",onClick:()=>{c&&d?x?(o(x,c,d),a()):alert("Error: Image ID is missing."):alert("Please fill out all fields before saving.")},children:"Save"}),(0,Zb.jsx)("button",{className:"modal-button",onClick:a,children:"Dismiss"})]})]}),(0,Zb.jsx)("tr",{children:(0,Zb.jsx)("td",{colSpan:"3",className:"modal-description-cell",children:(0,Zb.jsx)("textarea",{value:c,onChange:e=>u(e.target.value),className:"modal-edit-description-input"})})})]})})]})})};(0,t.useEffect)((()=>{(async()=>{try{const e=np(Jb,"fishtankfurniture"),t=await Kp(e);let n=[];for(const r of t.docs){const e=r.data();let t=e.lastEditedBy||Xb.currentUser.displayName||"Unknown";e.lastEditedBy||await Wp(r.ref,{lastEditedBy:t}),n.push({id:r.id,...e,description:e.description||"",lastEdited:e.lastEdited?e.lastEdited.toDate():new Date,lastEditedBy:t})}n.sort(((e,t)=>t.lastEdited-e.lastEdited)),i(n)}catch(e){console.error("Error fetching images:",e)}})()}),[]),(0,t.useEffect)((()=>{const e=Xb.onAuthStateChanged((e=>{b(e||null)}));return()=>e()}),[]),(0,t.useEffect)((()=>{const e=Xb.onAuthStateChanged((e=>{console.log("Auth State Changed: ",e),b(e)}));return()=>e()}),[]);return(0,Zb.jsxs)("div",{className:"page-main-box",children:[s&&(0,Zb.jsx)(L,{url:c,description:d,imageAquascapeType:m,lastEdited:f,onClose:()=>a(!1),onEdit:()=>{l(!0),a(!1)},imageId:x}),o&&(0,Zb.jsx)(M,{url:c,description:d,imageAquascapeType:m,lastEdited:f,onSaveEdit:async(e,t,n)=>{if(console.log("onSaveEdit params:",{imageId:e,description:t,aquascapeType:n}),!e||void 0===t||void 0===n){let r="";return e||(r+="Image ID "),void 0===t&&(r+="Description "),void 0===n&&(r+="Aquascape Type "),void alert("Cannot save changes: Missing information (".concat(r.trim(),")"))}try{const s=w&&w.email||"Unknown",o=rp(Jb,"fishtankfurniture",e);await Wp(o,{description:t,aquascapeType:n,lastEdited:new Date,lastEditedBy:s}),alert("Changes saved successfully!"),i((r=>r.map((r=>r.id===e?{...r,description:t,aquascapeType:n,lastEditedBy:s,lastEdited:new Date}:r))));try{const t=rp(Jb,"fishtankfurniture",e),n=await qp(t);if(n.exists()){const e=n.data();h(e.description),g(e.aquascapeType)}else console.log("Document not found after update.")}catch(r){console.error("Error refetching the updated document:",r)}a(!0),l(!1)}catch(r){console.error("Error saving changes: ",r),alert("Failed to save changes: "+r.message)}},onClose:()=>{l(!1),a(!0)}}),(0,Zb.jsx)("div",{className:"page-images-list",children:R.map(((e,t)=>(0,Zb.jsxs)("div",{className:"page-image-container",children:[(0,Zb.jsx)("img",{src:e.url,className:"page-img-grid",onClick:()=>(async e=>{try{const t=rp(Jb,"fishtankfurniture",e.id),n=await qp(t);if(n.exists()){const t=n.data();console.log("Fetched data for image click:",t),u(e.url),h(t.description),g(t.aquascapeType);let r="";t.lastEdited&&t.lastEdited.toDate instanceof Function&&(r=t.lastEdited.toDate().toLocaleString()),p({editedBy:t.lastEditedBy,lastEdited:r}),I(e.id),a(!0)}else console.log("No such document!")}catch(t){console.error("Error getting document:",t)}})(e)}),(0,Zb.jsx)("button",{className:"page-btn",onClick:()=>(async(e,t,n)=>{if(console.log("Attempting to delete image with Name:",t),t.startsWith("Aquascape Ideas/")&&(t=t.replace("Aquascape Ideas/","")),window.confirm("Are you sure you want to delete this image?"))try{const s=ng(Yb,"Aquascape Ideas/".concat(t));if(await tg(s),!n){const t=rp(Jb,"fishtankfurniture",e);await Gp(t)}i(r.filter((e=>e.imageName!==t))),alert("Image deleted successfully.")}catch(s){console.error("Error deleting image:",s),alert("Failed to delete image: "+s.message)}})(e.id,e.imageName),children:"Delete"})]},e.imageName)))}),(0,Zb.jsxs)("div",{className:"pagination",children:[(0,Zb.jsx)("button",{onClick:()=>A((e=>e>1?e-1:e)),children:"Prev"}),(0,Zb.jsxs)("span",{children:["Page ",N," of ",j]}),(0,Zb.jsx)("button",{onClick:()=>A((e=>e<j?e+1:e)),children:"Next"})]})]})},xE=()=>{const[e,n]=(0,t.useState)(null),[r,i]=(0,t.useState)(!1),[s,a]=(0,t.useState)(!0),o=J(),l=$();return(0,t.useEffect)((()=>{const e=function(e,t,n,r){return Qe(e).onAuthStateChanged(t,n,r)}(Xb,(e=>{console.log("Auth state changed: ",e),n(e),a(!1)}));return()=>e()}),[]),(0,t.useEffect)((()=>{if(!s){const t=l.pathname.split("/").pop();console.log("Current Path Segment:",t);const n=["homepage","index","scoly","chalice","signup","monti","mushroom","nps","zoas","acro","favia","fishtank","aquascape"];e||["index","signup","homepage","index","scoly","chalice","signup","monti","mushroom","nps","zoas","acro","favia","fishtank","aquascape"].includes(t)?e&&!n.includes(t)&&(console.log("Authorized but wrong path - redirecting to homepage"),o("/corals/homepage",{replace:!0})):(console.log("Unauthorized access - redirecting to index"),o("/corals/index",{replace:!0}))}}),[e,l.pathname,o,s]),s?(0,Zb.jsx)("div",{children:"Loading..."}):(0,Zb.jsxs)("div",{className:"coral-main-page-container",children:[(0,Zb.jsx)(eE,{user:e,onToggleDarkMode:()=>{i(!r),document.body.classList.toggle("dark-mode")},onNavigate:o}),(0,Zb.jsxs)(fe,{children:[(0,Zb.jsx)(de,{path:"index",element:(0,Zb.jsx)(mE,{})}),(0,Zb.jsx)(de,{path:"homepage",element:(0,Zb.jsx)(mE,{})}),(0,Zb.jsx)(de,{path:"acro",element:e?(0,Zb.jsx)(SE,{}):(0,Zb.jsx)(ue,{replace:!0,to:"/corals/index"})}),(0,Zb.jsx)(de,{path:"favia",element:e?(0,Zb.jsx)(kE,{}):(0,Zb.jsx)(ue,{replace:!0,to:"/corals/index"})}),(0,Zb.jsx)(de,{path:"chalice",element:e?(0,Zb.jsx)(vE,{}):(0,Zb.jsx)(ue,{replace:!0,to:"/corals/index"})}),(0,Zb.jsx)(de,{path:"scoly",element:e?(0,Zb.jsx)(EE,{}):(0,Zb.jsx)(ue,{replace:!0,to:"/corals/index"})}),(0,Zb.jsx)(de,{path:"monti",element:e?(0,Zb.jsx)(yE,{}):(0,Zb.jsx)(ue,{replace:!0,to:"/corals/index"})}),(0,Zb.jsx)(de,{path:"mushroom",element:e?(0,Zb.jsx)(wE,{}):(0,Zb.jsx)(ue,{replace:!0,to:"/corals/index"})}),(0,Zb.jsx)(de,{path:"nps",element:e?(0,Zb.jsx)(bE,{}):(0,Zb.jsx)(ue,{replace:!0,to:"/corals/index"})}),(0,Zb.jsx)(de,{path:"zoas",element:e?(0,Zb.jsx)(_E,{}):(0,Zb.jsx)(ue,{replace:!0,to:"/corals/index"})}),(0,Zb.jsx)(de,{path:"fishtank",element:e?(0,Zb.jsx)(CE,{}):(0,Zb.jsx)(ue,{replace:!0,to:"/corals/index"})}),(0,Zb.jsx)(de,{path:"aquascape",element:e?(0,Zb.jsx)(TE,{}):(0,Zb.jsx)(ue,{replace:!0,to:"/corals/index"})}),(0,Zb.jsx)(de,{path:"signup",element:(0,Zb.jsx)(gE,{})}),(0,Zb.jsx)(de,{path:"*",element:(0,Zb.jsx)(ue,{replace:!0,to:"/corals/index"})})]}),(0,Zb.jsx)(tE,{})]})};var IE=n(950),NE=n.t(IE,2);new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(LE){}new Map;const AE=r.startTransition;NE.flushSync,r.useId;function DE(e){let{basename:n,children:r,future:i,window:s}=e,a=t.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),f((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return u("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:d(t)}),null,o)));let l=a.current,[c,h]=t.useState({action:l.action,location:l.location}),{v7_startTransition:p}=i||{},m=t.useCallback((e=>{p&&AE?AE((()=>h(e))):h(e)}),[h,p]);return t.useLayoutEffect((()=>l.listen(m)),[l,m]),t.createElement(he,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:l,future:i})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var PE,RE;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(PE||(PE={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(RE||(RE={}));const OE=function(){return(0,Zb.jsx)(DE,{children:(0,Zb.jsx)("div",{className:"App",children:(0,Zb.jsxs)(fe,{children:[(0,Zb.jsx)(de,{path:"/",element:(0,Zb.jsx)(ue,{replace:!0,to:"/corals/index"})}),(0,Zb.jsx)(de,{path:"/corals/*",element:(0,Zb.jsx)(xE,{})})]})})})},jE=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:a}=t;n(e),r(e),i(e),s(e),a(e)}))};i.createRoot(document.getElementById("root")).render((0,Zb.jsx)(t.StrictMode,{children:(0,Zb.jsx)(OE,{})})),jE()})()})();
//# sourceMappingURL=main.17755e69.js.map